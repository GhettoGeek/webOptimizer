<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3>weboptimizer 1.0.227</h3>










    




    <section>
        <article><!-- !/usr/bin/env markdown
-*- coding: utf-8 -*- -->
<!-- region header
Copyright Torben Sickert 16.12.2012

License
-------

This library written by Torben Sickert stand under a creative commons naming
3.0 unported license. see http://creativecommons.org/licenses/by/3.0/deed.de
endregion -->
<h2>Use case</h2><p>The main goal of This plugin is providing an generic module bundler and
workflow for all you development use cases in any project related to the web or
node. All native web types like html, css and JavaScript are supported natively
in their latest language specification through preconfigured transpiler.</p>
<h2>Content</h2><!--Place for automatic generated table of contents.-->
<p>[TOC]</p>
<h2>Features</h2><ul>
<li>Complete and flexible configured wrapper for <strong>webpack2+</strong> with many
automatically determined pre configuration.</li>
<li><strong>Completely</strong> adaptable for your needs.</li>
<li>Targets <strong>library</strong> and <strong>web</strong> bundle building out of the box.</li>
<li>Only one configuration file (your already existing <strong>package.json</strong>) for all
needed customisations.</li>
<li>Many needed uses-cases are <strong>preconfigured</strong> and mostly works out of the box for
your project.<ul>
<li><strong>API-Documentation</strong> generation</li>
<li>Image <strong>sprite</strong> handling. Combine your images and never create sprites
by hand again.</li>
<li>Polymorphic <strong>testing</strong> on dom in browsers and/or in node through
weboptimizer/browserAPI</li>
<li><strong>Linting</strong> and <strong>TypeChecking</strong> with Flow</li>
<li>Preconfigured <strong>preprocessing</strong> for CSS (PostCSS), JavaScript (Babel,
Flow)</li>
<li>Preconfigured <strong>postprocessing</strong> for CSS (Minification),
JavaScript (Minification), Images (Compression)</li>
<li>Various pre configured and adaptable implemented concepts for building
development-, production-, testing- and/or vendor <strong>bundles</strong>.</li>
<li>Support for building <strong>libraries</strong> with well defined (UMD) external
dependencies (preconfigred extendable weback configuration)</li>
<li>Support for building and <strong>shimming</strong> a whole package managed application
structure to build for various target environments like browsers or node
(preconfigred extensable weback configuration)</li>
<li>Generic management for dealing with <strong>DLL-Bundle</strong> to speed up any
workflows: Each (pre-)defined chunk can be outsourced to a DLL-Bundle in
a complete delclarative and generic way.</li>
<li>Generic support for all known <strong>favicon</strong> types using only one png file as
source (watching, compressing and auto-generating integrated)</li>
<li>Brings <strong>offline</strong> support though service worker and/or html5 manifest to
your application without any manual intervention needed!</li>
<li>Many development helper:<ul>
<li>Automatic watching and (re-)building any assets through cross
platform file watching</li>
<li>Preconfigured local webserver with websocket connections to
<strong>livereload</strong> you browser when any asset has changed
(webpack-dev-server).</li>
<li>Preconfigured <strong>hot module replacement</strong> integration to update parts
of your library/application with no siteeffects in a generic way
without even the need to refresh your browser</li>
<li>Automaticaly watch and integrate any <strong>css updates</strong> trough hot
module replacements in app which will be shiped through the
development server.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2>Installation</h2><p>Edit your <strong>package.json</strong> to add <strong>one</strong> dependency:</p>
<pre class="prettyprint source"><code>#!JSON

...
&quot;dependencies&quot;: {
    ...
    &quot;weboptimizer&quot;: &quot;latest&quot;,
    ...
},
...</code></pre><p>Update your <strong>packages</strong> via npm and have fun:</p>
<pre class="prettyprint source"><code>npm update</code></pre><h2>Configuration</h2><p>First you should specify some tasks/use-cases you want to have in you project.
You can do this in your <strong>package.json</strong>. All supported scripts and some useful
compositions are listed below:</p>
<pre class="prettyprint source"><code>#!JSON

...
&quot;scripts&quot;: {
    ...
    &quot;build&quot;: &quot;webOptimizer build&quot;,
    &quot;buildDLL&quot;: &quot;webOptimizer buildDLL&quot;,
    &quot;buildDebugWithDLL&quot;: &quot;webOptimizer buildDLL -debug && webOptimizer build -debug&quot;,
    &quot;buildWithStats&quot;: &quot;webOptimizer build --profile --json >/tmp/stat.json && echo 'Results successfully written to \&quot;/tmp/stat.json\&quot;.'&quot;,
    &quot;clear&quot;: &quot;webOptimizer clear&quot;,
    &quot;document&quot;: &quot;webOptimizer document&quot;,
    &quot;lint&quot;: &quot;webOptimizer typeCheck && webOptimizer lint&quot;,
    &quot;postinstall&quot;: &quot;webOptimizer build&quot;,
    &quot;preinstall&quot;: &quot;webOptimizer preinstall&quot;,
    &quot;serve&quot;: &quot;webOptimizer serve&quot;,
    &quot;start&quot;: &quot;npm run serve&quot;,
    &quot;test&quot;: &quot;webOptimizer test&quot;,
    &quot;testInBrowser&quot;: &quot;webOptimizer testInBrowser&quot;,
    &quot;watch&quot;: &quot;webOptimizer build --watch&quot;,
    &quot;watchDLL&quot;: &quot;webOptimizer buildDLL --watch&quot;
    ...
},
...</code></pre><p>You can easily run any specified script via npm's command lint interface:</p>
<pre class="prettyprint source"><code>#!bash

npm run build -debug
npm run lint
npm run watch -debug
npm run serve
...</code></pre><p>If you want to configure your app for example to change any of the expected
default source, target, asset or build paths do it in your <strong>package.json</strong>:</p>
<pre class="prettyprint source"><code>#!JSON

...
&quot;webOptimizer&quot;: {
    ...
    &quot;path&quot;: {
        ...
        &quot;apiDocumentation&quot;: &quot;apiDocumentation/&quot;,
        &quot;source&quot;: {
            ...
            &quot;asset&quot;: {
                ...
                &quot;cascadingStyleSheet&quot;: &quot;cascadingStyleSheet/&quot;,
                &quot;data&quot;: &quot;data/&quot;,
                &quot;favicon&quot;: &quot;favicon.png&quot;,
                &quot;font&quot;: &quot;font/&quot;,
                &quot;image&quot;: &quot;image/&quot;,
                &quot;javaScript&quot;: &quot;javaScript/&quot;,
                &quot;publicTarget&quot;: &quot;&quot;,
                &quot;template&quot;: &quot;template/&quot;
                ..
            },
            ...
        },
        &quot;ignore&quot;: [&quot;node_modules&quot;, &quot;.git&quot;],
        &quot;manifest&quot;: &quot;manifest.appcache&quot;,
        &quot;target&quot;: {
            ...
            &quot;base&quot;: &quot;build/&quot;,
            ...
        },
        &quot;tidyUp&quot;: [&quot;crap&quot;],
        ...
    },
    ...
},
...</code></pre><p>It's recommended to first specify if you're writing a library (preserve
external dependencies not managed within current project) or an application
(everything should be bundled including external libraries) since many
preconfigurations are targeting on this two different use cases. Anyway you can
customize each configure by hand in each case.</p>
<pre class="prettyprint source"><code>#!JSON

...
&quot;webOptimizer&quot;: {
    ...
    &quot;library&quot;: false,
    ...
},
...</code></pre><p>You can even reference any value or evaluate any configuration value
dynamically though a complete JavaScript compatible evaluation mechanism:</p>
<pre class="prettyprint source"><code>#!JSON

...
&quot;webOptimizer&quot;: {
    ...
    &quot;path&quot;: {
        ...
        &quot;source&quot;: {
            ...
            &quot;base&quot;: &quot;/&quot;,
            &quot;asset&quot;: {
                ...
                &quot;cascadingStyleSheet&quot;: &quot;cascadingStyleSheet/&quot;,
                &quot;template&quot;: {
                    &quot;__evaluate__&quot;: &quot;self.debug ? '' : self.path.source.base&quot;
                },
                ...
            },
            ...
        },
        ...
    },
    ...
    &quot;offline&quot;: {
        ...
        &quot;externals&quot;: [
            ...
            {&quot;__evaluate__&quot;: &quot;self.path.source.asset.cascadingStyleSheet&quot;},
            &quot;onlineAvailable.txt&quot;,
            ...
        ],
        ...
    },
    ...
},
...</code></pre><p>You can even execute script to determine a value:</p>
<pre class="prettyprint source"><code>#!JSON

...
&quot;webOptimizer&quot;: {
    ...
    &quot;path&quot;: {
        ...
        &quot;source&quot;: {
            ...
            &quot;base&quot;: &quot;/&quot;,
            &quot;asset&quot;: {
                ...
                &quot;template&quot;: {
                    &quot;__execute__&quot;: &quot;test = self.path.source.base; if (test.endsWith('js')) return 'bar/';return 'foo/'&quot;
                },
                ...
            },
            ...
        },
        ...
    },
    ...
},
...</code></pre><p>For all available configuration possibilities please have a look at the
<strong>package.json</strong> file in this project since these values a extended on runtime.</p>
<p>Additionally its even possible to overwrite any value on runtime via a
complete generic command line interface: The last argument should evaluate to
a javaScript object witch will be used as source for extending the default
behavior. Any JavaScript will be supported:</p>
<pre class="prettyprint source"><code>#!JSON

npm run build '{module:{preprocessor:{javaScript:{loader:&quot;babel&quot;}}}}'</code></pre><p>If you're using webOptimizer in a toolchain were none printable or none unicode
compatible symbols should be used (for example content which should replace
placeholder) you can encode your javaScript expression as base64 code:</p>
<pre class="prettyprint source"><code>#!bash

npm run build '{module:{preprocessor:{pug:{locals:{name:'häns'}}}}}'

# is the same as:

npm run build 'e21vZHVsZTp7cHJlcHJvY2Vzc29yOntwdWc6e2xvY2Fsczp7bmFtZTonaMOkbnMnfX19fX0='</code></pre><p>There is a static tools <a href="http://torben.website/clientNode">clientnode</a> and
helper instance provided to each evaluation or execution context within the
package.json (see the API-Documentation, link above, for more details):</p>
<pre class="prettyprint source"><code>#!JSON

...
&quot;webOptimizer&quot;: {
    ...
    &quot;libraryName&quot;: {&quot;__evaluate__&quot;: tools.isPlainObject(self.name) ? tools.stringConvertToValidVariableName(self.name) : 'random'},
    ...
},
...</code></pre><!-- region modline
vim: set tabstop=4 shiftwidth=4 expandtab:
vim: foldmethod=marker foldmarker=region,endregion:
endregion --></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Tue Jan 31 2017 16:05:47 GMT+0100 (CET)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>