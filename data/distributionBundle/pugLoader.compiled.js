#!/usr/bin/env node
'use strict';var _clientnode=require('clientnode'),_clientnode2=_interopRequireDefault(_clientnode),_fs=require('fs'),fileSystem=_interopRequireWildcard(_fs),_loaderUtils=require('loader-utils'),loaderUtils=_interopRequireWildcard(_loaderUtils),_pug=require('pug'),pug=_interopRequireWildcard(_pug),_configurator=require('./configurator.compiled'),_configurator2=_interopRequireDefault(_configurator),_helper=require('./helper.compiled'),_helper2=_interopRequireDefault(_helper);function _interopRequireWildcard(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}try{require('source-map-support/register')}catch(a){}module.exports=function(a){this.cacheable&&this.cacheable();const b=_clientnode2.default.convertSubstringInPlainObject(_clientnode2.default.extendObject(!0,{context:'./',extensions:{file:{external:['.js'],internal:['.js','.css','.svg','.png','.jpg','.gif','.ico','.html','.json','.eot','.ttf','.woff']},module:[]},module:{aliases:{},replacements:{}}},this.options.pug||{}),/#%%%#/g,'!'),c=(d,e=b.compiler)=>(f={})=>{e=_clientnode2.default.extendObject(!0,{filename:d,doctype:'html',compileDebug:this.debug||!1},e);let g;return e.isString?(delete e.isString,g=pug.compile(d,e)):g=pug.compileFile(d,e),g(_clientnode2.default.extendObject(!0,{configuration:_configurator2.default,require:(h)=>{console.log(),console.log('B',h),console.log();const i=h.replace(/^(.+)\?[^?]+$/,'$1'),j=h.match(/^[^?]+\?(.+)$/,'$1');let k={};if(j){k=((o,p,q,r,s)=>new Function('request','template','source','compile','locals',`return ${j[1]}`)(o,p,q,r,s))(h,i,a,c,f)}const l=_clientnode2.default.extendObject(!0,{encoding:'utf-8'},k.options||{});if(l.isString)return c(i,l)(k);const m=_helper2.default.determineModuleFilePath(i,b.module.aliases,b.module.replacements,b.extensions,b.context,_configurator2.default.path.source.asset.base,_configurator2.default.path.ignore,_configurator2.default.module.directoryNames,_configurator2.default.package.main.fileNames,_configurator2.default.package.main.propertyNames,_configurator2.default.package.aliasPropertyNames);if(m)return this.addDependency(m),j||m.endsWith('.pug')?c(m,l)(k):fileSystem.readFileSync(m,l);throw new Error(`Given template file "${i}" couldn't be resolved.`)}},f))};return console.log(),console.log('A',loaderUtils.getRemainingRequest(this)),console.log(),c(a,_clientnode2.default.extendObject(!0,{isString:!0,filename:loaderUtils.getRemainingRequest(this).replace(/^!/,'')},b.compiler||{}))(b.locals||{})};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInB1Z0xvYWRlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQSxhQWFBLHlHQUNZLFVBRFosbUVBRVksV0FGWiwyREFHWSxHQUhaLG1OLHVQQUtBLEdBQUksQ0FDQSxRQUFRLDZCQUFSLENBQ0gsQ0FBQyxRQUFjLENBQUUsQ0FTbEIsT0FBTyxPQUFQLENBQWlCLFdBQStCLENBQ3hDLEtBQUssU0FEbUMsRUFFeEMsS0FBSyxTQUFMLEVBRndDLENBRzVDLEtBQU0sR0FBZSxxQkFBTSw2QkFBTixDQUNqQixxQkFBTSxZQUFOLElBQXlCLENBQ3JCLFFBQVMsSUFEWSxDQUVyQixXQUFZLENBQ1IsS0FBTSxDQUNGLGdCQURFLENBRUYsZ0dBRkUsQ0FERSxDQU9MLFNBUEssQ0FGUyxDQVdyQixPQUFRLENBQ0osVUFESSxDQUVKLGVBRkksQ0FYYSxDQUF6QixDQWVHLEtBQUssT0FBTCxDQUFhLEdBQWIsSUFmSCxDQURpQixDQWdCVyxRQWhCWCxDQWdCcUIsR0FoQnJCLENBQXJCLENBaUJNLEVBQTBCLEdBQ1gsRUFBaUIsRUFBTSxRQURaLEdBRVYsQ0FBQyxJQUFELEdBQStCLENBQ2pELEVBQVUscUJBQU0sWUFBTixJQUF5QixDQUMvQixTQUFVLENBRHFCLENBQ1gsUUFBUyxNQURFLENBRS9CLGFBQWMsS0FBSyxLQUFMLElBRmlCLENBQXpCLENBR1AsQ0FITyxDQUR1QyxDQUtqRCxHQUFJLEVBQUosQ0FNQSxNQUxJLEdBQVEsUUFLWixFQUpJLE1BQU8sR0FBUSxRQUluQixDQUhJLEVBQW1CLElBQUksT0FBSixDQUFZLENBQVosQ0FBc0IsQ0FBdEIsQ0FHdkIsRUFESSxFQUFtQixJQUFJLFdBQUosQ0FBZ0IsQ0FBaEIsQ0FBMEIsQ0FBMUIsQ0FDdkIsQ0FBTyxFQUFpQixxQkFBTSxZQUFOLElBQXlCLENBQzdDLG9DQUQ2QyxDQUM5QixRQUFTLEtBQTJCLENBQy9DLFFBQVEsR0FBUixFQUQrQyxDQUUvQyxRQUFRLEdBQVIsQ0FBWSxHQUFaLENBQWlCLENBQWpCLENBRitDLENBRy9DLFFBQVEsR0FBUixFQUgrQyxDQUkvQyxLQUFNLEdBQWtCLEVBQVEsT0FBUixDQUFnQixlQUFoQixDQUFpQyxJQUFqQyxDQUF4QixDQUNNLEVBQTRCLEVBQVEsS0FBUixDQUM5QixlQUQ4QixDQUNiLElBRGEsQ0FEbEMsQ0FHQSxHQUFJLEtBQUosQ0FDQSxHQUFJLENBQUosQ0FBZ0IsQ0FVWixFQUFlLENBVFksYUFLdkIsR0FBSSxTQUFKLENBQ0ksU0FESixDQUNlLFVBRGYsQ0FDMkIsUUFEM0IsQ0FDcUMsU0FEckMsQ0FFSSxRQUZKLENBRWUsVUFBUyxFQUFXLENBQVgsQ0FBYyxFQUZ0QyxFQUdFLENBSEYsQ0FHVyxDQUhYLENBR3FCLENBSHJCLENBRzZCLENBSDdCLENBR3NDLENBSHRDLENBSVcsRUFDWCxDQURXLENBQ0YsQ0FERSxDQUNRLENBRFIsQ0FDZ0IsQ0FEaEIsQ0FDeUIsQ0FEekIsQ0FFbEIsQ0FDRCxLQUFNLEdBQWlCLHFCQUFNLFlBQU4sSUFBeUIsQ0FDNUMsU0FBVSxPQURrQyxDQUF6QixDQUVwQixFQUFhLE9BQWIsSUFGb0IsQ0FBdkIsQ0FHQSxHQUFJLEVBQVEsUUFBWixDQUNJLE1BQU8sR0FBUSxDQUFSLENBQWtCLENBQWxCLEVBQTJCLENBQTNCLENBQVAsQ0FDSixLQUFNLEdBQ0YsaUJBQU8sdUJBQVAsQ0FDSSxDQURKLENBQ2MsRUFBTSxNQUFOLENBQWEsT0FEM0IsQ0FFSSxFQUFNLE1BQU4sQ0FBYSxZQUZqQixDQUUrQixFQUFNLFVBRnJDLENBR0ksRUFBTSxPQUhWLENBR21CLHVCQUFjLElBQWQsQ0FBbUIsTUFBbkIsQ0FBMEIsS0FBMUIsQ0FBZ0MsSUFIbkQsQ0FJSSx1QkFBYyxJQUFkLENBQW1CLE1BSnZCLENBS0ksdUJBQWMsTUFBZCxDQUFxQixjQUx6QixDQU1JLHVCQUFjLE9BQWQsQ0FBc0IsSUFBdEIsQ0FBMkIsU0FOL0IsQ0FPSSx1QkFBYyxPQUFkLENBQXNCLElBQXRCLENBQTJCLGFBUC9CLENBUUksdUJBQWMsT0FBZCxDQUFzQixrQkFSMUIsQ0FESixDQVVBLEdBQUksQ0FBSixPQUNJLE1BQUssYUFBTCxDQUFtQixDQUFuQixDQURKLENBRVEsR0FBYyxFQUFpQixRQUFqQixDQUEwQixNQUExQixDQUZ0QixDQUdlLEVBQVEsQ0FBUixDQUEwQixDQUExQixFQUFtQyxDQUFuQyxDQUhmLENBSVcsV0FBVyxZQUFYLENBQXdCLENBQXhCLENBQTBDLENBQTFDLENBSlgsQ0FNQSxLQUFNLElBQUksTUFBSixDQUNELHdCQUF1QixDQUFTLHlCQUQvQixDQUVULENBN0M0QyxDQUF6QixDQTZDaEIsQ0E3Q2dCLENBQWpCLENBOENWLENBNUVELENBZ0ZBLE1BSEEsU0FBUSxHQUFSLEVBR0EsQ0FGQSxRQUFRLEdBQVIsQ0FBWSxHQUFaLENBQWlCLFlBQVksbUJBQVosQ0FBZ0MsSUFBaEMsQ0FBakIsQ0FFQSxDQURBLFFBQVEsR0FBUixFQUNBLENBQU8sRUFBUSxDQUFSLENBQWdCLHFCQUFNLFlBQU4sSUFBeUIsQ0FDNUMsV0FENEMsQ0FFNUMsU0FBVSxZQUFZLG1CQUFaLENBQWdDLElBQWhDLEVBQXNDLE9BQXRDLENBQThDLElBQTlDLENBQW9ELEVBQXBELENBRmtDLENBQXpCLENBR3BCLEVBQU0sUUFBTixJQUhvQixDQUFoQixFQUdtQixFQUFNLE1BQU4sSUFIbkIsQ0FJVixDIiwiZmlsZSI6InB1Z0xvYWRlci5jb21waWxlZC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLy8gQGZsb3dcbi8vIC0qLSBjb2Rpbmc6IHV0Zi04IC0qLVxuJ3VzZSBzdHJpY3QnXG4vKiAhXG4gICAgcmVnaW9uIGhlYWRlclxuICAgIENvcHlyaWdodCBUb3JiZW4gU2lja2VydCAoaW5mb1tcIn5hdH5cIl10b3JiZW4ud2Vic2l0ZSkgMTYuMTIuMjAxMlxuXG4gICAgTGljZW5zZVxuICAgIC0tLS0tLS1cblxuICAgIFRoaXMgbGlicmFyeSB3cml0dGVuIGJ5IFRvcmJlbiBTaWNrZXJ0IHN0YW5kIHVuZGVyIGEgY3JlYXRpdmUgY29tbW9ucyBuYW1pbmdcbiAgICAzLjAgdW5wb3J0ZWQgbGljZW5zZS4gc2VlIGh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LzMuMC9kZWVkLmRlXG4gICAgZW5kcmVnaW9uXG4qL1xuLy8gcmVnaW9uIGltcG9ydHNcbmltcG9ydCBUb29scyBmcm9tICdjbGllbnRub2RlJ1xuaW1wb3J0ICogYXMgZmlsZVN5c3RlbSBmcm9tICdmcydcbmltcG9ydCAqIGFzIGxvYWRlclV0aWxzIGZyb20gJ2xvYWRlci11dGlscydcbmltcG9ydCAqIGFzIHB1ZyBmcm9tICdwdWcnXG4vLyBOT1RFOiBPbmx5IG5lZWRlZCBmb3IgZGVidWdnaW5nIHRoaXMgZmlsZS5cbnRyeSB7XG4gICAgcmVxdWlyZSgnc291cmNlLW1hcC1zdXBwb3J0L3JlZ2lzdGVyJylcbn0gY2F0Y2ggKGVycm9yKSB7fVxuXG5pbXBvcnQgY29uZmlndXJhdGlvbiBmcm9tICcuL2NvbmZpZ3VyYXRvci5jb21waWxlZCdcbmltcG9ydCBIZWxwZXIgZnJvbSAnLi9oZWxwZXIuY29tcGlsZWQnXG4vLyBlbmRyZWdpb25cbi8vIHJlZ2lvbiB0eXBlc1xudHlwZSBUZW1wbGF0ZUZ1bmN0aW9uID0gKGxvY2FsczpPYmplY3QpID0+IHN0cmluZ1xudHlwZSBDb21waWxlRnVuY3Rpb24gPSAodGVtcGxhdGU6c3RyaW5nLCBvcHRpb25zOk9iamVjdCkgPT4gVGVtcGxhdGVGdW5jdGlvblxuLy8gZW5kcmVnaW9uXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHNvdXJjZTpzdHJpbmcpOnN0cmluZyB7XG4gICAgaWYgKHRoaXMuY2FjaGVhYmxlKVxuICAgICAgICB0aGlzLmNhY2hlYWJsZSgpXG4gICAgY29uc3QgcXVlcnk6T2JqZWN0ID0gVG9vbHMuY29udmVydFN1YnN0cmluZ0luUGxhaW5PYmplY3QoXG4gICAgICAgIFRvb2xzLmV4dGVuZE9iamVjdCh0cnVlLCB7XG4gICAgICAgICAgICBjb250ZXh0OiAnLi8nLFxuICAgICAgICAgICAgZXh0ZW5zaW9uczoge1xuICAgICAgICAgICAgICAgIGZpbGU6IHtcbiAgICAgICAgICAgICAgICAgICAgZXh0ZXJuYWw6IFsnLmpzJ10sXG4gICAgICAgICAgICAgICAgICAgIGludGVybmFsOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAnLmpzJywgJy5jc3MnLCAnLnN2ZycsICcucG5nJywgJy5qcGcnLCAnLmdpZicsICcuaWNvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICcuaHRtbCcsICcuanNvbicsICcuZW90JywgJy50dGYnLCAnLndvZmYnXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9LCBtb2R1bGU6IFtdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbW9kdWxlOiB7XG4gICAgICAgICAgICAgICAgYWxpYXNlczoge30sXG4gICAgICAgICAgICAgICAgcmVwbGFjZW1lbnRzOiB7fVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzLm9wdGlvbnMucHVnIHx8IHt9KSwgLyMlJSUjL2csICchJylcbiAgICBjb25zdCBjb21waWxlOkNvbXBpbGVGdW5jdGlvbiA9IChcbiAgICAgICAgdGVtcGxhdGU6c3RyaW5nLCBvcHRpb25zOk9iamVjdCA9IHF1ZXJ5LmNvbXBpbGVyXG4gICAgKTpUZW1wbGF0ZUZ1bmN0aW9uID0+IChsb2NhbHM6T2JqZWN0ID0ge30pOnN0cmluZyA9PiB7XG4gICAgICAgIG9wdGlvbnMgPSBUb29scy5leHRlbmRPYmplY3QodHJ1ZSwge1xuICAgICAgICAgICAgZmlsZW5hbWU6IHRlbXBsYXRlLCBkb2N0eXBlOiAnaHRtbCcsXG4gICAgICAgICAgICBjb21waWxlRGVidWc6IHRoaXMuZGVidWcgfHwgZmFsc2VcbiAgICAgICAgfSwgb3B0aW9ucylcbiAgICAgICAgbGV0IHRlbXBsYXRlRnVuY3Rpb246VGVtcGxhdGVGdW5jdGlvblxuICAgICAgICBpZiAob3B0aW9ucy5pc1N0cmluZykge1xuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuaXNTdHJpbmdcbiAgICAgICAgICAgIHRlbXBsYXRlRnVuY3Rpb24gPSBwdWcuY29tcGlsZSh0ZW1wbGF0ZSwgb3B0aW9ucylcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICB0ZW1wbGF0ZUZ1bmN0aW9uID0gcHVnLmNvbXBpbGVGaWxlKHRlbXBsYXRlLCBvcHRpb25zKVxuICAgICAgICByZXR1cm4gdGVtcGxhdGVGdW5jdGlvbihUb29scy5leHRlbmRPYmplY3QodHJ1ZSwge1xuICAgICAgICAgICAgY29uZmlndXJhdGlvbiwgcmVxdWlyZTogKHJlcXVlc3Q6c3RyaW5nKTpzdHJpbmcgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKClcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQicsIHJlcXVlc3QpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coKVxuICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlOnN0cmluZyA9IHJlcXVlc3QucmVwbGFjZSgvXiguKylcXD9bXj9dKyQvLCAnJDEnKVxuICAgICAgICAgICAgICAgIGNvbnN0IHF1ZXJ5TWF0Y2g6P0FycmF5PHN0cmluZz4gPSByZXF1ZXN0Lm1hdGNoKFxuICAgICAgICAgICAgICAgICAgICAvXlteP10rXFw/KC4rKSQvLCAnJDEnKVxuICAgICAgICAgICAgICAgIGxldCBuZXN0ZWRMb2NhbHM6T2JqZWN0ID0ge31cbiAgICAgICAgICAgICAgICBpZiAocXVlcnlNYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBldmFsdWF0aW9uRnVuY3Rpb24gPSAoXG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0OnN0cmluZywgdGVtcGxhdGU6c3RyaW5nLCBzb3VyY2U6c3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGlsZTpDb21waWxlRnVuY3Rpb24sIGxvY2FsczpPYmplY3RcbiAgICAgICAgICAgICAgICAgICAgKTpPYmplY3QgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZVR5cGVDaGVja1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEZ1bmN0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdyZXF1ZXN0JywgJ3RlbXBsYXRlJywgJ3NvdXJjZScsICdjb21waWxlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbG9jYWxzJywgYHJldHVybiAke3F1ZXJ5TWF0Y2hbMV19YFxuICAgICAgICAgICAgICAgICAgICAgICAgKShyZXF1ZXN0LCB0ZW1wbGF0ZSwgc291cmNlLCBjb21waWxlLCBsb2NhbHMpXG4gICAgICAgICAgICAgICAgICAgIG5lc3RlZExvY2FscyA9IGV2YWx1YXRpb25GdW5jdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3QsIHRlbXBsYXRlLCBzb3VyY2UsIGNvbXBpbGUsIGxvY2FscylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uczpPYmplY3QgPSBUb29scy5leHRlbmRPYmplY3QodHJ1ZSwge1xuICAgICAgICAgICAgICAgICAgICBlbmNvZGluZzogJ3V0Zi04J1xuICAgICAgICAgICAgICAgIH0sIG5lc3RlZExvY2Fscy5vcHRpb25zIHx8IHt9KVxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmlzU3RyaW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tcGlsZSh0ZW1wbGF0ZSwgb3B0aW9ucykobmVzdGVkTG9jYWxzKVxuICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlRmlsZVBhdGg6P3N0cmluZyA9XG4gICAgICAgICAgICAgICAgICAgIEhlbHBlci5kZXRlcm1pbmVNb2R1bGVGaWxlUGF0aChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlLCBxdWVyeS5tb2R1bGUuYWxpYXNlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5Lm1vZHVsZS5yZXBsYWNlbWVudHMsIHF1ZXJ5LmV4dGVuc2lvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWVyeS5jb250ZXh0LCBjb25maWd1cmF0aW9uLnBhdGguc291cmNlLmFzc2V0LmJhc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLnBhdGguaWdub3JlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5tb2R1bGUuZGlyZWN0b3J5TmFtZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLnBhY2thZ2UubWFpbi5maWxlTmFtZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLnBhY2thZ2UubWFpbi5wcm9wZXJ0eU5hbWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5wYWNrYWdlLmFsaWFzUHJvcGVydHlOYW1lcylcbiAgICAgICAgICAgICAgICBpZiAodGVtcGxhdGVGaWxlUGF0aCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZERlcGVuZGVuY3kodGVtcGxhdGVGaWxlUGF0aClcbiAgICAgICAgICAgICAgICAgICAgaWYgKHF1ZXJ5TWF0Y2ggfHwgdGVtcGxhdGVGaWxlUGF0aC5lbmRzV2l0aCgnLnB1ZycpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBpbGUodGVtcGxhdGVGaWxlUGF0aCwgb3B0aW9ucykobmVzdGVkTG9jYWxzKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlsZVN5c3RlbS5yZWFkRmlsZVN5bmModGVtcGxhdGVGaWxlUGF0aCwgb3B0aW9ucylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICBgR2l2ZW4gdGVtcGxhdGUgZmlsZSBcIiR7dGVtcGxhdGV9XCIgY291bGRuJ3QgYmUgcmVzb2x2ZWQuYClcbiAgICAgICAgICAgIH19LCBsb2NhbHMpKVxuICAgIH1cbiAgICBjb25zb2xlLmxvZygpXG4gICAgY29uc29sZS5sb2coJ0EnLCBsb2FkZXJVdGlscy5nZXRSZW1haW5pbmdSZXF1ZXN0KHRoaXMpKVxuICAgIGNvbnNvbGUubG9nKClcbiAgICByZXR1cm4gY29tcGlsZShzb3VyY2UsIFRvb2xzLmV4dGVuZE9iamVjdCh0cnVlLCB7XG4gICAgICAgIGlzU3RyaW5nOiB0cnVlLFxuICAgICAgICBmaWxlbmFtZTogbG9hZGVyVXRpbHMuZ2V0UmVtYWluaW5nUmVxdWVzdCh0aGlzKS5yZXBsYWNlKC9eIS8sICcnKVxuICAgIH0sIHF1ZXJ5LmNvbXBpbGVyIHx8IHt9KSkocXVlcnkubG9jYWxzIHx8IHt9KVxufVxuLy8gcmVnaW9uIHZpbSBtb2RsaW5lXG4vLyB2aW06IHNldCB0YWJzdG9wPTQgc2hpZnR3aWR0aD00IGV4cGFuZHRhYjpcbi8vIHZpbTogZm9sZG1ldGhvZD1tYXJrZXIgZm9sZG1hcmtlcj1yZWdpb24sZW5kcmVnaW9uOlxuLy8gZW5kcmVnaW9uXG4iXX0=