#!/usr/bin/env node
'use strict';var _promise=require('babel-runtime/core-js/promise'),_promise2=_interopRequireDefault(_promise),_asyncToGenerator2=require('babel-runtime/helpers/asyncToGenerator'),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2),_keys=require('babel-runtime/core-js/object/keys'),_keys2=_interopRequireDefault(_keys),_babiliWebpackPlugin=require('babili-webpack-plugin'),_babiliWebpackPlugin2=_interopRequireDefault(_babiliWebpackPlugin),_clientnode=require('clientnode'),_clientnode2=_interopRequireDefault(_clientnode),_jsdom=require('jsdom'),dom=_interopRequireWildcard(_jsdom),_fs=require('fs'),fileSystem=_interopRequireWildcard(_fs),_path=require('path'),_path2=_interopRequireDefault(_path),_postcssCssnext=require('postcss-cssnext'),_postcssCssnext2=_interopRequireDefault(_postcssCssnext),_postcssFontpath=require('postcss-fontpath'),_postcssFontpath2=_interopRequireDefault(_postcssFontpath),_postcssImport=require('postcss-import'),_postcssImport2=_interopRequireDefault(_postcssImport),_postcssSprites=require('postcss-sprites'),_postcssSprites2=_interopRequireDefault(_postcssSprites),_postcssUrl=require('postcss-url'),_postcssUrl2=_interopRequireDefault(_postcssUrl),_util=require('util'),_util2=_interopRequireDefault(_util),_webpack=require('webpack'),_webpack2=_interopRequireDefault(_webpack),_webpackSources=require('webpack-sources'),_ejsLoader=require('./ejsLoader.compiled'),_ejsLoader2=_interopRequireDefault(_ejsLoader),_configurator=require('./configurator.compiled'),_configurator2=_interopRequireDefault(_configurator),_helper=require('./helper.compiled'),_helper2=_interopRequireDefault(_helper),_htmlLoader=require('html-loader'),_htmlLoader2=_interopRequireDefault(_htmlLoader),_loaderUtils=require('loader-utils'),_loaderUtils2=_interopRequireDefault(_loaderUtils);Object.defineProperty(exports,'__esModule',{value:!0});function _interopRequireWildcard(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}try{require('source-map-support/register')}catch(a){}const plugins=require('webpack-load-plugins')();plugins.HTML=plugins.html,plugins.ExtractText=plugins.extractText,plugins.AddAssetHTMLPlugin=require('add-asset-html-webpack-plugin'),plugins.OpenBrowser=plugins.openBrowser,plugins.Favicon=require('favicons-webpack-plugin'),plugins.Imagemin=require('imagemin-webpack-plugin').default,plugins.Offline=require('offline-plugin'),require.cache[require.resolve('html-loader')].exports=function(...a){return _clientnode2.default.extendObject(!0,this.options,module,this.options),_htmlLoader2.default.call(this,...a)};const loaderUtilsIsUrlRequestBackup=_loaderUtils2.default.isUrlRequest;require.cache[require.resolve('loader-utils')].exports.isUrlRequest=(a,...b)=>{return!a.match(/^[a-z]+:.+/)&&loaderUtilsIsUrlRequestBackup.apply(_loaderUtils2.default,[a].concat(b))};let libraryName;'libraryName'in _configurator2.default&&_configurator2.default.libraryName?libraryName=_configurator2.default.libraryName:1<(0,_keys2.default)(_configurator2.default.injection.internal.normalized).length?libraryName='[name]':(libraryName=_configurator2.default.name,'var'===_configurator2.default.exportFormat.self&&(libraryName=_clientnode2.default.stringConvertToValidVariableName(libraryName)));const pluginInstances=[new _webpack2.default.NoEmitOnErrorsPlugin,new _webpack2.default.optimize.OccurrenceOrderPlugin(!0)];_configurator2.default.debug&&pluginInstances.push(new _webpack2.default.NamedModulesPlugin);for(const a of _configurator2.default.injection.ignorePattern)pluginInstances.push(new _webpack2.default.IgnorePlugin(new RegExp(a)));for(const a in _configurator2.default.module.replacements.normal)_configurator2.default.module.replacements.normal.hasOwnProperty(a)&&pluginInstances.push(new _webpack2.default.NormalModuleReplacementPlugin(new RegExp(a),_configurator2.default.module.replacements.normal[a]));let htmlAvailable=!1;if('buildDLL'!==_configurator2.default.givenCommandLineArguments[2])for(let a of _configurator2.default.files.html)_clientnode2.default.isFileSync(a.template.filePath)&&(pluginInstances.push(new plugins.HTML(_clientnode2.default.extendObject({},a,{template:a.template.request}))),htmlAvailable=!0);if(htmlAvailable&&_configurator2.default.favicon&&_clientnode2.default.isFileSync(_configurator2.default.favicon.logo)&&pluginInstances.push(new plugins.Favicon(_configurator2.default.favicon)),htmlAvailable&&_configurator2.default.offline&&(!['serve','testInBrowser'].includes(_configurator2.default.givenCommandLineArguments[2])&&(_configurator2.default.inPlace.cascadingStyleSheet&&(0,_keys2.default)(_configurator2.default.inPlace.cascadingStyleSheet).length&&_configurator2.default.offline.excludes.push(_path2.default.relative(_configurator2.default.path.target.base,_configurator2.default.path.target.asset.cascadingStyleSheet)+`*.css?${_configurator2.default.hashAlgorithm}=*`),_configurator2.default.inPlace.javaScript&&(0,_keys2.default)(_configurator2.default.inPlace.javaScript).length&&_configurator2.default.offline.excludes.push(_path2.default.relative(_configurator2.default.path.target.base,_configurator2.default.path.target.asset.javaScript)+`*.js?${_configurator2.default.hashAlgorithm}=*`)),pluginInstances.push(new plugins.Offline(_configurator2.default.offline))),_configurator2.default.development.openBrowser&&htmlAvailable&&['serve','testInBrowser'].includes(_configurator2.default.givenCommandLineArguments[2])&&pluginInstances.push(new plugins.OpenBrowser(_configurator2.default.development.openBrowser)),_configurator2.default.build.definitions&&pluginInstances.push(new _webpack2.default.DefinePlugin(_configurator2.default.build.definitions)),_configurator2.default.module.provide&&pluginInstances.push(new _webpack2.default.ProvidePlugin(_configurator2.default.module.provide)),_configurator2.default.module.optimizer.babili&&pluginInstances.push(new _babiliWebpackPlugin2.default(_configurator2.default.module.optimizer.babili)),pluginInstances.push({apply:(a)=>{a.plugin('emit',(b,c)=>{for(const d in b.assets)if(b.assets.hasOwnProperty(d)){const e=d.replace(/\?[^?]+$/,''),f=_helper2.default.determineAssetType(e,_configurator2.default.build.types,_configurator2.default.path);if(f&&_configurator2.default.assetPattern[f]&&!new RegExp(_configurator2.default.assetPattern[f].excludeFilePathRegularExpression).test(e)){const g=b.assets[d].source();'string'==typeof g&&(b.assets[d]=new _webpackSources.RawSource(_configurator2.default.assetPattern[f].pattern.replace(/\{1\}/g,g.replace(/\$/g,'$$$'))))}}c()})}}),htmlAvailable&&!['serve','testInBrowser'].includes(_configurator2.default.givenCommandLineArguments[2])&&pluginInstances.push({apply:(a)=>{const b=[];a.plugin('compilation',(c)=>c.plugin('html-webpack-plugin-after-html-processing',(d,e)=>{_configurator2.default.inPlace.cascadingStyleSheet&&(0,_keys2.default)(_configurator2.default.inPlace.cascadingStyleSheet).length||_configurator2.default.inPlace.javaScript&&(0,_keys2.default)(_configurator2.default.inPlace.javaScript).length?dom.env(d.html.replace(/<%/g,'##+#+#+##').replace(/%>/g,'##-#-#-##'),(f,g)=>{if(f)return e(f,d);if(_configurator2.default.inPlace.cascadingStyleSheet)for(const h in _configurator2.default.inPlace.cascadingStyleSheet){if(!_configurator2.default.inPlace.cascadingStyleSheet.hasOwnProperty(h))continue;let i='[href*=".css"]';'*'!=h&&(i='[href="'+_path2.default.relative(_configurator2.default.path.target.base,_helper2.default.renderFilePathTemplate(_configurator2.default.files.compose.cascadingStyleSheet,{'[contenthash]':'','[id]':h,'[name]':h}))+'"]');const j=g.document.querySelectorAll(`link${i}`);if(j.length)for(const k of j){const l=g.document.createElement('style'),m=k.attributes.href.value.replace(/&.*/g,'');l.textContent=c.assets[m].source(),'body'===_configurator2.default.inPlace.cascadingStyleSheet[h]?g.document.body.appendChild(l):'in'===_configurator2.default.inPlace.cascadingStyleSheet[h]?k.parentNode.insertBefore(l,k):'head'===_configurator2.default.inPlace.cascadingStyleSheet[h]&&g.document.head.appendChild(l),k.parentNode.removeChild(k),b.push(_helper2.default.stripLoader(m)),delete c.assets[m]}else console.warn('No referenced cascading style sheet file in resulting markup found with selector: link'+i)}if(_configurator2.default.inPlace.javaScript)for(const h in _configurator2.default.inPlace.javaScript){if(!_configurator2.default.inPlace.javaScript.hasOwnProperty(h))continue;let i='[href*=".js"]';'*'!=h&&(i='[src^="'+_path2.default.relative(_configurator2.default.path.target.base,_helper2.default.renderFilePathTemplate(_configurator2.default.files.compose.javaScript,{'[hash]':'','[id]':h,'[name]':h})+'"]'));const j=g.document.querySelectorAll(`script${i}`);if(j.length)for(const k of j){const l=g.document.createElement('script'),m=k.attributes.src.value.replace(/&.*/g,'');l.textContent=c.assets[m].source(),'body'===_configurator2.default.inPlace.javaScript[h]?g.document.body.appendChild(l):'in'===_configurator2.default.inPlace.javaScript[h]?k.parentNode.insertBefore(l,k):'head'===_configurator2.default.inPlace.javaScript[h]&&g.document.head.appendChild(l),k.parentNode.removeChild(k),b.push(_helper2.default.stripLoader(m)),delete c.assets[m]}else console.warn('No referenced javaScript file in resulting markup found with '+`selector: script${i}`)}d.html=d.html.replace(/^(\s*<!doctype[^>]+?>\s*)[\s\S]*$/i,'$1')+g.document.documentElement.outerHTML.replace(/##\+#\+#\+##/g,'<%').replace(/##-#-#-##/g,'%>'),e(null,d)}):e(null,d)})),a.plugin('after-emit',(()=>{var c=(0,_asyncToGenerator3.default)(function*(d,e){const f=[];for(const g of b)_clientnode2.default.isFileSync(g)&&f.push(new _promise2.default(function(h){return fileSystem.unlink(g,function(i){i&&console.error(i),h()})}));yield _promise2.default.all(f);for(const g of['javaScript','cascadingStyleSheet'])0===fileSystem.readdirSync(_configurator2.default.path.target.asset[g]).length&&fileSystem.rmdirSync(_configurator2.default.path.target.asset[g]);e()});return function(){return c.apply(this,arguments)}})())}}),'buildDLL'!==_configurator2.default.givenCommandLineArguments[2])for(const a in _configurator2.default.injection.internal.normalized)if(_configurator2.default.injection.internal.normalized.hasOwnProperty(a)){const b=`${_configurator2.default.path.target.base}/${a}.`+`dll-manifest.json`;if(_configurator2.default.dllManifestFilePaths.includes(b)){delete _configurator2.default.injection.internal.normalized[a];const c=_helper2.default.renderFilePathTemplate(_helper2.default.stripLoader(_configurator2.default.files.compose.javaScript),{'[name]':a});pluginInstances.push(new plugins.AddAssetHTMLPlugin({filepath:c,hash:!0,includeSourcemap:_clientnode2.default.isFileSync(`${c}.map`)})),pluginInstances.push(new _webpack2.default.DllReferencePlugin({context:_configurator2.default.path.context,manifest:require(b)}))}}if('buildDLL'!==_configurator2.default.givenCommandLineArguments[2])for(const a of _configurator2.default.injection.commonChunkIDs)_configurator2.default.injection.internal.normalized.hasOwnProperty(a)&&pluginInstances.push(new _webpack2.default.optimize.CommonsChunkPlugin({async:!1,children:!1,filename:_path2.default.relative(_configurator2.default.path.target.base,_configurator2.default.files.compose.javaScript),minChunks:Infinity,name:a,minSize:0}));if(_configurator2.default.needed.javaScript||(_configurator2.default.files.compose.javaScript=_path2.default.resolve(_configurator2.default.path.target.asset.javaScript,'.__dummy__.compiled.js')),_configurator2.default.files.compose.cascadingStyleSheet&&pluginInstances.push(new plugins.ExtractText({allChunks:!0,filename:_path2.default.relative(_configurator2.default.path.target.base,_configurator2.default.files.compose.cascadingStyleSheet)})),'__implicit__'===_configurator2.default.injection.external.modules&&(_configurator2.default.injection.external.modules=(a,b,c)=>{b=b.replace(/^!+/,''),b.startsWith('/')&&(b=_path2.default.relative(_configurator2.default.path.context,b));for(const e of _configurator2.default.module.directoryNames.concat(_configurator2.default.loader.directoryNames))if(b.startsWith(e)){b=b.substring(e.length),b.startsWith('/')&&(b=b.substring(1));break}let d=_helper2.default.determineExternalRequest(b,_configurator2.default.path.context,a,_configurator2.default.injection.internal.normalized,_configurator2.default.path.ignore.concat(_configurator2.default.module.directoryNames,_configurator2.default.loader.directoryNames).map((e)=>_path2.default.resolve(_configurator2.default.path.context,e)).filter((e)=>!_configurator2.default.path.context.startsWith(e)),_configurator2.default.module.aliases,_configurator2.default.module.replacements.normal,_configurator2.default.extensions,_configurator2.default.path.source.asset.base,_configurator2.default.path.ignore,_configurator2.default.module.directoryNames,_configurator2.default.package.main.fileNames,_configurator2.default.package.main.propertyNames,_configurator2.default.package.aliasPropertyNames,_configurator2.default.injection.external.implicit.pattern.include,_configurator2.default.injection.external.implicit.pattern.exclude,_configurator2.default.inPlace.externalLibrary.normal,_configurator2.default.inPlace.externalLibrary.dynamic);return d?(['var','umd'].includes(_configurator2.default.exportFormat.external)&&b in _configurator2.default.injection.external.aliases&&(d=_configurator2.default.injection.external.aliases[b]),'var'===_configurator2.default.exportFormat.external&&(d=_clientnode2.default.stringConvertToValidVariableName(d,'0-9a-zA-Z_$\\.')),c(null,d,_configurator2.default.exportFormat.external)):c()}),'buildDLL'===_configurator2.default.givenCommandLineArguments[2]){let a=!1;for(const b in _configurator2.default.injection.internal.normalized)_configurator2.default.injection.internal.normalized.hasOwnProperty(b)&&(_configurator2.default.injection.dllChunkIDs.includes(b)?a=!0:delete _configurator2.default.injection.internal.normalized[b]);a?(libraryName='[name]DLLPackage',pluginInstances.push(new _webpack2.default.DllPlugin({path:`${_configurator2.default.path.target.base}/[name].dll-manifest.json`,name:libraryName}))):console.warn('No dll chunk id found.')}pluginInstances.push({apply:(a)=>a.plugin('compilation',(b)=>b.plugin('html-webpack-plugin-after-html-processing',(()=>{var c=(0,_asyncToGenerator3.default)(function*(d,e){return dom.env(d.html.replace(/<%/g,'##+#+#+##').replace(/%>/g,'##-#-#-##'),function(f,g){if(f)return e(f,d);const h={script:'src',link:'href'};for(const i in h)if(h.hasOwnProperty(i))for(const j of g.document.querySelectorAll(`${i}[${h[i]}*="?`+`${_configurator2.default.hashAlgorithm}="]`))j.setAttribute(h[i],j.getAttribute(h[i]).replace(new RegExp(`(\\?${_configurator2.default.hashAlgorithm}=`+'[^&]+).*$'),'$1'));d.html=d.html.replace(/^(\s*<!doctype[^>]+?>\s*)[\s\S]*$/i,'$1')+g.document.documentElement.outerHTML.replace(/##\+#\+#\+##/g,'<%').replace(/##-#-#-##/g,'%>'),e(null,d)})});return function(){return c.apply(this,arguments)}})()))}),_configurator2.default.exportFormat.external.startsWith('umd')&&pluginInstances.push({apply:(a)=>a.plugin('emit',(b,c)=>{const d='string'==typeof libraryName?libraryName:libraryName[0];for(const e in b.assets)if(e.replace(/([^?]+)\?.*$/,'$1').endsWith(_configurator2.default.build.types.javaScript.outputExtension)){let f=b.assets[e].source();if('string'==typeof f){for(const g in _configurator2.default.injection.external.aliases)_configurator2.default.injection.external.aliases.hasOwnProperty(g)&&(f=f.replace(new RegExp('(require\\()"'+_clientnode2.default.stringEscapeRegularExpressions(_configurator2.default.injection.external.aliases[g])+'"(\\))','g'),`$1'${g}'$2`).replace(new RegExp('(define\\("'+_clientnode2.default.stringEscapeRegularExpressions(d)+'", \\[.*)"'+_clientnode2.default.stringEscapeRegularExpressions(_configurator2.default.injection.external.aliases[g])+'"(.*\\], factory\\);)'),`$1'${g}'$2`));f=f.replace(new RegExp('(root\\[)"'+_clientnode2.default.stringEscapeRegularExpressions(d)+'"(\\] = )'),`$1'`+_clientnode2.default.stringConvertToValidVariableName(d)+`'$2`),b.assets[e]=new _webpackSources.RawSource(f)}}c()})}),pluginInstances.push({apply:(a)=>a.plugin('compilation',(b)=>b.plugin('html-webpack-plugin-after-html-processing',(c,d)=>{for(const e of _configurator2.default.files.html)if(e.filename===c.plugin.options.filename){for(const f of e.template.use)f.hasOwnProperty('options')&&f.options.hasOwnProperty('compileSteps')&&'number'==typeof f.options.compileSteps&&(c.html=_ejsLoader2.default.bind(_clientnode2.default.extendObject(!0,{},{options:f.options},{options:{compileSteps:e.template.postCompileSteps}}))(c.html));break}d(null,c)}))}),pluginInstances.push(new plugins.Imagemin(_configurator2.default.module.optimizer.image.content));for(const a of _configurator2.default.module.replacements.context)pluginInstances.push(new _webpack2.default.ContextReplacementPlugin(...a.map((b)=>new Function('configuration','__dirname','__filename',`return ${b}`)(_configurator2.default,__dirname,__filename))));const loader={ejs:{exclude:(a)=>_helper2.default.normalizePaths(_configurator2.default.files.html.concat(_configurator2.default.files.defaultHTML).map((b)=>b.template.filePath)).includes(a)||null!==_configurator2.default.module.preprocessor.ejs.exclude&&evaluate(_configurator2.default.module.preprocessor.ejs.exclude,a),include:_helper2.default.normalizePaths([_configurator2.default.path.source.base].concat(_configurator2.default.module.locations.directoryPaths)),test:/^(?!.+\.html\.ejs$).+\.ejs$/i,use:[{loader:'file?name=[path][name]'+(!!(_configurator2.default.module.preprocessor.ejs.options.compileSteps%2)?'.js':'')+`?${_configurator2.default.hashAlgorithm}=[hash]`},{loader:'extract'},{loader:_configurator2.default.module.preprocessor.ejs.loader,options:_configurator2.default.module.preprocessor.ejs.options}]},script:{exclude:(a)=>null===_configurator2.default.module.preprocessor.javaScript.exclude?rejectFilePathInDependencies(a):evaluate(_configurator2.default.module.preprocessor.javaScript.exclude,a),include:_helper2.default.normalizePaths([_configurator2.default.path.source.asset.javaScript].concat(_configurator2.default.module.locations.directoryPaths)),test:/\.js(?:\?.*)?$/i,use:[{loader:_configurator2.default.module.preprocessor.javaScript.loader,options:_configurator2.default.module.preprocessor.javaScript.options}]},html:{main:{test:new RegExp('^'+_clientnode2.default.stringEscapeRegularExpressions(_configurator2.default.files.defaultHTML.template.filePath)+'(?:\\?.*)?$'),use:_configurator2.default.files.defaultHTML.template.use},ejs:{exclude:(a)=>_helper2.default.normalizePaths(_configurator2.default.files.html.concat(_configurator2.default.files.defaultHTML).map((b)=>b.template.filePath)).includes(a)||null!==_configurator2.default.module.preprocessor.html.exclude&&evaluate(_configurator2.default.module.preprocessor.html.exclude,a),include:_configurator2.default.path.source.asset.template,test:/\.html\.ejs(?:\?.*)?$/i,use:[{loader:'file?name='+_path2.default.join(_path2.default.relative(_configurator2.default.path.target.asset.base,_configurator2.default.path.target.asset.template),'[name]'+(!!(_configurator2.default.module.preprocessor.html.options.compileSteps%2)?'.js':'')+`?${_configurator2.default.hashAlgorithm}=[hash]`)}].concat(!!(_configurator2.default.module.preprocessor.html.options.compileSteps%2)?[]:[{loader:'extract'},{loader:_configurator2.default.module.html.loader,options:_configurator2.default.module.html.options}],{loader:_configurator2.default.module.preprocessor.html.loader,options:_configurator2.default.module.preprocessor.html.options})},html:{exclude:(a)=>_helper2.default.normalizePaths(_configurator2.default.files.html.concat(_configurator2.default.files.defaultHTML).map((b)=>b.template.filePath)).includes(a)||!(null!==_configurator2.default.module.html.exclude)||evaluate(_configurator2.default.module.html.exclude,a),include:_configurator2.default.path.source.asset.template,test:/\.html(?:\?.*)?$/i,use:[{loader:'file?name='+_path2.default.join(_path2.default.relative(_configurator2.default.path.target.base,_configurator2.default.path.target.asset.template),`[name].[ext]?${_configurator2.default.hashAlgorithm}=[hash]`)},{loader:'extract'},{loader:_configurator2.default.module.html.loader,options:_configurator2.default.module.html.options}]}},style:{exclude:(a)=>null===_configurator2.default.module.cascadingStyleSheet.exclude?rejectFilePathInDependencies(a):evaluate(_configurator2.default.module.cascadingStyleSheet.exclude,a),include:_helper2.default.normalizePaths([_configurator2.default.path.source.asset.cascadingStyleSheet].concat(_configurator2.default.module.locations.directoryPaths)),test:/\.css(?:\?.*)?$/i,use:[{loader:_configurator2.default.module.style.loader,options:_configurator2.default.module.style.options},{loader:_configurator2.default.module.cascadingStyleSheet.loader,options:_configurator2.default.module.cascadingStyleSheet.options},{loader:_configurator2.default.module.preprocessor.cascadingStyleSheet.loader,options:_clientnode2.default.extendObject(!0,{ident:'postcss',plugins:()=>[(0,_postcssImport2.default)({addDependencyTo:_webpack2.default,root:_configurator2.default.path.context}),(0,_postcssCssnext2.default)({browsers:'> 0%'}),(0,_postcssFontpath2.default)({checkPath:!1}),(0,_postcssUrl2.default)({filter:'',maxSize:0}),(0,_postcssSprites2.default)({filterBy:()=>new _promise2.default((a,b)=>(_configurator2.default.files.compose.image?a:b)()),hooks:{onSaveSpritesheet:(a)=>_path2.default.join(a.spritePath,_path2.default.relative(_configurator2.default.path.target.asset.image,_configurator2.default.files.compose.image))},stylesheetPath:_configurator2.default.path.source.asset.cascadingStyleSheet,spritePath:_configurator2.default.path.source.asset.image})]},_configurator2.default.module.preprocessor.cascadingStyleSheet.options)}]},font:{eot:{exclude:(a)=>null!==_configurator2.default.module.optimizer.font.eot.exclude&&evaluate(_configurator2.default.module.optimizer.font.eot.exclude,a),include:_configurator2.default.path.base,test:/\.eot(?:\?.*)?$/i,use:[{loader:_configurator2.default.module.optimizer.font.eot.loader,options:_configurator2.default.module.optimizer.font.eot.options}]},svg:{exclude:(a)=>null!==_configurator2.default.module.optimizer.font.svg.exclude&&evaluate(_configurator2.default.module.optimizer.font.svg.exclude,a),include:_configurator2.default.path.base,test:/\.svg(?:\?.*)?$/i,use:[{loader:_configurator2.default.module.optimizer.font.svg.loader,options:_configurator2.default.module.optimizer.font.svg.options}]},ttf:{exclude:(a)=>null!==_configurator2.default.module.optimizer.font.ttf.exclude&&evaluate(_configurator2.default.module.optimizer.font.ttf.exclude,a),include:_configurator2.default.path.base,test:/\.ttf(?:\?.*)?$/i,use:[{loader:_configurator2.default.module.optimizer.font.ttf.loader,options:_configurator2.default.module.optimizer.font.ttf.options}]},woff:{exclude:(a)=>null!==_configurator2.default.module.optimizer.font.woff.exclude&&evaluate(_configurator2.default.module.optimizer.font.woff.exclude,a),include:_configurator2.default.path.base,test:/\.woff2?(?:\?.*)?$/i,use:[{loader:_configurator2.default.module.optimizer.font.woff.loader,options:_configurator2.default.module.optimizer.font.woff.options}]}},image:{exclude:(a)=>null===_configurator2.default.module.optimizer.image.exclude?rejectFilePathInDependencies(a):evaluate(_configurator2.default.module.optimizer.image.exclude,a),include:_configurator2.default.path.source.asset.image,test:/\.(?:png|jpg|ico|gif)(?:\?.*)?$/i,use:{loader:_configurator2.default.module.optimizer.image.loader,options:_configurator2.default.module.optimizer.image.file}},data:{exclude:(a)=>_configurator2.default.extensions.file.internal.includes(_path2.default.extname(_helper2.default.stripLoader(a)))||(null===_configurator2.default.module.optimizer.data.exclude?rejectFilePathInDependencies(a):evaluate(_configurator2.default.module.optimizer.data.exclude,a)),include:_configurator2.default.path.source.asset.data,test:/.+/,use:[{loader:_configurator2.default.module.optimizer.data.loader,options:_configurator2.default.module.optimizer.data.options}]}};_configurator2.default.files.compose.cascadingStyleSheet&&(loader.style.use.shift(),loader.style.use=plugins.ExtractText.extract({use:loader.style.use}));const rejectFilePathInDependencies=(a)=>{return a=_helper2.default.stripLoader(a),_helper2.default.isFilePathInLocation(a,_configurator2.default.path.ignore.concat(_configurator2.default.module.directoryNames,_configurator2.default.loader.directoryNames).map((b)=>_path2.default.resolve(_configurator2.default.path.context,b)).filter((b)=>!_configurator2.default.path.context.startsWith(b)))},evaluate=(a,b)=>new Function('configuration','filePath','loader','rejectFilePathInDependencies',`return ${a}`)(_configurator2.default,b,loader,rejectFilePathInDependencies),webpackConfiguration={bail:!0,cache:_configurator2.default.cache.main,context:_configurator2.default.path.context,devtool:_configurator2.default.development.tool,devServer:_configurator2.default.development.server,entry:_configurator2.default.injection.internal.normalized,externals:_configurator2.default.injection.external.modules,resolve:{alias:_configurator2.default.module.aliases,aliasFields:_configurator2.default.package.aliasPropertyNames,extensions:_configurator2.default.extensions.file.internal,mainFields:_configurator2.default.package.main.propertyNames,mainFiles:_configurator2.default.package.main.fileNames,moduleExtensions:_configurator2.default.extensions.module,modules:_helper2.default.normalizePaths(_configurator2.default.module.directoryNames),unsafeCache:_configurator2.default.cache.unsafe},resolveLoader:{alias:_configurator2.default.loader.aliases,aliasFields:_configurator2.default.package.aliasPropertyNames,extensions:_configurator2.default.loader.extensions.file,mainFields:_configurator2.default.package.main.propertyNames,mainFiles:_configurator2.default.package.main.fileNames,moduleExtensions:_configurator2.default.loader.extensions.module,modules:_configurator2.default.loader.directoryNames},output:{filename:_path2.default.relative(_configurator2.default.path.target.base,_configurator2.default.files.compose.javaScript),hashFunction:_configurator2.default.hashAlgorithm,library:libraryName,libraryTarget:'buildDLL'===_configurator2.default.givenCommandLineArguments[2]?'var':_configurator2.default.exportFormat.self,path:_configurator2.default.path.target.base,publicPath:_configurator2.default.path.target.public,pathinfo:_configurator2.default.debug,umdNamedDefine:!0},performance:_configurator2.default.performanceHints,target:_configurator2.default.targetTechnology,module:{rules:_configurator2.default.module.additional.map((a)=>{return{exclude:(b)=>evaluate(a.exclude||'false',b),include:a.include&&evaluate(a.include,_configurator2.default.path.context)||_configurator2.default.path.source.base,test:new RegExp(evaluate(a.test,_configurator2.default.path.context)),use:evaluate(a.use)}}).concat([loader.ejs,loader.script,loader.html.main,loader.html.ejs,loader.html.html,loader.style,loader.font.eot,loader.font.svg,loader.font.ttf,loader.font.woff,loader.image,loader.data])},plugins:pluginInstances};(!Array.isArray(_configurator2.default.module.skipParseRegularExpressions)||_configurator2.default.module.skipParseRegularExpressions.length)&&(webpackConfiguration.module.noParse=_configurator2.default.module.skipParseRegularExpressions),_configurator2.default.showConfiguration&&(console.info('Using internal configuration:',_util2.default.inspect(_configurator2.default,{depth:null})),console.info('-----------------------------------------------------------'),console.info('Using webpack configuration:',_util2.default.inspect(webpackConfiguration,{depth:null}))),exports.default=webpackConfiguration;

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2tDb25maWd1cmF0b3IuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0EsYSxnaUJBZ0JZLEcsbURBQ0EsVSxrOUNBUVosR0FBSSxDQUNBLFFBQVEsNkJBQVIsQ0FDSCxDQUFDLFFBQWMsQ0FBRSxDQUdsQixLQUFNLFNBQVUsUUFBUSxzQkFBUixHQUFoQixDQUdBLFFBQVEsSUFBUixDQUFlLFFBQVEsSSxDQUN2QixRQUFRLFdBQVIsQ0FBc0IsUUFBUSxXLENBQzlCLFFBQVEsa0JBQVIsQ0FBNkIsUUFBUSwrQkFBUixDLENBQzdCLFFBQVEsV0FBUixDQUFzQixRQUFRLFcsQ0FDOUIsUUFBUSxPQUFSLENBQWtCLFFBQVEseUJBQVIsQyxDQUNsQixRQUFRLFFBQVIsQ0FBbUIsUUFBUSx5QkFBUixFQUFtQyxPLENBQ3RELFFBQVEsT0FBUixDQUFrQixRQUFRLGdCQUFSLEMsQ0FXbEIsUUFBUSxLQUFSLENBQWMsUUFBUSxPQUFSLENBQWdCLGFBQWhCLENBQWQsRUFBOEMsT0FBOUMsQ0FBd0QsU0FDcEQsSUFEb0QsQ0FFbEQsQ0FFRixNQURBLHNCQUFNLFlBQU4sSUFBeUIsS0FBSyxPQUE5QixDQUF1QyxNQUF2QyxDQUErQyxLQUFLLE9BQXBELENBQ0EsQ0FBTyxxQkFBdUIsSUFBdkIsQ0FBNEIsSUFBNUIsQ0FBa0MsR0FBRyxDQUFyQyxDQUNWLEMsQ0FHRCxLQUFNLCtCQUNGLHNCQUF3QixZQUQ1QixDQUVBLFFBQVEsS0FBUixDQUFjLFFBQVEsT0FBUixDQUFnQixjQUFoQixDQUFkLEVBQStDLE9BQS9DLENBQXVELFlBQXZELENBQXNFLEdBQ3RELElBRHNELEdBRXpELFFBQ0wsRUFBSSxLQUFKLENBQVUsWUFBVixDQURLLEVBR0YsOEJBQThCLEtBQTlCLHVCQUNzQixDQUFDLENBQUQsRUFBTSxNQUFOLENBQWEsQ0FBYixDQUR0QixDQUVWLEMsQ0FLRCxHQUFJLFlBQUosQ0FDSSx3Q0FBa0MsdUJBQWMsVyxDQUNoRCxZQUFjLHVCQUFjLFcsQ0FD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UEQsQ0FRTixPQUFPLElBUkQsQ0FiSCxDQURILENBL0NzQyxDQXdFOUMsUUFBUyxlQXhFcUMsQ0FsQmxELEMsQ0E0RkksQ0FBQyxNQUFNLE9BQU4sQ0FDRCx1QkFBYyxNQUFkLENBQXFCLDJCQURwQixDQUFELEVBRUMsdUJBQWMsTUFBZCxDQUFxQiwyQkFBckIsQ0FBaUQsTSxJQUNsRCxxQkFBcUIsTUFBckIsQ0FBNEIsT0FBNUIsQ0FDSSx1QkFBYyxNQUFkLENBQXFCLDJCLEVBQ3pCLHVCQUFjLGlCLEdBQ2QsUUFBUSxJQUFSLENBQWEsK0JBQWIsQ0FBOEMsZUFBSyxPQUFMLHdCQUE0QixDQUN0RSxNQUFPLElBRCtELENBQTVCLENBQTlDLEMsQ0FFQSxRQUFRLElBQVIsQ0FBYSw2REFBYixDLENBQ0EsUUFBUSxJQUFSLENBQWEsOEJBQWIsQ0FBNkMsZUFBSyxPQUFMLENBQ3pDLG9CQUR5QyxDQUNuQixDQUFDLE1BQU8sSUFBUixDQURtQixDQUE3QyxDLGtCQUlXLG9CIiwiZmlsZSI6IndlYnBhY2tDb25maWd1cmF0b3IuY29tcGlsZWQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbi8vIEBmbG93XG4vLyAtKi0gY29kaW5nOiB1dGYtOCAtKi1cbid1c2Ugc3RyaWN0J1xuLyogIVxuICAgIHJlZ2lvbiBoZWFkZXJcbiAgICBDb3B5cmlnaHQgVG9yYmVuIFNpY2tlcnQgKGluZm9bXCJ+YXR+XCJddG9yYmVuLndlYnNpdGUpIDE2LjEyLjIwMTJcblxuICAgIExpY2Vuc2VcbiAgICAtLS0tLS0tXG5cbiAgICBUaGlzIGxpYnJhcnkgd3JpdHRlbiBieSBUb3JiZW4gU2lja2VydCBzdGFuZCB1bmRlciBhIGNyZWF0aXZlIGNvbW1vbnMgbmFtaW5nXG4gICAgMy4wIHVucG9ydGVkIGxpY2Vuc2UuIHNlZSBodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9ieS8zLjAvZGVlZC5kZVxuICAgIGVuZHJlZ2lvblxuKi9cbi8vIHJlZ2lvbiBpbXBvcnRzXG5pbXBvcnQgQmFiaWxpUGx1Z2luIGZyb20gJ2JhYmlsaS13ZWJwYWNrLXBsdWdpbidcbmltcG9ydCBUb29scyBmcm9tICdjbGllbnRub2RlJ1xuaW1wb3J0IHR5cGUge0RvbU5vZGUsIFBsYWluT2JqZWN0LCBQcm9jZWR1cmVGdW5jdGlvbiwgV2luZG93fSBmcm9tICdjbGllbnRub2RlJ1xuaW1wb3J0ICogYXMgZG9tIGZyb20gJ2pzZG9tJ1xuaW1wb3J0ICogYXMgZmlsZVN5c3RlbSBmcm9tICdmcydcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXG5pbXBvcnQgcG9zdGNzc0NTU25leHQgZnJvbSAncG9zdGNzcy1jc3NuZXh0J1xuaW1wb3J0IHBvc3Rjc3NGb250UGF0aCBmcm9tICdwb3N0Y3NzLWZvbnRwYXRoJ1xuaW1wb3J0IHBvc3Rjc3NJbXBvcnQgZnJvbSAncG9zdGNzcy1pbXBvcnQnXG5pbXBvcnQgcG9zdGNzc1Nwcml0ZXMgZnJvbSAncG9zdGNzcy1zcHJpdGVzJ1xuaW1wb3J0IHBvc3Rjc3NVUkwgZnJvbSAncG9zdGNzcy11cmwnXG4vLyBOT1RFOiBPbmx5IG5lZWRlZCBmb3IgZGVidWdnaW5nIHRoaXMgZmlsZS5cbnRyeSB7XG4gICAgcmVxdWlyZSgnc291cmNlLW1hcC1zdXBwb3J0L3JlZ2lzdGVyJylcbn0gY2F0Y2ggKGVycm9yKSB7fVxuaW1wb3J0IHV0aWwgZnJvbSAndXRpbCdcbmltcG9ydCB3ZWJwYWNrIGZyb20gJ3dlYnBhY2snXG5jb25zdCBwbHVnaW5zID0gcmVxdWlyZSgnd2VicGFjay1sb2FkLXBsdWdpbnMnKSgpXG5pbXBvcnQge1Jhd1NvdXJjZSBhcyBXZWJwYWNrUmF3U291cmNlfSBmcm9tICd3ZWJwYWNrLXNvdXJjZXMnXG5cbnBsdWdpbnMuSFRNTCA9IHBsdWdpbnMuaHRtbFxucGx1Z2lucy5FeHRyYWN0VGV4dCA9IHBsdWdpbnMuZXh0cmFjdFRleHRcbnBsdWdpbnMuQWRkQXNzZXRIVE1MUGx1Z2luID0gcmVxdWlyZSgnYWRkLWFzc2V0LWh0bWwtd2VicGFjay1wbHVnaW4nKVxucGx1Z2lucy5PcGVuQnJvd3NlciA9IHBsdWdpbnMub3BlbkJyb3dzZXJcbnBsdWdpbnMuRmF2aWNvbiA9IHJlcXVpcmUoJ2Zhdmljb25zLXdlYnBhY2stcGx1Z2luJylcbnBsdWdpbnMuSW1hZ2VtaW4gPSByZXF1aXJlKCdpbWFnZW1pbi13ZWJwYWNrLXBsdWdpbicpLmRlZmF1bHRcbnBsdWdpbnMuT2ZmbGluZSA9IHJlcXVpcmUoJ29mZmxpbmUtcGx1Z2luJylcblxuaW1wb3J0IGVqc0xvYWRlciBmcm9tICcuL2Vqc0xvYWRlci5jb21waWxlZCdcbmltcG9ydCB0eXBlIHtIVE1MQ29uZmlndXJhdGlvbiwgV2VicGFja0NvbmZpZ3VyYXRpb259IGZyb20gJy4vdHlwZSdcbmltcG9ydCBjb25maWd1cmF0aW9uIGZyb20gJy4vY29uZmlndXJhdG9yLmNvbXBpbGVkJ1xuaW1wb3J0IEhlbHBlciBmcm9tICcuL2hlbHBlci5jb21waWxlZCdcblxuLy8gLyByZWdpb24gbW9ua2V5IHBhdGNoZXNcbi8vIE1vbmtleS1QYXRjaCBodG1sIGxvYWRlciB0byByZXRyaWV2ZSBodG1sIGxvYWRlciBvcHRpb25zIHNpbmNlIHRoZVxuLy8gXCJ3ZWJwYWNrLWh0bWwtcGx1Z2luXCIgZG9lc24ndCBwcmVzZXJ2ZSB0aGUgb3JpZ2luYWwgbG9hZGVyIGludGVyZmFjZS5cbmltcG9ydCBodG1sTG9hZGVyTW9kdWxlQmFja3VwIGZyb20gJ2h0bWwtbG9hZGVyJ1xucmVxdWlyZS5jYWNoZVtyZXF1aXJlLnJlc29sdmUoJ2h0bWwtbG9hZGVyJyldLmV4cG9ydHMgPSBmdW5jdGlvbihcbiAgICAuLi5wYXJhbWV0ZXI6QXJyYXk8YW55PlxuKTphbnkge1xuICAgIFRvb2xzLmV4dGVuZE9iamVjdCh0cnVlLCB0aGlzLm9wdGlvbnMsIG1vZHVsZSwgdGhpcy5vcHRpb25zKVxuICAgIHJldHVybiBodG1sTG9hZGVyTW9kdWxlQmFja3VwLmNhbGwodGhpcywgLi4ucGFyYW1ldGVyKVxufVxuLy8gTW9ua2V5LVBhdGNoIGxvYWRlci11dGlscyB0byBkZWZpbmUgd2hpY2ggdXJsIGlzIGEgbG9jYWwgcmVxdWVzdC5cbmltcG9ydCBsb2FkZXJVdGlsc01vZHVsZUJhY2t1cCBmcm9tICdsb2FkZXItdXRpbHMnXG5jb25zdCBsb2FkZXJVdGlsc0lzVXJsUmVxdWVzdEJhY2t1cDoodXJsOnN0cmluZykgPT4gYm9vbGVhbiA9XG4gICAgbG9hZGVyVXRpbHNNb2R1bGVCYWNrdXAuaXNVcmxSZXF1ZXN0XG5yZXF1aXJlLmNhY2hlW3JlcXVpcmUucmVzb2x2ZSgnbG9hZGVyLXV0aWxzJyldLmV4cG9ydHMuaXNVcmxSZXF1ZXN0ID0gKFxuICAgIHVybDpzdHJpbmcsIC4uLmFkZGl0aW9uYWxQYXJhbWV0ZXI6QXJyYXk8YW55PlxuKTpib29sZWFuID0+IHtcbiAgICBpZiAodXJsLm1hdGNoKC9eW2Etel0rOi4rLykpXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgIHJldHVybiBsb2FkZXJVdGlsc0lzVXJsUmVxdWVzdEJhY2t1cC5hcHBseShcbiAgICAgICAgbG9hZGVyVXRpbHNNb2R1bGVCYWNrdXAsIFt1cmxdLmNvbmNhdChhZGRpdGlvbmFsUGFyYW1ldGVyKSlcbn1cbi8vIC8gZW5kcmVnaW9uXG4vLyBlbmRyZWdpb25cbi8vIHJlZ2lvbiBpbml0aWFsaXNhdGlvblxuLy8gLyByZWdpb24gZGV0ZXJtaW5lIGxpYnJhcnkgbmFtZVxubGV0IGxpYnJhcnlOYW1lOnN0cmluZ1xuaWYgKCdsaWJyYXJ5TmFtZScgaW4gY29uZmlndXJhdGlvbiAmJiBjb25maWd1cmF0aW9uLmxpYnJhcnlOYW1lKVxuICAgIGxpYnJhcnlOYW1lID0gY29uZmlndXJhdGlvbi5saWJyYXJ5TmFtZVxuZWxzZSBpZiAoT2JqZWN0LmtleXMoY29uZmlndXJhdGlvbi5pbmplY3Rpb24uaW50ZXJuYWwubm9ybWFsaXplZCkubGVuZ3RoID4gMSlcbiAgICBsaWJyYXJ5TmFtZSA9ICdbbmFtZV0nXG5lbHNlIHtcbiAgICBsaWJyYXJ5TmFtZSA9IGNvbmZpZ3VyYXRpb24ubmFtZVxuICAgIGlmIChjb25maWd1cmF0aW9uLmV4cG9ydEZvcm1hdC5zZWxmID09PSAndmFyJylcbiAgICAgICAgbGlicmFyeU5hbWUgPSBUb29scy5zdHJpbmdDb252ZXJ0VG9WYWxpZFZhcmlhYmxlTmFtZShsaWJyYXJ5TmFtZSlcbn1cbi8vIC8gZW5kcmVnaW9uXG4vLyAvIHJlZ2lvbiBwbHVnaW5zXG5jb25zdCBwbHVnaW5JbnN0YW5jZXM6QXJyYXk8T2JqZWN0PiA9IFtcbiAgICBuZXcgd2VicGFjay5Ob0VtaXRPbkVycm9yc1BsdWdpbigpLFxuICAgIG5ldyB3ZWJwYWNrLm9wdGltaXplLk9jY3VycmVuY2VPcmRlclBsdWdpbih0cnVlKVxuXVxuaWYgKGNvbmZpZ3VyYXRpb24uZGVidWcpXG4gICAgcGx1Z2luSW5zdGFuY2VzLnB1c2gobmV3IHdlYnBhY2suTmFtZWRNb2R1bGVzUGx1Z2luKCkpXG4vLyAvLyByZWdpb24gZGVmaW5lIG1vZHVsZXMgdG8gaWdub3JlXG5mb3IgKGNvbnN0IGlnbm9yZVBhdHRlcm46c3RyaW5nIG9mIGNvbmZpZ3VyYXRpb24uaW5qZWN0aW9uLmlnbm9yZVBhdHRlcm4pXG4gICAgcGx1Z2luSW5zdGFuY2VzLnB1c2gobmV3IHdlYnBhY2suSWdub3JlUGx1Z2luKG5ldyBSZWdFeHAoaWdub3JlUGF0dGVybikpKVxuLy8gLy8gZW5kcmVnaW9uXG4vLyAvLyByZWdpb24gZGVmaW5lIG1vZHVsZXMgdG8gcmVwbGFjZVxuZm9yIChjb25zdCBzb3VyY2U6c3RyaW5nIGluIGNvbmZpZ3VyYXRpb24ubW9kdWxlLnJlcGxhY2VtZW50cy5ub3JtYWwpXG4gICAgaWYgKGNvbmZpZ3VyYXRpb24ubW9kdWxlLnJlcGxhY2VtZW50cy5ub3JtYWwuaGFzT3duUHJvcGVydHkoc291cmNlKSlcbiAgICAgICAgcGx1Z2luSW5zdGFuY2VzLnB1c2gobmV3IHdlYnBhY2suTm9ybWFsTW9kdWxlUmVwbGFjZW1lbnRQbHVnaW4oXG4gICAgICAgICAgICBuZXcgUmVnRXhwKHNvdXJjZSksXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uLm1vZHVsZS5yZXBsYWNlbWVudHMubm9ybWFsW3NvdXJjZV0pKVxuLy8gLy8gZW5kcmVnaW9uXG4vLyAvLyByZWdpb24gZ2VuZXJhdGUgaHRtbCBmaWxlXG5sZXQgaHRtbEF2YWlsYWJsZTpib29sZWFuID0gZmFsc2VcbmlmIChjb25maWd1cmF0aW9uLmdpdmVuQ29tbWFuZExpbmVBcmd1bWVudHNbMl0gIT09ICdidWlsZERMTCcpXG4gICAgZm9yIChsZXQgaHRtbENvbmZpZ3VyYXRpb246SFRNTENvbmZpZ3VyYXRpb24gb2YgY29uZmlndXJhdGlvbi5maWxlcy5odG1sKVxuICAgICAgICBpZiAoVG9vbHMuaXNGaWxlU3luYyhodG1sQ29uZmlndXJhdGlvbi50ZW1wbGF0ZS5maWxlUGF0aCkpIHtcbiAgICAgICAgICAgIHBsdWdpbkluc3RhbmNlcy5wdXNoKG5ldyBwbHVnaW5zLkhUTUwoVG9vbHMuZXh0ZW5kT2JqZWN0KFxuICAgICAgICAgICAgICAgIHt9LCBodG1sQ29uZmlndXJhdGlvbiwge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogaHRtbENvbmZpZ3VyYXRpb24udGVtcGxhdGUucmVxdWVzdH0pKSlcbiAgICAgICAgICAgIGh0bWxBdmFpbGFibGUgPSB0cnVlXG4gICAgICAgIH1cbi8vIC8vIGVuZHJlZ2lvblxuLy8gLy8gcmVnaW9uIGdlbmVyYXRlIGZhdmljb25zXG5pZiAoaHRtbEF2YWlsYWJsZSAmJiBjb25maWd1cmF0aW9uLmZhdmljb24gJiYgVG9vbHMuaXNGaWxlU3luYyhcbiAgICBjb25maWd1cmF0aW9uLmZhdmljb24ubG9nb1xuKSlcbiAgICBwbHVnaW5JbnN0YW5jZXMucHVzaChuZXcgcGx1Z2lucy5GYXZpY29uKGNvbmZpZ3VyYXRpb24uZmF2aWNvbikpXG4vLyAvLyBlbmRyZWdpb25cbi8vIC8vIHJlZ2lvbiBwcm92aWRlIG9mZmxpbmUgZnVuY3Rpb25hbGl0eVxuaWYgKGh0bWxBdmFpbGFibGUgJiYgY29uZmlndXJhdGlvbi5vZmZsaW5lKSB7XG4gICAgaWYgKCFbJ3NlcnZlJywgJ3Rlc3RJbkJyb3dzZXInXS5pbmNsdWRlcyhcbiAgICAgICAgY29uZmlndXJhdGlvbi5naXZlbkNvbW1hbmRMaW5lQXJndW1lbnRzWzJdXG4gICAgKSkge1xuICAgICAgICBpZiAoY29uZmlndXJhdGlvbi5pblBsYWNlLmNhc2NhZGluZ1N0eWxlU2hlZXQgJiYgT2JqZWN0LmtleXMoXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uLmluUGxhY2UuY2FzY2FkaW5nU3R5bGVTaGVldFxuICAgICAgICApLmxlbmd0aClcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ub2ZmbGluZS5leGNsdWRlcy5wdXNoKHBhdGgucmVsYXRpdmUoXG4gICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5wYXRoLnRhcmdldC5iYXNlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ucGF0aC50YXJnZXQuYXNzZXQuY2FzY2FkaW5nU3R5bGVTaGVldFxuICAgICAgICAgICAgKSArIGAqLmNzcz8ke2NvbmZpZ3VyYXRpb24uaGFzaEFsZ29yaXRobX09KmApXG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uLmluUGxhY2UuamF2YVNjcmlwdCAmJiBPYmplY3Qua2V5cyhcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24uaW5QbGFjZS5qYXZhU2NyaXB0XG4gICAgICAgICkubGVuZ3RoKVxuICAgICAgICAgICAgY29uZmlndXJhdGlvbi5vZmZsaW5lLmV4Y2x1ZGVzLnB1c2gocGF0aC5yZWxhdGl2ZShcbiAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLnBhdGgudGFyZ2V0LmJhc2UsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5wYXRoLnRhcmdldC5hc3NldC5qYXZhU2NyaXB0XG4gICAgICAgICAgICApICsgYCouanM/JHtjb25maWd1cmF0aW9uLmhhc2hBbGdvcml0aG19PSpgKVxuICAgIH1cbiAgICBwbHVnaW5JbnN0YW5jZXMucHVzaChuZXcgcGx1Z2lucy5PZmZsaW5lKGNvbmZpZ3VyYXRpb24ub2ZmbGluZSkpXG59XG4vLyAvLyBlbmRyZWdpb25cbi8vIC8vIHJlZ2lvbiBvcGVucyBicm93c2VyIGF1dG9tYXRpY2FsbHlcbmlmIChjb25maWd1cmF0aW9uLmRldmVsb3BtZW50Lm9wZW5Ccm93c2VyICYmIChodG1sQXZhaWxhYmxlICYmIFtcbiAgICAnc2VydmUnLCAndGVzdEluQnJvd3Nlcidcbl0uaW5jbHVkZXMoY29uZmlndXJhdGlvbi5naXZlbkNvbW1hbmRMaW5lQXJndW1lbnRzWzJdKSkpXG4gICAgcGx1Z2luSW5zdGFuY2VzLnB1c2gobmV3IHBsdWdpbnMuT3BlbkJyb3dzZXIoXG4gICAgICAgIGNvbmZpZ3VyYXRpb24uZGV2ZWxvcG1lbnQub3BlbkJyb3dzZXIpKVxuLy8gLy8gZW5kcmVnaW9uXG4vLyAvLyByZWdpb24gcHJvdmlkZSBidWlsZCBlbnZpcm9ubWVudFxuaWYgKGNvbmZpZ3VyYXRpb24uYnVpbGQuZGVmaW5pdGlvbnMpXG4gICAgcGx1Z2luSW5zdGFuY2VzLnB1c2gobmV3IHdlYnBhY2suRGVmaW5lUGx1Z2luKFxuICAgICAgICBjb25maWd1cmF0aW9uLmJ1aWxkLmRlZmluaXRpb25zKSlcbmlmIChjb25maWd1cmF0aW9uLm1vZHVsZS5wcm92aWRlKVxuICAgIHBsdWdpbkluc3RhbmNlcy5wdXNoKG5ldyB3ZWJwYWNrLlByb3ZpZGVQbHVnaW4oXG4gICAgICAgIGNvbmZpZ3VyYXRpb24ubW9kdWxlLnByb3ZpZGUpKVxuLy8gLy8gZW5kcmVnaW9uXG4vLyAvLyByZWdpb24gbW9kdWxlcy9hc3NldHNcbi8vIC8vLyByZWdpb24gcGVyZm9ybSBqYXZhU2NyaXB0IG1pbmlmaWNhdGlvbi9vcHRpbWlzYXRpb25cbmlmIChjb25maWd1cmF0aW9uLm1vZHVsZS5vcHRpbWl6ZXIuYmFiaWxpKVxuICAgIHBsdWdpbkluc3RhbmNlcy5wdXNoKG5ldyBCYWJpbGlQbHVnaW4oXG4gICAgICAgIGNvbmZpZ3VyYXRpb24ubW9kdWxlLm9wdGltaXplci5iYWJpbGkpKVxuLy8gLy8vIGVuZHJlZ2lvblxuLy8gLy8vIHJlZ2lvbiBhcHBseSBtb2R1bGUgcGF0dGVyblxucGx1Z2luSW5zdGFuY2VzLnB1c2goe2FwcGx5OiAoY29tcGlsZXI6T2JqZWN0KTp2b2lkID0+IHtcbiAgICBjb21waWxlci5wbHVnaW4oJ2VtaXQnLCAoXG4gICAgICAgIGNvbXBpbGF0aW9uOk9iamVjdCwgY2FsbGJhY2s6UHJvY2VkdXJlRnVuY3Rpb25cbiAgICApOnZvaWQgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IHJlcXVlc3Q6c3RyaW5nIGluIGNvbXBpbGF0aW9uLmFzc2V0cylcbiAgICAgICAgICAgIGlmIChjb21waWxhdGlvbi5hc3NldHMuaGFzT3duUHJvcGVydHkocmVxdWVzdCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlUGF0aDpzdHJpbmcgPSByZXF1ZXN0LnJlcGxhY2UoL1xcP1teP10rJC8sICcnKVxuICAgICAgICAgICAgICAgIGNvbnN0IHR5cGU6P3N0cmluZyA9IEhlbHBlci5kZXRlcm1pbmVBc3NldFR5cGUoXG4gICAgICAgICAgICAgICAgICAgIGZpbGVQYXRoLCBjb25maWd1cmF0aW9uLmJ1aWxkLnR5cGVzLCBjb25maWd1cmF0aW9uLnBhdGgpXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgJiYgY29uZmlndXJhdGlvbi5hc3NldFBhdHRlcm5bdHlwZV0gJiYgIShuZXcgUmVnRXhwKFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLmFzc2V0UGF0dGVyblt0eXBlXVxuICAgICAgICAgICAgICAgICAgICAgICAgLmV4Y2x1ZGVGaWxlUGF0aFJlZ3VsYXJFeHByZXNzaW9uXG4gICAgICAgICAgICAgICAgKSkudGVzdChmaWxlUGF0aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc291cmNlOj9zdHJpbmcgPSBjb21waWxhdGlvbi5hc3NldHNbcmVxdWVzdF0uc291cmNlKClcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGlsYXRpb24uYXNzZXRzW3JlcXVlc3RdID0gbmV3IFdlYnBhY2tSYXdTb3VyY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5hc3NldFBhdHRlcm5bdHlwZV0ucGF0dGVybi5yZXBsYWNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvXFx7MVxcfS9nLCBzb3VyY2UucmVwbGFjZSgvXFwkL2csICckJCQnKSkpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBjYWxsYmFjaygpXG4gICAgfSlcbn19KVxuLy8gLy8vIGVuZHJlZ2lvblxuLy8gLy8vIHJlZ2lvbiBpbi1wbGFjZSBjb25maWd1cmVkIGFzc2V0cyBpbiB0aGUgbWFpbiBodG1sIGZpbGVcbmlmIChodG1sQXZhaWxhYmxlICYmICFbJ3NlcnZlJywgJ3Rlc3RJbkJyb3dzZXInXS5pbmNsdWRlcyhcbiAgICBjb25maWd1cmF0aW9uLmdpdmVuQ29tbWFuZExpbmVBcmd1bWVudHNbMl1cbikpXG4gICAgcGx1Z2luSW5zdGFuY2VzLnB1c2goe2FwcGx5OiAoY29tcGlsZXI6T2JqZWN0KTp2b2lkID0+IHtcbiAgICAgICAgY29uc3QgZmlsZVBhdGhzVG9SZW1vdmU6QXJyYXk8c3RyaW5nPiA9IFtdXG4gICAgICAgIGNvbXBpbGVyLnBsdWdpbignY29tcGlsYXRpb24nLCAoY29tcGlsYXRpb246T2JqZWN0KTp2b2lkID0+XG4gICAgICAgICAgICBjb21waWxhdGlvbi5wbHVnaW4oXG4gICAgICAgICAgICAgICAgJ2h0bWwtd2VicGFjay1wbHVnaW4tYWZ0ZXItaHRtbC1wcm9jZXNzaW5nJywgKFxuICAgICAgICAgICAgICAgICAgICBodG1sUGx1Z2luRGF0YTpQbGFpbk9iamVjdCwgY2FsbGJhY2s6UHJvY2VkdXJlRnVuY3Rpb25cbiAgICAgICAgICAgICAgICApOnZvaWQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLmluUGxhY2UuY2FzY2FkaW5nU3R5bGVTaGVldCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5pblBsYWNlLmNhc2NhZGluZ1N0eWxlU2hlZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICkubGVuZ3RoIHx8IGNvbmZpZ3VyYXRpb24uaW5QbGFjZS5qYXZhU2NyaXB0ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhjb25maWd1cmF0aW9uLmluUGxhY2UuamF2YVNjcmlwdCkubGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTk9URTogV2UgaGF2ZSB0byB0cmFuc2xhdGUgdGVtcGxhdGUgZGVsaW1pdGVyIHRvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbCBjb21wYXRpYmxlIHNlcXVlbmNlcyBhbmQgdHJhbnNsYXRlIGl0IGJhY2tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRlciB0byBhdm9pZCB1bmV4cGVjdGVkIGVzY2FwZSBzZXF1ZW5jZXMgaW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRpbmcgaHRtbC5cbiAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBkb20uZW52KGh0bWxQbHVnaW5EYXRhLmh0bWwucmVwbGFjZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPCUvZywgJyMjKyMrIysjIydcbiAgICAgICAgICAgICAgICAgICAgICAgICkucmVwbGFjZSgvJT4vZywgJyMjLSMtIy0jIycpLCAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6P0Vycm9yLCB3aW5kb3c6T2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICApOnZvaWQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycm9yLCBodG1sUGx1Z2luRGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbi5pblBsYWNlLmNhc2NhZGluZ1N0eWxlU2hlZXQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXR0ZXJuOnN0cmluZyBpblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5pblBsYWNlLmNhc2NhZGluZ1N0eWxlU2hlZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbmZpZ3VyYXRpb24uaW5QbGFjZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXNjYWRpbmdTdHlsZVNoZWV0Lmhhc093blByb3BlcnR5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2VsZWN0b3I6c3RyaW5nID0gJ1tocmVmKj1cIi5jc3NcIl0nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF0dGVybiAhPT0gJyonKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yID0gJ1tocmVmPVwiJyArIHBhdGgucmVsYXRpdmUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ucGF0aC50YXJnZXQuYmFzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVscGVyLnJlbmRlckZpbGVQYXRoVGVtcGxhdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLmZpbGVzLmNvbXBvc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2FzY2FkaW5nU3R5bGVTaGVldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnW2NvbnRlbnRoYXNoXSc6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdbaWRdJzogcGF0dGVybixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnW25hbWVdJzogcGF0dGVyblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKSArICdcIl0nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkb21Ob2RlczpBcnJheTxEb21Ob2RlPiA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBsaW5rJHtzZWxlY3Rvcn1gKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvbU5vZGVzLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkb21Ob2RlOkRvbU5vZGUgb2YgZG9tTm9kZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5QbGFjZURvbU5vZGU6RG9tTm9kZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3R5bGUnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXRoOnN0cmluZyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21Ob2RlLmF0dHJpYnV0ZXMuaHJlZi52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLyYuKi9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5QbGFjZURvbU5vZGUudGV4dENvbnRlbnQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGlsYXRpb24uYXNzZXRzW3BhdGhdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNvdXJjZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24uaW5QbGFjZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhc2NhZGluZ1N0eWxlU2hlZXRbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVyblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSA9PT0gJ2JvZHknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5ib2R5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZENoaWxkKGluUGxhY2VEb21Ob2RlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24uaW5QbGFjZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhc2NhZGluZ1N0eWxlU2hlZXRbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVyblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSA9PT0gJ2luJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21Ob2RlLnBhcmVudE5vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5zZXJ0QmVmb3JlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpblBsYWNlRG9tTm9kZSwgZG9tTm9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLmluUGxhY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXNjYWRpbmdTdHlsZVNoZWV0W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0gPT09ICdoZWFkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuaGVhZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmRDaGlsZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5QbGFjZURvbU5vZGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbU5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbU5vZGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOT1RFOiBUaGlzIGRvZXNuJ3QgcHJldmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VicGFjayBmcm9tIGNyZWF0aW5nIHRoaXMgZmlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgcHJlc2VudCBpbiBhbm90aGVyIGNodW5rIHNvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmluZyBpdCAoYW5kIGEgcG90ZW50aWFsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UgbWFwIGZpbGUpIGxhdGVyIGluIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkb25lXCIgaG9vay5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVBhdGhzVG9SZW1vdmUucHVzaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlbHBlci5zdHJpcExvYWRlcihwYXRoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGNvbXBpbGF0aW9uLmFzc2V0c1twYXRoXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdObyByZWZlcmVuY2VkIGNhc2NhZGluZyBzdHlsZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NoZWV0IGZpbGUgaW4gcmVzdWx0aW5nIG1hcmt1cCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2ZvdW5kIHdpdGggc2VsZWN0b3I6IGxpbmsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbi5pblBsYWNlLmphdmFTY3JpcHQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXR0ZXJuOnN0cmluZyBpblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5pblBsYWNlLmphdmFTY3JpcHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbmZpZ3VyYXRpb24uaW5QbGFjZS5qYXZhU2NyaXB0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmhhc093blByb3BlcnR5KHBhdHRlcm4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzZWxlY3RvcjpzdHJpbmcgPSAnW2hyZWYqPVwiLmpzXCJdJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhdHRlcm4gIT09ICcqJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RvciA9ICdbc3JjXj1cIicgKyBwYXRoLnJlbGF0aXZlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLnBhdGgudGFyZ2V0LmJhc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlbHBlci5yZW5kZXJGaWxlUGF0aFRlbXBsYXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5maWxlcy5jb21wb3NlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmphdmFTY3JpcHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1toYXNoXSc6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdbaWRdJzogcGF0dGVybixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnW25hbWVdJzogcGF0dGVyblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICsgJ1wiXScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkb21Ob2RlczpBcnJheTxEb21Ob2RlPiA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBzY3JpcHQke3NlbGVjdG9yfWApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9tTm9kZXMubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvbU5vZGU6RG9tTm9kZSBvZiBkb21Ob2Rlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpblBsYWNlRG9tTm9kZTpEb21Ob2RlID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzY3JpcHQnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXRoOnN0cmluZyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21Ob2RlLmF0dHJpYnV0ZXMuc3JjLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLyYuKi9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5QbGFjZURvbU5vZGUudGV4dENvbnRlbnQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGlsYXRpb24uYXNzZXRzW3BhdGhdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNvdXJjZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uLmluUGxhY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qYXZhU2NyaXB0W3BhdHRlcm5dID09PSAnYm9keSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmJvZHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kQ2hpbGQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluUGxhY2VEb21Ob2RlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjb25maWd1cmF0aW9uLmluUGxhY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qYXZhU2NyaXB0W3BhdHRlcm5dID09PSAnaW4nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbU5vZGUucGFyZW50Tm9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbnNlcnRCZWZvcmUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluUGxhY2VEb21Ob2RlLCBkb21Ob2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjb25maWd1cmF0aW9uLmluUGxhY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qYXZhU2NyaXB0W3BhdHRlcm5dID09PSAnaGVhZCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmhlYWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kQ2hpbGQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluUGxhY2VEb21Ob2RlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21Ob2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21Ob2RlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTk9URTogVGhpcyBkb2Vzbid0IHByZXZlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlYnBhY2sgZnJvbSBjcmVhdGluZyB0aGlzIGZpbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHByZXNlbnQgaW4gYW5vdGhlciBjaHVuayBzb1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZpbmcgaXQgKGFuZCBhIHBvdGVudGlhbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlIG1hcCBmaWxlKSBsYXRlciBpbiB0aGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZG9uZVwiIGhvb2suXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVQYXRoc1RvUmVtb3ZlLnB1c2goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZWxwZXIuc3RyaXBMb2FkZXIocGF0aCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBjb21waWxhdGlvbi5hc3NldHNbcGF0aF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTm8gcmVmZXJlbmNlZCBqYXZhU2NyaXB0IGZpbGUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpbiByZXN1bHRpbmcgbWFya3VwIGZvdW5kIHdpdGggJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBzZWxlY3Rvcjogc2NyaXB0JHtzZWxlY3Rvcn1gKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbFBsdWdpbkRhdGEuaHRtbCA9IGh0bWxQbHVnaW5EYXRhLmh0bWwucmVwbGFjZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL14oXFxzKjwhZG9jdHlwZVtePl0rPz5cXHMqKVtcXHNcXFNdKiQvaSwgJyQxJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub3V0ZXJIVE1MLnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jI1xcKyNcXCsjXFwrIyMvZywgJzwlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkucmVwbGFjZSgvIyMtIy0jLSMjL2csICclPicpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgaHRtbFBsdWdpbkRhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCBodG1sUGx1Z2luRGF0YSlcbiAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgY29tcGlsZXIucGx1Z2luKCdhZnRlci1lbWl0JywgYXN5bmMgKFxuICAgICAgICAgICAgY29tcGlsYXRpb246T2JqZWN0LCBjYWxsYmFjazpQcm9jZWR1cmVGdW5jdGlvblxuICAgICAgICApOlByb21pc2U8dm9pZD4gPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJvbWlzZXM6QXJyYXk8UHJvbWlzZTx2b2lkPj4gPSBbXVxuICAgICAgICAgICAgZm9yIChjb25zdCBwYXRoOnN0cmluZyBvZiBmaWxlUGF0aHNUb1JlbW92ZSlcbiAgICAgICAgICAgICAgICBpZiAoVG9vbHMuaXNGaWxlU3luYyhwYXRoKSlcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChuZXcgUHJvbWlzZSgoXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOkZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgICAgICk6dm9pZCA9PiBmaWxlU3lzdGVtLnVubGluayhwYXRoLCAoXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjo/RXJyb3JcbiAgICAgICAgICAgICAgICAgICAgKTp2b2lkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgICAgICAgICAgICAgIH0pKSlcbiAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKVxuICAgICAgICAgICAgZm9yIChjb25zdCB0eXBlOnN0cmluZyBvZiBbXG4gICAgICAgICAgICAgICAgJ2phdmFTY3JpcHQnLCAnY2FzY2FkaW5nU3R5bGVTaGVldCdcbiAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgaWYgKGZpbGVTeXN0ZW0ucmVhZGRpclN5bmMoXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ucGF0aC50YXJnZXQuYXNzZXRbdHlwZV1cbiAgICAgICAgICAgICAgICApLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgZmlsZVN5c3RlbS5ybWRpclN5bmMoXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLnBhdGgudGFyZ2V0LmFzc2V0W3R5cGVdKVxuICAgICAgICAgICAgY2FsbGJhY2soKVxuICAgICAgICB9KVxuICAgIH19KVxuLy8gLy8vIGVuZHJlZ2lvblxuLy8gLy8vIHJlZ2lvbiByZW1vdmUgY2h1bmtzIGlmIGEgY29ycmVzcG9uZGluZyBkbGwgcGFja2FnZSBleGlzdHNcbmlmIChjb25maWd1cmF0aW9uLmdpdmVuQ29tbWFuZExpbmVBcmd1bWVudHNbMl0gIT09ICdidWlsZERMTCcpXG4gICAgZm9yIChjb25zdCBjaHVua05hbWU6c3RyaW5nIGluIGNvbmZpZ3VyYXRpb24uaW5qZWN0aW9uLmludGVybmFsLm5vcm1hbGl6ZWQpXG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uLmluamVjdGlvbi5pbnRlcm5hbC5ub3JtYWxpemVkLmhhc093blByb3BlcnR5KFxuICAgICAgICAgICAgY2h1bmtOYW1lXG4gICAgICAgICkpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hbmlmZXN0RmlsZVBhdGg6c3RyaW5nID1cbiAgICAgICAgICAgICAgICBgJHtjb25maWd1cmF0aW9uLnBhdGgudGFyZ2V0LmJhc2V9LyR7Y2h1bmtOYW1lfS5gICtcbiAgICAgICAgICAgICAgICBgZGxsLW1hbmlmZXN0Lmpzb25gXG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbi5kbGxNYW5pZmVzdEZpbGVQYXRocy5pbmNsdWRlcyhcbiAgICAgICAgICAgICAgICBtYW5pZmVzdEZpbGVQYXRoXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGNvbmZpZ3VyYXRpb24uaW5qZWN0aW9uLmludGVybmFsLm5vcm1hbGl6ZWRbY2h1bmtOYW1lXVxuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVQYXRoOnN0cmluZyA9IEhlbHBlci5yZW5kZXJGaWxlUGF0aFRlbXBsYXRlKFxuICAgICAgICAgICAgICAgICAgICBIZWxwZXIuc3RyaXBMb2FkZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLmZpbGVzLmNvbXBvc2UuamF2YVNjcmlwdFxuICAgICAgICAgICAgICAgICAgICApLCB7J1tuYW1lXSc6IGNodW5rTmFtZX0pXG4gICAgICAgICAgICAgICAgcGx1Z2luSW5zdGFuY2VzLnB1c2gobmV3IHBsdWdpbnMuQWRkQXNzZXRIVE1MUGx1Z2luKHtcbiAgICAgICAgICAgICAgICAgICAgZmlsZXBhdGg6IGZpbGVQYXRoLFxuICAgICAgICAgICAgICAgICAgICBoYXNoOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdWRlU291cmNlbWFwOiBUb29scy5pc0ZpbGVTeW5jKGAke2ZpbGVQYXRofS5tYXBgKVxuICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICAgIHBsdWdpbkluc3RhbmNlcy5wdXNoKG5ldyB3ZWJwYWNrLkRsbFJlZmVyZW5jZVBsdWdpbih7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IGNvbmZpZ3VyYXRpb24ucGF0aC5jb250ZXh0LCBtYW5pZmVzdDogcmVxdWlyZShcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hbmlmZXN0RmlsZVBhdGgpfSkpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbi8vIC8vLyBlbmRyZWdpb25cbi8vIC8vLyByZWdpb24gZ2VuZXJhdGUgY29tbW9uIGNodW5rc1xuaWYgKGNvbmZpZ3VyYXRpb24uZ2l2ZW5Db21tYW5kTGluZUFyZ3VtZW50c1syXSAhPT0gJ2J1aWxkRExMJylcbiAgICBmb3IgKGNvbnN0IGNodW5rTmFtZTpzdHJpbmcgb2YgY29uZmlndXJhdGlvbi5pbmplY3Rpb24uY29tbW9uQ2h1bmtJRHMpXG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uLmluamVjdGlvbi5pbnRlcm5hbC5ub3JtYWxpemVkLmhhc093blByb3BlcnR5KFxuICAgICAgICAgICAgY2h1bmtOYW1lXG4gICAgICAgICkpXG4gICAgICAgICAgICBwbHVnaW5JbnN0YW5jZXMucHVzaChuZXcgd2VicGFjay5vcHRpbWl6ZS5Db21tb25zQ2h1bmtQbHVnaW4oe1xuICAgICAgICAgICAgICAgIGFzeW5jOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgZmlsZW5hbWU6IHBhdGgucmVsYXRpdmUoXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ucGF0aC50YXJnZXQuYmFzZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5maWxlcy5jb21wb3NlLmphdmFTY3JpcHQpLFxuICAgICAgICAgICAgICAgIG1pbkNodW5rczogSW5maW5pdHksXG4gICAgICAgICAgICAgICAgbmFtZTogY2h1bmtOYW1lLFxuICAgICAgICAgICAgICAgIG1pblNpemU6IDBcbiAgICAgICAgICAgIH0pKVxuLy8gLy8vIGVuZHJlZ2lvblxuLy8gLy8vIHJlZ2lvbiBtYXJrIGVtcHR5IGphdmFTY3JpcHQgbW9kdWxlcyBhcyBkdW1teVxuaWYgKCFjb25maWd1cmF0aW9uLm5lZWRlZC5qYXZhU2NyaXB0KVxuICAgIGNvbmZpZ3VyYXRpb24uZmlsZXMuY29tcG9zZS5qYXZhU2NyaXB0ID0gcGF0aC5yZXNvbHZlKFxuICAgICAgICBjb25maWd1cmF0aW9uLnBhdGgudGFyZ2V0LmFzc2V0LmphdmFTY3JpcHQsICcuX19kdW1teV9fLmNvbXBpbGVkLmpzJylcbi8vIC8vLyBlbmRyZWdpb25cbi8vIC8vLyByZWdpb24gZXh0cmFjdCBjYXNjYWRpbmcgc3R5bGUgc2hlZXRzXG5pZiAoY29uZmlndXJhdGlvbi5maWxlcy5jb21wb3NlLmNhc2NhZGluZ1N0eWxlU2hlZXQpXG4gICAgcGx1Z2luSW5zdGFuY2VzLnB1c2gobmV3IHBsdWdpbnMuRXh0cmFjdFRleHQoe1xuICAgICAgICBhbGxDaHVua3M6IHRydWUsIGZpbGVuYW1lOiBwYXRoLnJlbGF0aXZlKFxuICAgICAgICAgICAgY29uZmlndXJhdGlvbi5wYXRoLnRhcmdldC5iYXNlLFxuICAgICAgICAgICAgY29uZmlndXJhdGlvbi5maWxlcy5jb21wb3NlLmNhc2NhZGluZ1N0eWxlU2hlZXQpXG4gICAgfSkpXG4vLyAvLy8gZW5kcmVnaW9uXG4vLyAvLy8gcmVnaW9uIHBlcmZvcm1zIGltcGxpY2l0IGV4dGVybmFsIGxvZ2ljXG5pZiAoY29uZmlndXJhdGlvbi5pbmplY3Rpb24uZXh0ZXJuYWwubW9kdWxlcyA9PT0gJ19faW1wbGljaXRfXycpXG4gICAgLypcbiAgICAgICAgV2Ugb25seSB3YW50IHRvIHByb2Nlc3MgbW9kdWxlcyBmcm9tIGxvY2FsIGNvbnRleHQgaW4gbGlicmFyeSBtb2RlLFxuICAgICAgICBzaW5jZSBhIGNvbmNyZXRlIHByb2plY3QgdXNpbmcgdGhpcyBsaWJyYXJ5IHNob3VsZCBjb21iaW5lIGFsbCBhc3NldHNcbiAgICAgICAgKGFuZCBkZWR1cGxpY2F0ZSB0aGVtKSBmb3Igb3B0aW1hbCBidW5kbGluZyByZXN1bHRzLiBOT1RFOiBPbmx5IG5hdGl2ZVxuICAgICAgICBqYXZhU2NyaXB0IGFuZCBqc29uIG1vZHVsZXMgd2lsbCBiZSBtYXJrZWQgYXMgZXh0ZXJuYWwgZGVwZW5kZW5jeS5cbiAgICAqL1xuICAgIGNvbmZpZ3VyYXRpb24uaW5qZWN0aW9uLmV4dGVybmFsLm1vZHVsZXMgPSAoXG4gICAgICAgIGNvbnRleHQ6c3RyaW5nLCByZXF1ZXN0OnN0cmluZywgY2FsbGJhY2s6UHJvY2VkdXJlRnVuY3Rpb25cbiAgICApOnZvaWQgPT4ge1xuICAgICAgICByZXF1ZXN0ID0gcmVxdWVzdC5yZXBsYWNlKC9eISsvLCAnJylcbiAgICAgICAgaWYgKHJlcXVlc3Quc3RhcnRzV2l0aCgnLycpKVxuICAgICAgICAgICAgcmVxdWVzdCA9IHBhdGgucmVsYXRpdmUoY29uZmlndXJhdGlvbi5wYXRoLmNvbnRleHQsIHJlcXVlc3QpXG4gICAgICAgIGZvciAoXG4gICAgICAgICAgICBjb25zdCBmaWxlUGF0aDpzdHJpbmcgb2ZcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ubW9kdWxlLmRpcmVjdG9yeU5hbWVzLmNvbmNhdChcbiAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLmxvYWRlci5kaXJlY3RvcnlOYW1lcylcbiAgICAgICAgKVxuICAgICAgICAgICAgaWYgKHJlcXVlc3Quc3RhcnRzV2l0aChmaWxlUGF0aCkpIHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0ID0gcmVxdWVzdC5zdWJzdHJpbmcoZmlsZVBhdGgubGVuZ3RoKVxuICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0LnN0YXJ0c1dpdGgoJy8nKSlcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdCA9IHJlcXVlc3Quc3Vic3RyaW5nKDEpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgbGV0IHJlc29sdmVkUmVxdWVzdDo/c3RyaW5nID0gSGVscGVyLmRldGVybWluZUV4dGVybmFsUmVxdWVzdChcbiAgICAgICAgICAgIHJlcXVlc3QsIGNvbmZpZ3VyYXRpb24ucGF0aC5jb250ZXh0LCBjb250ZXh0LFxuICAgICAgICAgICAgY29uZmlndXJhdGlvbi5pbmplY3Rpb24uaW50ZXJuYWwubm9ybWFsaXplZCxcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ucGF0aC5pZ25vcmUuY29uY2F0KFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ubW9kdWxlLmRpcmVjdG9yeU5hbWVzLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ubG9hZGVyLmRpcmVjdG9yeU5hbWVzXG4gICAgICAgICAgICApLm1hcCgoZmlsZVBhdGg6c3RyaW5nKTpzdHJpbmcgPT4gcGF0aC5yZXNvbHZlKFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ucGF0aC5jb250ZXh0LCBmaWxlUGF0aFxuICAgICAgICAgICAgKSkuZmlsdGVyKChmaWxlUGF0aDpzdHJpbmcpOmJvb2xlYW4gPT5cbiAgICAgICAgICAgICAgICAhY29uZmlndXJhdGlvbi5wYXRoLmNvbnRleHQuc3RhcnRzV2l0aChmaWxlUGF0aClcbiAgICAgICAgICAgICksIGNvbmZpZ3VyYXRpb24ubW9kdWxlLmFsaWFzZXMsXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uLm1vZHVsZS5yZXBsYWNlbWVudHMubm9ybWFsLCBjb25maWd1cmF0aW9uLmV4dGVuc2lvbnMsXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uLnBhdGguc291cmNlLmFzc2V0LmJhc2UsIGNvbmZpZ3VyYXRpb24ucGF0aC5pZ25vcmUsXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uLm1vZHVsZS5kaXJlY3RvcnlOYW1lcyxcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ucGFja2FnZS5tYWluLmZpbGVOYW1lcyxcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ucGFja2FnZS5tYWluLnByb3BlcnR5TmFtZXMsXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uLnBhY2thZ2UuYWxpYXNQcm9wZXJ0eU5hbWVzLFxuICAgICAgICAgICAgY29uZmlndXJhdGlvbi5pbmplY3Rpb24uZXh0ZXJuYWwuaW1wbGljaXQucGF0dGVybi5pbmNsdWRlLFxuICAgICAgICAgICAgY29uZmlndXJhdGlvbi5pbmplY3Rpb24uZXh0ZXJuYWwuaW1wbGljaXQucGF0dGVybi5leGNsdWRlLFxuICAgICAgICAgICAgY29uZmlndXJhdGlvbi5pblBsYWNlLmV4dGVybmFsTGlicmFyeS5ub3JtYWwsXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uLmluUGxhY2UuZXh0ZXJuYWxMaWJyYXJ5LmR5bmFtaWMpXG4gICAgICAgIGlmIChyZXNvbHZlZFJlcXVlc3QpIHtcbiAgICAgICAgICAgIGlmIChbJ3ZhcicsICd1bWQnXS5pbmNsdWRlcyhcbiAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLmV4cG9ydEZvcm1hdC5leHRlcm5hbFxuICAgICAgICAgICAgKSAmJiByZXF1ZXN0IGluIGNvbmZpZ3VyYXRpb24uaW5qZWN0aW9uLmV4dGVybmFsLmFsaWFzZXMpXG4gICAgICAgICAgICAgICAgcmVzb2x2ZWRSZXF1ZXN0ID0gY29uZmlndXJhdGlvbi5pbmplY3Rpb24uZXh0ZXJuYWwuYWxpYXNlc1tcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdF1cbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uLmV4cG9ydEZvcm1hdC5leHRlcm5hbCA9PT0gJ3ZhcicpXG4gICAgICAgICAgICAgICAgcmVzb2x2ZWRSZXF1ZXN0ID0gVG9vbHMuc3RyaW5nQ29udmVydFRvVmFsaWRWYXJpYWJsZU5hbWUoXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVkUmVxdWVzdCwgJzAtOWEtekEtWl8kXFxcXC4nKVxuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKFxuICAgICAgICAgICAgICAgIG51bGwsIHJlc29sdmVkUmVxdWVzdCwgY29uZmlndXJhdGlvbi5leHBvcnRGb3JtYXQuZXh0ZXJuYWwpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKClcbiAgICB9XG4vLyAvLy8gZW5kcmVnaW9uXG4vLyAvLy8gcmVnaW9uIGJ1aWxkIGRsbCBwYWNrYWdlc1xuaWYgKGNvbmZpZ3VyYXRpb24uZ2l2ZW5Db21tYW5kTGluZUFyZ3VtZW50c1syXSA9PT0gJ2J1aWxkRExMJykge1xuICAgIGxldCBkbGxDaHVua0lERXhpc3RzOmJvb2xlYW4gPSBmYWxzZVxuICAgIGZvciAoY29uc3QgY2h1bmtOYW1lOnN0cmluZyBpbiBjb25maWd1cmF0aW9uLmluamVjdGlvbi5pbnRlcm5hbC5ub3JtYWxpemVkKVxuICAgICAgICBpZiAoY29uZmlndXJhdGlvbi5pbmplY3Rpb24uaW50ZXJuYWwubm9ybWFsaXplZC5oYXNPd25Qcm9wZXJ0eShcbiAgICAgICAgICAgIGNodW5rTmFtZVxuICAgICAgICApKVxuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24uaW5qZWN0aW9uLmRsbENodW5rSURzLmluY2x1ZGVzKGNodW5rTmFtZSkpXG4gICAgICAgICAgICAgICAgZGxsQ2h1bmtJREV4aXN0cyA9IHRydWVcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBkZWxldGUgY29uZmlndXJhdGlvbi5pbmplY3Rpb24uaW50ZXJuYWwubm9ybWFsaXplZFtjaHVua05hbWVdXG4gICAgaWYgKGRsbENodW5rSURFeGlzdHMpIHtcbiAgICAgICAgbGlicmFyeU5hbWUgPSAnW25hbWVdRExMUGFja2FnZSdcbiAgICAgICAgcGx1Z2luSW5zdGFuY2VzLnB1c2gobmV3IHdlYnBhY2suRGxsUGx1Z2luKHtcbiAgICAgICAgICAgIHBhdGg6IGAke2NvbmZpZ3VyYXRpb24ucGF0aC50YXJnZXQuYmFzZX0vW25hbWVdLmRsbC1tYW5pZmVzdC5qc29uYCxcbiAgICAgICAgICAgIG5hbWU6IGxpYnJhcnlOYW1lXG4gICAgICAgIH0pKVxuICAgIH0gZWxzZVxuICAgICAgICBjb25zb2xlLndhcm4oJ05vIGRsbCBjaHVuayBpZCBmb3VuZC4nKVxufVxuLy8gLy8vIGVuZHJlZ2lvblxuLy8gLy8gZW5kcmVnaW9uXG4vLyAvLyByZWdpb24gYXBwbHkgZmluYWwgZG9tL2phdmFTY3JpcHQgbW9kaWZpY2F0aW9ucy9maXhlc1xucGx1Z2luSW5zdGFuY2VzLnB1c2goe2FwcGx5OiAoY29tcGlsZXI6T2JqZWN0KTp2b2lkID0+IGNvbXBpbGVyLnBsdWdpbihcbiAgICAnY29tcGlsYXRpb24nLCAoY29tcGlsYXRpb246T2JqZWN0KTp2b2lkID0+IGNvbXBpbGF0aW9uLnBsdWdpbihcbiAgICAgICAgJ2h0bWwtd2VicGFjay1wbHVnaW4tYWZ0ZXItaHRtbC1wcm9jZXNzaW5nJywgYXN5bmMgKFxuICAgICAgICAgICAgaHRtbFBsdWdpbkRhdGE6UGxhaW5PYmplY3QsIGNhbGxiYWNrOlByb2NlZHVyZUZ1bmN0aW9uXG4gICAgICAgICk6V2luZG93ID0+IGRvbS5lbnYoaHRtbFBsdWdpbkRhdGEuaHRtbC5yZXBsYWNlKFxuICAgICAgICAgICAgLzwlL2csICcjIysjKyMrIyMnXG4gICAgICAgICkucmVwbGFjZSgvJT4vZywgJyMjLSMtIy0jIycpLCAoZXJyb3I6P0Vycm9yLCB3aW5kb3c6V2luZG93KTp2b2lkID0+IHtcbiAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyb3IsIGh0bWxQbHVnaW5EYXRhKVxuICAgICAgICAgICAgY29uc3QgbGlua2FibGVzOntba2V5OnN0cmluZ106c3RyaW5nfSA9IHtcbiAgICAgICAgICAgICAgICBzY3JpcHQ6ICdzcmMnLCBsaW5rOiAnaHJlZid9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRhZ05hbWU6c3RyaW5nIGluIGxpbmthYmxlcylcbiAgICAgICAgICAgICAgICBpZiAobGlua2FibGVzLmhhc093blByb3BlcnR5KHRhZ05hbWUpKVxuICAgICAgICAgICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZG9tTm9kZTpEb21Ob2RlIG9mXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHt0YWdOYW1lfVske2xpbmthYmxlc1t0YWdOYW1lXX0qPVwiP2AgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke2NvbmZpZ3VyYXRpb24uaGFzaEFsZ29yaXRobX09XCJdYClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOT1RFOiBSZW1vdmluZyBzeW1ib2xzIGFmdGVyIGEgXCImXCIgaW4gaGFzaCBzdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcyBuZWNlc3NhcnkgdG8gbWF0Y2ggdGhlIGdlbmVyYXRlZCByZXF1ZXN0IHN0cmluZ3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbiBvZmZsaW5lIHBsdWdpbi5cbiAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBkb21Ob2RlLnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5rYWJsZXNbdGFnTmFtZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tTm9kZS5nZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmthYmxlc1t0YWdOYW1lXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkucmVwbGFjZShuZXcgUmVnRXhwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgKFxcXFw/JHtjb25maWd1cmF0aW9uLmhhc2hBbGdvcml0aG19PWAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnW14mXSspLiokJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksICckMScpKVxuICAgICAgICAgICAgaHRtbFBsdWdpbkRhdGEuaHRtbCA9IGh0bWxQbHVnaW5EYXRhLmh0bWwucmVwbGFjZShcbiAgICAgICAgICAgICAgICAvXihcXHMqPCFkb2N0eXBlW14+XSs/PlxccyopW1xcc1xcU10qJC9pLCAnJDEnXG4gICAgICAgICAgICApICsgd2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUwucmVwbGFjZShcbiAgICAgICAgICAgICAgICAvIyNcXCsjXFwrI1xcKyMjL2csICc8JSdcbiAgICAgICAgICAgICkucmVwbGFjZSgvIyMtIy0jLSMjL2csICclPicpXG4gICAgICAgICAgICBjYWxsYmFjayhudWxsLCBodG1sUGx1Z2luRGF0YSlcbiAgICAgICAgfSkpKX0pXG5pZiAoY29uZmlndXJhdGlvbi5leHBvcnRGb3JtYXQuZXh0ZXJuYWwuc3RhcnRzV2l0aCgndW1kJykpXG4gICAgcGx1Z2luSW5zdGFuY2VzLnB1c2goe2FwcGx5OiAoY29tcGlsZXI6T2JqZWN0KTp2b2lkID0+IGNvbXBpbGVyLnBsdWdpbihcbiAgICAgICAgJ2VtaXQnLCAoY29tcGlsYXRpb246T2JqZWN0LCBjYWxsYmFjazpQcm9jZWR1cmVGdW5jdGlvbik6dm9pZCA9PiB7XG4gICAgICAgICAgICBjb25zdCBidW5kbGVOYW1lOnN0cmluZyA9IChcbiAgICAgICAgICAgICAgICB0eXBlb2YgbGlicmFyeU5hbWUgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICApID8gbGlicmFyeU5hbWUgOiBsaWJyYXJ5TmFtZVswXVxuICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICBOT1RFOiBUaGUgdW1kIG1vZHVsZSBleHBvcnQgZG9lc24ndCBoYW5kbGUgY2FzZXMgd2hlcmUgdGhlXG4gICAgICAgICAgICAgICAgcGFja2FnZSBuYW1lIGRvZXNuJ3QgbWF0Y2ggZXhwb3J0ZWQgbGlicmFyeSBuYW1lLiBUaGlzIHBvc3RcbiAgICAgICAgICAgICAgICBwcm9jZXNzaW5nIGZpeGVzIHRoaXMgaXNzdWUuXG4gICAgICAgICAgICAqL1xuICAgICAgICAgICAgZm9yIChjb25zdCBhc3NldFJlcXVlc3Q6c3RyaW5nIGluIGNvbXBpbGF0aW9uLmFzc2V0cylcbiAgICAgICAgICAgICAgICBpZiAoYXNzZXRSZXF1ZXN0LnJlcGxhY2UoLyhbXj9dKylcXD8uKiQvLCAnJDEnKS5lbmRzV2l0aChcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5idWlsZC50eXBlcy5qYXZhU2NyaXB0Lm91dHB1dEV4dGVuc2lvblxuICAgICAgICAgICAgICAgICkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNvdXJjZTpzdHJpbmcgPVxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGlsYXRpb24uYXNzZXRzW2Fzc2V0UmVxdWVzdF0uc291cmNlKClcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcGxhY2VtZW50OnN0cmluZyBpblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24uaW5qZWN0aW9uLmV4dGVybmFsLmFsaWFzZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbi5pbmplY3Rpb24uZXh0ZXJuYWwuYWxpYXNlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaGFzT3duUHJvcGVydHkocmVwbGFjZW1lbnQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UgPSBzb3VyY2UucmVwbGFjZShuZXcgUmVnRXhwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyhyZXF1aXJlXFxcXCgpXCInICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvb2xzLnN0cmluZ0VzY2FwZVJlZ3VsYXJFeHByZXNzaW9ucyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLmluamVjdGlvbi5leHRlcm5hbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWxpYXNlc1tyZXBsYWNlbWVudF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgKyAnXCIoXFxcXCkpJywgJ2cnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksIGAkMScke3JlcGxhY2VtZW50fSckMmApLnJlcGxhY2UobmV3IFJlZ0V4cChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcoZGVmaW5lXFxcXChcIicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9vbHMuc3RyaW5nRXNjYXBlUmVndWxhckV4cHJlc3Npb25zKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1bmRsZU5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgKyAnXCIsIFxcXFxbLiopXCInICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvb2xzLnN0cmluZ0VzY2FwZVJlZ3VsYXJFeHByZXNzaW9ucyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLmluamVjdGlvbi5leHRlcm5hbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWxpYXNlc1tyZXBsYWNlbWVudF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgKyAnXCIoLipcXFxcXSwgZmFjdG9yeVxcXFwpOyknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksIGAkMScke3JlcGxhY2VtZW50fSckMmApXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UgPSBzb3VyY2UucmVwbGFjZShuZXcgUmVnRXhwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcocm9vdFxcXFxbKVwiJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9vbHMuc3RyaW5nRXNjYXBlUmVndWxhckV4cHJlc3Npb25zKGJ1bmRsZU5hbWUpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXCIoXFxcXF0gPSApJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKSwgYCQxJ2AgKyBUb29scy5zdHJpbmdDb252ZXJ0VG9WYWxpZFZhcmlhYmxlTmFtZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidW5kbGVOYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICApICsgYCckMmApXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21waWxhdGlvbi5hc3NldHNbYXNzZXRSZXF1ZXN0XSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFdlYnBhY2tSYXdTb3VyY2Uoc291cmNlKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FsbGJhY2soKVxuICAgICAgICB9KX0pXG5wbHVnaW5JbnN0YW5jZXMucHVzaCh7YXBwbHk6IChjb21waWxlcjpPYmplY3QpOnZvaWQgPT4gY29tcGlsZXIucGx1Z2luKFxuICAgICdjb21waWxhdGlvbicsIChjb21waWxhdGlvbjpPYmplY3QpOnZvaWQgPT4gY29tcGlsYXRpb24ucGx1Z2luKFxuICAgICAgICAnaHRtbC13ZWJwYWNrLXBsdWdpbi1hZnRlci1odG1sLXByb2Nlc3NpbmcnLCAoXG4gICAgICAgICAgICBodG1sUGx1Z2luRGF0YTpQbGFpbk9iamVjdCwgY2FsbGJhY2s6UHJvY2VkdXJlRnVuY3Rpb25cbiAgICAgICAgKTp2b2lkID0+IHtcbiAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgY29uc3QgaHRtbEZpbGVTcGVjaWZpY2F0aW9uOlBsYWluT2JqZWN0IG9mXG4gICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5maWxlcy5odG1sXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICBodG1sRmlsZVNwZWNpZmljYXRpb24uZmlsZW5hbWUgPT09XG4gICAgICAgICAgICAgICAgICAgIGh0bWxQbHVnaW5EYXRhLnBsdWdpbi5vcHRpb25zLmZpbGVuYW1lXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsb2FkZXJDb25maWd1cmF0aW9uOlBsYWluT2JqZWN0IG9mXG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sRmlsZVNwZWNpZmljYXRpb24udGVtcGxhdGUudXNlXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb2FkZXJDb25maWd1cmF0aW9uLmhhc093blByb3BlcnR5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvcHRpb25zJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKSAmJiBsb2FkZXJDb25maWd1cmF0aW9uLm9wdGlvbnMuaGFzT3duUHJvcGVydHkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbXBpbGVTdGVwcydcbiAgICAgICAgICAgICAgICAgICAgICAgICkgJiYgdHlwZW9mIGxvYWRlckNvbmZpZ3VyYXRpb24ub3B0aW9ucy5jb21waWxlU3RlcHNcbiAgICAgICAgICAgICAgICAgICAgICAgID09PSAnbnVtYmVyJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sUGx1Z2luRGF0YS5odG1sID0gZWpzTG9hZGVyLmJpbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvb2xzLmV4dGVuZE9iamVjdCh0cnVlLCB7fSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogbG9hZGVyQ29uZmlndXJhdGlvbi5vcHRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21waWxlU3RlcHM6IGh0bWxGaWxlU3BlY2lmaWNhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50ZW1wbGF0ZS5wb3N0Q29tcGlsZVN0ZXBzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19KSkoaHRtbFBsdWdpbkRhdGEuaHRtbClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYWxsYmFjayhudWxsLCBodG1sUGx1Z2luRGF0YSlcbiAgICAgICAgfSkpfSlcbi8vIC8vIGVuZHJlZ2lvblxuLy8gLy8gcmVnaW9uIGFkZCBhdXRvbWF0aWMgaW1hZ2UgY29tcHJlc3Npb25cbi8vIE5PVEU6IFRoaXMgcGx1Z2luIHNob3VsZCBiZSBsb2FkZWQgYXQgbGFzdCB0byBlbnN1cmUgdGhhdCBhbGwgZW1pdHRlZCBpbWFnZXNcbi8vIHJhbiB0aHJvdWdoLlxucGx1Z2luSW5zdGFuY2VzLnB1c2gobmV3IHBsdWdpbnMuSW1hZ2VtaW4oXG4gICAgY29uZmlndXJhdGlvbi5tb2R1bGUub3B0aW1pemVyLmltYWdlLmNvbnRlbnQpKVxuLy8gLy8gZW5kcmVnaW9uXG4vLyAvLyByZWdpb24gY29udGV4dCByZXBsYWNlbWVudHNcbmZvciAoXG4gICAgY29uc3QgY29udGV4dFJlcGxhY2VtZW50OkFycmF5PHN0cmluZz4gb2ZcbiAgICBjb25maWd1cmF0aW9uLm1vZHVsZS5yZXBsYWNlbWVudHMuY29udGV4dFxuKVxuICAgIHBsdWdpbkluc3RhbmNlcy5wdXNoKG5ldyB3ZWJwYWNrLkNvbnRleHRSZXBsYWNlbWVudFBsdWdpbihcbiAgICAgICAgLi4uY29udGV4dFJlcGxhY2VtZW50Lm1hcCgodmFsdWU6c3RyaW5nKTphbnkgPT4gKG5ldyBGdW5jdGlvbihcbiAgICAgICAgICAgICdjb25maWd1cmF0aW9uJywgJ19fZGlybmFtZScsICdfX2ZpbGVuYW1lJywgYHJldHVybiAke3ZhbHVlfWBcbiAgICAgICAgKSkoY29uZmlndXJhdGlvbiwgX19kaXJuYW1lLCBfX2ZpbGVuYW1lKSkpKVxuLy8gLy8gZW5kcmVnaW9uXG4vLyAvIGVuZHJlZ2lvblxuLy8gLyByZWdpb24gbG9hZGVyIGhlbHBlclxuY29uc3QgbG9hZGVyOk9iamVjdCA9IHtcbiAgICAvLyBDb252ZXJ0IHRvIGNvbXBhdGlibGUgbmF0aXZlIHdlYiB0eXBlcy5cbiAgICAvLyByZWdpb24gZ2VuZXJpYyB0ZW1wbGF0ZVxuICAgIGVqczoge1xuICAgICAgICBleGNsdWRlOiAoZmlsZVBhdGg6c3RyaW5nKTpib29sZWFuID0+IEhlbHBlci5ub3JtYWxpemVQYXRocyhcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24uZmlsZXMuaHRtbC5jb25jYXQoXG4gICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5maWxlcy5kZWZhdWx0SFRNTFxuICAgICAgICAgICAgKS5tYXAoKGh0bWxDb25maWd1cmF0aW9uOkhUTUxDb25maWd1cmF0aW9uKTpzdHJpbmcgPT5cbiAgICAgICAgICAgICAgICBodG1sQ29uZmlndXJhdGlvbi50ZW1wbGF0ZS5maWxlUGF0aClcbiAgICAgICAgKS5pbmNsdWRlcyhmaWxlUGF0aCkgfHwgKChcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ubW9kdWxlLnByZXByb2Nlc3Nvci5lanMuZXhjbHVkZSA9PT0gbnVsbFxuICAgICAgICApID8gZmFsc2UgOiBldmFsdWF0ZShcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ubW9kdWxlLnByZXByb2Nlc3Nvci5lanMuZXhjbHVkZSwgZmlsZVBhdGgpKSxcbiAgICAgICAgaW5jbHVkZTogSGVscGVyLm5vcm1hbGl6ZVBhdGhzKFtcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ucGF0aC5zb3VyY2UuYmFzZVxuICAgICAgICBdLmNvbmNhdChjb25maWd1cmF0aW9uLm1vZHVsZS5sb2NhdGlvbnMuZGlyZWN0b3J5UGF0aHMpKSxcbiAgICAgICAgdGVzdDogL14oPyEuK1xcLmh0bWxcXC5lanMkKS4rXFwuZWpzJC9pLFxuICAgICAgICB1c2U6IFtcbiAgICAgICAgICAgIHtsb2FkZXI6ICdmaWxlP25hbWU9W3BhdGhdW25hbWVdJyArIChCb29sZWFuKFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ubW9kdWxlLnByZXByb2Nlc3Nvci5lanMub3B0aW9ucy5jb21waWxlU3RlcHMgJSAyXG4gICAgICAgICAgICApID8gJy5qcycgOiAnJykgKyBgPyR7Y29uZmlndXJhdGlvbi5oYXNoQWxnb3JpdGhtfT1baGFzaF1gfSxcbiAgICAgICAgICAgIHtsb2FkZXI6ICdleHRyYWN0J30sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbG9hZGVyOiBjb25maWd1cmF0aW9uLm1vZHVsZS5wcmVwcm9jZXNzb3IuZWpzLmxvYWRlcixcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBjb25maWd1cmF0aW9uLm1vZHVsZS5wcmVwcm9jZXNzb3IuZWpzLm9wdGlvbnNcbiAgICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgIH0sXG4gICAgLy8gZW5kcmVnaW9uXG4gICAgLy8gcmVnaW9uIHNjcmlwdFxuICAgIHNjcmlwdDoge1xuICAgICAgICBleGNsdWRlOiAoZmlsZVBhdGg6c3RyaW5nKTpib29sZWFuID0+IChcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ubW9kdWxlLnByZXByb2Nlc3Nvci5qYXZhU2NyaXB0LmV4Y2x1ZGUgPT09IG51bGxcbiAgICAgICAgKSA/IHJlamVjdEZpbGVQYXRoSW5EZXBlbmRlbmNpZXMoZmlsZVBhdGgpIDogZXZhbHVhdGUoXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uLm1vZHVsZS5wcmVwcm9jZXNzb3IuamF2YVNjcmlwdC5leGNsdWRlLFxuICAgICAgICAgICAgZmlsZVBhdGgpLFxuICAgICAgICBpbmNsdWRlOiBIZWxwZXIubm9ybWFsaXplUGF0aHMoW1xuICAgICAgICAgICAgY29uZmlndXJhdGlvbi5wYXRoLnNvdXJjZS5hc3NldC5qYXZhU2NyaXB0XG4gICAgICAgIF0uY29uY2F0KGNvbmZpZ3VyYXRpb24ubW9kdWxlLmxvY2F0aW9ucy5kaXJlY3RvcnlQYXRocykpLFxuICAgICAgICB0ZXN0OiAvXFwuanMoPzpcXD8uKik/JC9pLFxuICAgICAgICB1c2U6IFt7XG4gICAgICAgICAgICBsb2FkZXI6IGNvbmZpZ3VyYXRpb24ubW9kdWxlLnByZXByb2Nlc3Nvci5qYXZhU2NyaXB0XG4gICAgICAgICAgICAgICAgLmxvYWRlcixcbiAgICAgICAgICAgIG9wdGlvbnM6IGNvbmZpZ3VyYXRpb24ubW9kdWxlLnByZXByb2Nlc3Nvci5qYXZhU2NyaXB0XG4gICAgICAgICAgICAgICAgLm9wdGlvbnNcbiAgICAgICAgfV1cbiAgICB9LFxuICAgIC8vIGVuZHJlZ2lvblxuICAgIC8vIHJlZ2lvbiBodG1sIHRlbXBsYXRlXG4gICAgaHRtbDoge1xuICAgICAgICAvLyBOT1RFOiBUaGlzIGlzIG9ubHkgZm9yIHRoZSBtYWluIGVudHJ5IHRlbXBsYXRlLlxuICAgICAgICBtYWluOiB7XG4gICAgICAgICAgICB0ZXN0OiBuZXcgUmVnRXhwKCdeJyArIFRvb2xzLnN0cmluZ0VzY2FwZVJlZ3VsYXJFeHByZXNzaW9ucyhcbiAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLmZpbGVzLmRlZmF1bHRIVE1MLnRlbXBsYXRlLmZpbGVQYXRoXG4gICAgICAgICAgICApICsgJyg/OlxcXFw/LiopPyQnKSxcbiAgICAgICAgICAgIHVzZTogY29uZmlndXJhdGlvbi5maWxlcy5kZWZhdWx0SFRNTC50ZW1wbGF0ZS51c2VcbiAgICAgICAgfSxcbiAgICAgICAgZWpzOiB7XG4gICAgICAgICAgICBleGNsdWRlOiAoZmlsZVBhdGg6c3RyaW5nKTpib29sZWFuID0+IEhlbHBlci5ub3JtYWxpemVQYXRocyhcbiAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLmZpbGVzLmh0bWwuY29uY2F0KFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLmZpbGVzLmRlZmF1bHRIVE1MXG4gICAgICAgICAgICAgICAgKS5tYXAoKGh0bWxDb25maWd1cmF0aW9uOkhUTUxDb25maWd1cmF0aW9uKTpzdHJpbmcgPT5cbiAgICAgICAgICAgICAgICAgICAgaHRtbENvbmZpZ3VyYXRpb24udGVtcGxhdGUuZmlsZVBhdGgpXG4gICAgICAgICAgICApLmluY2x1ZGVzKGZpbGVQYXRoKSB8fCAoKFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ubW9kdWxlLnByZXByb2Nlc3Nvci5odG1sLmV4Y2x1ZGUgPT09IG51bGxcbiAgICAgICAgICAgICkgPyBmYWxzZSA6IGV2YWx1YXRlKFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ubW9kdWxlLnByZXByb2Nlc3Nvci5odG1sLmV4Y2x1ZGUsIGZpbGVQYXRoKSksXG4gICAgICAgICAgICBpbmNsdWRlOiBjb25maWd1cmF0aW9uLnBhdGguc291cmNlLmFzc2V0LnRlbXBsYXRlLFxuICAgICAgICAgICAgdGVzdDogL1xcLmh0bWxcXC5lanMoPzpcXD8uKik/JC9pLFxuICAgICAgICAgICAgdXNlOiBbXG4gICAgICAgICAgICAgICAge2xvYWRlcjogJ2ZpbGU/bmFtZT0nICsgcGF0aC5qb2luKHBhdGgucmVsYXRpdmUoXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ucGF0aC50YXJnZXQuYXNzZXQuYmFzZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5wYXRoLnRhcmdldC5hc3NldC50ZW1wbGF0ZVxuICAgICAgICAgICAgICAgICksICdbbmFtZV0nICsgKEJvb2xlYW4oXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ubW9kdWxlLnByZXByb2Nlc3Nvci5odG1sLm9wdGlvbnMuY29tcGlsZVN0ZXBzXG4gICAgICAgICAgICAgICAgICAgICUgMlxuICAgICAgICAgICAgICAgICkgPyAnLmpzJyA6ICcnKSArIGA/JHtjb25maWd1cmF0aW9uLmhhc2hBbGdvcml0aG19PVtoYXNoXWApfVxuICAgICAgICAgICAgXS5jb25jYXQoKEJvb2xlYW4oXG4gICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5tb2R1bGUucHJlcHJvY2Vzc29yLmh0bWwub3B0aW9ucy5jb21waWxlU3RlcHMgJSAyXG4gICAgICAgICAgICApID8gW10gOiBbXG4gICAgICAgICAgICAgICAge2xvYWRlcjogJ2V4dHJhY3QnfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRlcjogY29uZmlndXJhdGlvbi5tb2R1bGUuaHRtbC5sb2FkZXIsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IGNvbmZpZ3VyYXRpb24ubW9kdWxlLmh0bWwub3B0aW9uc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0pLCB7XG4gICAgICAgICAgICAgICAgbG9hZGVyOiBjb25maWd1cmF0aW9uLm1vZHVsZS5wcmVwcm9jZXNzb3IuaHRtbC5sb2FkZXIsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogY29uZmlndXJhdGlvbi5tb2R1bGUucHJlcHJvY2Vzc29yLmh0bWwub3B0aW9uc1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgaHRtbDoge1xuICAgICAgICAgICAgZXhjbHVkZTogKGZpbGVQYXRoOnN0cmluZyk6Ym9vbGVhbiA9PiBIZWxwZXIubm9ybWFsaXplUGF0aHMoXG4gICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5maWxlcy5odG1sLmNvbmNhdChcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5maWxlcy5kZWZhdWx0SFRNTFxuICAgICAgICAgICAgICAgICkubWFwKChodG1sQ29uZmlndXJhdGlvbjpIVE1MQ29uZmlndXJhdGlvbik6c3RyaW5nID0+XG4gICAgICAgICAgICAgICAgICAgIGh0bWxDb25maWd1cmF0aW9uLnRlbXBsYXRlLmZpbGVQYXRoKVxuICAgICAgICAgICAgKS5pbmNsdWRlcyhmaWxlUGF0aCkgfHwgKChcbiAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLm1vZHVsZS5odG1sLmV4Y2x1ZGUgPT09IG51bGxcbiAgICAgICAgICAgICkgPyB0cnVlIDogZXZhbHVhdGUoXG4gICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5tb2R1bGUuaHRtbC5leGNsdWRlLCBmaWxlUGF0aCkpLFxuICAgICAgICAgICAgaW5jbHVkZTogY29uZmlndXJhdGlvbi5wYXRoLnNvdXJjZS5hc3NldC50ZW1wbGF0ZSxcbiAgICAgICAgICAgIHRlc3Q6IC9cXC5odG1sKD86XFw/LiopPyQvaSxcbiAgICAgICAgICAgIHVzZTogW1xuICAgICAgICAgICAgICAgIHtsb2FkZXI6ICdmaWxlP25hbWU9JyArIHBhdGguam9pbihwYXRoLnJlbGF0aXZlKFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLnBhdGgudGFyZ2V0LmJhc2UsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ucGF0aC50YXJnZXQuYXNzZXQudGVtcGxhdGVcbiAgICAgICAgICAgICAgICApLCBgW25hbWVdLltleHRdPyR7Y29uZmlndXJhdGlvbi5oYXNoQWxnb3JpdGhtfT1baGFzaF1gKX0sXG4gICAgICAgICAgICAgICAge2xvYWRlcjogJ2V4dHJhY3QnfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRlcjogY29uZmlndXJhdGlvbi5tb2R1bGUuaHRtbC5sb2FkZXIsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IGNvbmZpZ3VyYXRpb24ubW9kdWxlLmh0bWwub3B0aW9uc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgLy8gZW5kcmVnaW9uXG4gICAgLy8gTG9hZCBkZXBlbmRlbmNpZXMuXG4gICAgLy8gcmVnaW9uIHN0eWxlXG4gICAgc3R5bGU6IHtcbiAgICAgICAgZXhjbHVkZTogKGZpbGVQYXRoOnN0cmluZyk6Ym9vbGVhbiA9PiAoXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uLm1vZHVsZS5jYXNjYWRpbmdTdHlsZVNoZWV0LmV4Y2x1ZGUgPT09IG51bGxcbiAgICAgICAgKSA/IHJlamVjdEZpbGVQYXRoSW5EZXBlbmRlbmNpZXMoZmlsZVBhdGgpIDogZXZhbHVhdGUoXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uLm1vZHVsZS5jYXNjYWRpbmdTdHlsZVNoZWV0LmV4Y2x1ZGUsIGZpbGVQYXRoXG4gICAgICAgICksXG4gICAgICAgIGluY2x1ZGU6IEhlbHBlci5ub3JtYWxpemVQYXRocyhbXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uLnBhdGguc291cmNlLmFzc2V0LmNhc2NhZGluZ1N0eWxlU2hlZXRcbiAgICAgICAgXS5jb25jYXQoY29uZmlndXJhdGlvbi5tb2R1bGUubG9jYXRpb25zLmRpcmVjdG9yeVBhdGhzKSksXG4gICAgICAgIHRlc3Q6IC9cXC5jc3MoPzpcXD8uKik/JC9pLFxuICAgICAgICB1c2U6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsb2FkZXI6IGNvbmZpZ3VyYXRpb24ubW9kdWxlLnN0eWxlLmxvYWRlcixcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBjb25maWd1cmF0aW9uLm1vZHVsZS5zdHlsZS5vcHRpb25zXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxvYWRlcjogY29uZmlndXJhdGlvbi5tb2R1bGUuY2FzY2FkaW5nU3R5bGVTaGVldC5sb2FkZXIsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogY29uZmlndXJhdGlvbi5tb2R1bGUuY2FzY2FkaW5nU3R5bGVTaGVldC5vcHRpb25zXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxvYWRlcjogY29uZmlndXJhdGlvbi5tb2R1bGUucHJlcHJvY2Vzc29yLmNhc2NhZGluZ1N0eWxlU2hlZXRcbiAgICAgICAgICAgICAgICAgICAgLmxvYWRlcixcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBUb29scy5leHRlbmRPYmplY3QodHJ1ZSwge1xuICAgICAgICAgICAgICAgICAgICBpZGVudDogJ3Bvc3Rjc3MnLFxuICAgICAgICAgICAgICAgICAgICBwbHVnaW5zOiAoKTpBcnJheTxPYmplY3Q+ID0+IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc3Rjc3NJbXBvcnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZERlcGVuZGVuY3lUbzogd2VicGFjayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb290OiBjb25maWd1cmF0aW9uLnBhdGguY29udGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3N0Y3NzQ1NTbmV4dCh7YnJvd3NlcnM6ICc+IDAlJ30pLFxuICAgICAgICAgICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOT1RFOiBDaGVja2luZyBwYXRoIGRvZXNuJ3Qgd29yayBpZiBmb250cyBhcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZlcmVuY2VkIGluIGxpYnJhcmllcyBwcm92aWRlZCBpbiBhbm90aGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24gdGhhbiB0aGUgcHJvamVjdCBpdHNlbGYgbGlrZSB0aGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm5vZGVfbW9kdWxlc1wiIGZvbGRlci5cbiAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3N0Y3NzRm9udFBhdGgoe2NoZWNrUGF0aDogZmFsc2V9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc3Rjc3NVUkwoe2ZpbHRlcjogJycsIG1heFNpemU6IDB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc3Rjc3NTcHJpdGVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJCeTogKCk6UHJvbWlzZTxudWxsPiA9PiBuZXcgUHJvbWlzZSgoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6RnVuY3Rpb24sIHJlamVjdDpGdW5jdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk6UHJvbWlzZTxudWxsPiA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24uZmlsZXMuY29tcG9zZS5pbWFnZSA/IHJlc29sdmUgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSgpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBob29rczoge29uU2F2ZVNwcml0ZXNoZWV0OiAoaW1hZ2U6T2JqZWN0KTpzdHJpbmcgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aC5qb2luKGltYWdlLnNwcml0ZVBhdGgsIHBhdGgucmVsYXRpdmUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLnBhdGgudGFyZ2V0LmFzc2V0LmltYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5maWxlcy5jb21wb3NlLmltYWdlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlc2hlZXRQYXRoOiBjb25maWd1cmF0aW9uLnBhdGguc291cmNlLmFzc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXNjYWRpbmdTdHlsZVNoZWV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZVBhdGg6IGNvbmZpZ3VyYXRpb24ucGF0aC5zb3VyY2UuYXNzZXQuaW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ubW9kdWxlLnByZXByb2Nlc3Nvci5jYXNjYWRpbmdTdHlsZVNoZWV0Lm9wdGlvbnMpXG4gICAgICAgICAgICB9XVxuICAgIH0sXG4gICAgLy8gZW5kcmVnaW9uXG4gICAgLy8gT3B0aW1pemUgbG9hZGVkIGFzc2V0cy5cbiAgICAvLyByZWdpb24gZm9udFxuICAgIGZvbnQ6IHtcbiAgICAgICAgZW90OiB7XG4gICAgICAgICAgICBleGNsdWRlOiAoZmlsZVBhdGg6c3RyaW5nKTpib29sZWFuID0+IChcbiAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLm1vZHVsZS5vcHRpbWl6ZXIuZm9udC5lb3QuZXhjbHVkZSA9PT0gbnVsbFxuICAgICAgICAgICAgKSA/IGZhbHNlIDogZXZhbHVhdGUoXG4gICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5tb2R1bGUub3B0aW1pemVyLmZvbnQuZW90LmV4Y2x1ZGUsIGZpbGVQYXRoKSxcbiAgICAgICAgICAgIGluY2x1ZGU6IGNvbmZpZ3VyYXRpb24ucGF0aC5iYXNlLFxuICAgICAgICAgICAgdGVzdDogL1xcLmVvdCg/OlxcPy4qKT8kL2ksXG4gICAgICAgICAgICB1c2U6IFt7XG4gICAgICAgICAgICAgICAgbG9hZGVyOiBjb25maWd1cmF0aW9uLm1vZHVsZS5vcHRpbWl6ZXIuZm9udC5lb3QubG9hZGVyLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGNvbmZpZ3VyYXRpb24ubW9kdWxlLm9wdGltaXplci5mb250LmVvdC5vcHRpb25zXG4gICAgICAgICAgICB9XVxuICAgICAgICB9LFxuICAgICAgICBzdmc6IHtcbiAgICAgICAgICAgIGV4Y2x1ZGU6IChmaWxlUGF0aDpzdHJpbmcpOmJvb2xlYW4gPT4gKFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ubW9kdWxlLm9wdGltaXplci5mb250LnN2Zy5leGNsdWRlID09PSBudWxsXG4gICAgICAgICAgICApID8gZmFsc2UgOiBldmFsdWF0ZShcbiAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLm1vZHVsZS5vcHRpbWl6ZXIuZm9udC5zdmcuZXhjbHVkZSwgZmlsZVBhdGgpLFxuICAgICAgICAgICAgaW5jbHVkZTogY29uZmlndXJhdGlvbi5wYXRoLmJhc2UsXG4gICAgICAgICAgICB0ZXN0OiAvXFwuc3ZnKD86XFw/LiopPyQvaSxcbiAgICAgICAgICAgIHVzZTogW3tcbiAgICAgICAgICAgICAgICBsb2FkZXI6IGNvbmZpZ3VyYXRpb24ubW9kdWxlLm9wdGltaXplci5mb250LnN2Zy5sb2FkZXIsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogY29uZmlndXJhdGlvbi5tb2R1bGUub3B0aW1pemVyLmZvbnQuc3ZnLm9wdGlvbnNcbiAgICAgICAgICAgIH1dXG4gICAgICAgIH0sXG4gICAgICAgIHR0Zjoge1xuICAgICAgICAgICAgZXhjbHVkZTogKGZpbGVQYXRoOnN0cmluZyk6Ym9vbGVhbiA9PiAoXG4gICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5tb2R1bGUub3B0aW1pemVyLmZvbnQudHRmLmV4Y2x1ZGUgPT09IG51bGxcbiAgICAgICAgICAgICkgPyBmYWxzZSA6IGV2YWx1YXRlKFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ubW9kdWxlLm9wdGltaXplci5mb250LnR0Zi5leGNsdWRlLCBmaWxlUGF0aCksXG4gICAgICAgICAgICBpbmNsdWRlOiBjb25maWd1cmF0aW9uLnBhdGguYmFzZSxcbiAgICAgICAgICAgIHRlc3Q6IC9cXC50dGYoPzpcXD8uKik/JC9pLFxuICAgICAgICAgICAgdXNlOiBbe1xuICAgICAgICAgICAgICAgIGxvYWRlcjogY29uZmlndXJhdGlvbi5tb2R1bGUub3B0aW1pemVyLmZvbnQudHRmLmxvYWRlcixcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBjb25maWd1cmF0aW9uLm1vZHVsZS5vcHRpbWl6ZXIuZm9udC50dGYub3B0aW9uc1xuICAgICAgICAgICAgfV1cbiAgICAgICAgfSxcbiAgICAgICAgd29mZjoge1xuICAgICAgICAgICAgZXhjbHVkZTogKGZpbGVQYXRoOnN0cmluZyk6Ym9vbGVhbiA9PiAoXG4gICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5tb2R1bGUub3B0aW1pemVyLmZvbnQud29mZi5leGNsdWRlID09PSBudWxsXG4gICAgICAgICAgICApID8gZmFsc2UgOiBldmFsdWF0ZShcbiAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLm1vZHVsZS5vcHRpbWl6ZXIuZm9udC53b2ZmLmV4Y2x1ZGUsIGZpbGVQYXRoXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgaW5jbHVkZTogY29uZmlndXJhdGlvbi5wYXRoLmJhc2UsXG4gICAgICAgICAgICB0ZXN0OiAvXFwud29mZjI/KD86XFw/LiopPyQvaSxcbiAgICAgICAgICAgIHVzZTogW3tcbiAgICAgICAgICAgICAgICBsb2FkZXI6IGNvbmZpZ3VyYXRpb24ubW9kdWxlLm9wdGltaXplci5mb250LndvZmYubG9hZGVyLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGNvbmZpZ3VyYXRpb24ubW9kdWxlLm9wdGltaXplci5mb250LndvZmYub3B0aW9uc1xuICAgICAgICAgICAgfV1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgLy8gZW5kcmVnaW9uXG4gICAgLy8gcmVnaW9uIGltYWdlXG4gICAgaW1hZ2U6IHtcbiAgICAgICAgZXhjbHVkZTogKGZpbGVQYXRoOnN0cmluZyk6Ym9vbGVhbiA9PiAoXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uLm1vZHVsZS5vcHRpbWl6ZXIuaW1hZ2UuZXhjbHVkZSA9PT0gbnVsbFxuICAgICAgICApID8gcmVqZWN0RmlsZVBhdGhJbkRlcGVuZGVuY2llcyhmaWxlUGF0aCkgOiBldmFsdWF0ZShcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ubW9kdWxlLm9wdGltaXplci5pbWFnZS5leGNsdWRlLCBmaWxlUGF0aCksXG4gICAgICAgIGluY2x1ZGU6IGNvbmZpZ3VyYXRpb24ucGF0aC5zb3VyY2UuYXNzZXQuaW1hZ2UsXG4gICAgICAgIHRlc3Q6IC9cXC4oPzpwbmd8anBnfGljb3xnaWYpKD86XFw/LiopPyQvaSxcbiAgICAgICAgdXNlOiB7XG4gICAgICAgICAgICBsb2FkZXI6IGNvbmZpZ3VyYXRpb24ubW9kdWxlLm9wdGltaXplci5pbWFnZS5sb2FkZXIsXG4gICAgICAgICAgICBvcHRpb25zOiBjb25maWd1cmF0aW9uLm1vZHVsZS5vcHRpbWl6ZXIuaW1hZ2UuZmlsZVxuICAgICAgICB9XG4gICAgfSxcbiAgICAvLyBlbmRyZWdpb25cbiAgICAvLyByZWdpb24gZGF0YVxuICAgIGRhdGE6IHtcbiAgICAgICAgZXhjbHVkZTogKGZpbGVQYXRoOnN0cmluZyk6Ym9vbGVhbiA9PlxuICAgICAgICAgICAgY29uZmlndXJhdGlvbi5leHRlbnNpb25zLmZpbGUuaW50ZXJuYWwuaW5jbHVkZXMoXG4gICAgICAgICAgICAgICAgcGF0aC5leHRuYW1lKEhlbHBlci5zdHJpcExvYWRlcihmaWxlUGF0aCkpXG4gICAgICAgICAgICApIHx8ICgoXG4gICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5tb2R1bGUub3B0aW1pemVyLmRhdGEuZXhjbHVkZSA9PT0gbnVsbFxuICAgICAgICAgICAgKSA/IHJlamVjdEZpbGVQYXRoSW5EZXBlbmRlbmNpZXMoZmlsZVBhdGgpIDogZXZhbHVhdGUoXG4gICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5tb2R1bGUub3B0aW1pemVyLmRhdGEuZXhjbHVkZSwgZmlsZVBhdGgpXG4gICAgICAgICAgICApLFxuICAgICAgICBpbmNsdWRlOiBjb25maWd1cmF0aW9uLnBhdGguc291cmNlLmFzc2V0LmRhdGEsXG4gICAgICAgIHRlc3Q6IC8uKy8sXG4gICAgICAgIHVzZTogW3tcbiAgICAgICAgICAgIGxvYWRlcjogY29uZmlndXJhdGlvbi5tb2R1bGUub3B0aW1pemVyLmRhdGEubG9hZGVyLFxuICAgICAgICAgICAgb3B0aW9uczogY29uZmlndXJhdGlvbi5tb2R1bGUub3B0aW1pemVyLmRhdGEub3B0aW9uc1xuICAgICAgICB9XVxuICAgIH1cbiAgICAvLyBlbmRyZWdpb25cbn1cbmlmIChjb25maWd1cmF0aW9uLmZpbGVzLmNvbXBvc2UuY2FzY2FkaW5nU3R5bGVTaGVldCkge1xuICAgIGxvYWRlci5zdHlsZS51c2Uuc2hpZnQoKVxuICAgIGxvYWRlci5zdHlsZS51c2UgPSBwbHVnaW5zLkV4dHJhY3RUZXh0LmV4dHJhY3Qoe3VzZTogbG9hZGVyLnN0eWxlLnVzZX0pXG59XG5jb25zdCByZWplY3RGaWxlUGF0aEluRGVwZW5kZW5jaWVzOkZ1bmN0aW9uID0gKGZpbGVQYXRoOnN0cmluZyk6Ym9vbGVhbiA9PiB7XG4gICAgZmlsZVBhdGggPSBIZWxwZXIuc3RyaXBMb2FkZXIoZmlsZVBhdGgpXG4gICAgcmV0dXJuIEhlbHBlci5pc0ZpbGVQYXRoSW5Mb2NhdGlvbihcbiAgICAgICAgZmlsZVBhdGgsIGNvbmZpZ3VyYXRpb24ucGF0aC5pZ25vcmUuY29uY2F0KFxuICAgICAgICAgICAgY29uZmlndXJhdGlvbi5tb2R1bGUuZGlyZWN0b3J5TmFtZXMsXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uLmxvYWRlci5kaXJlY3RvcnlOYW1lc1xuICAgICAgICApLm1hcCgoZmlsZVBhdGg6c3RyaW5nKTpzdHJpbmcgPT4gcGF0aC5yZXNvbHZlKFxuICAgICAgICAgICAgY29uZmlndXJhdGlvbi5wYXRoLmNvbnRleHQsIGZpbGVQYXRoKVxuICAgICAgICApLmZpbHRlcigoZmlsZVBhdGg6c3RyaW5nKTpib29sZWFuID0+XG4gICAgICAgICAgICAhY29uZmlndXJhdGlvbi5wYXRoLmNvbnRleHQuc3RhcnRzV2l0aChmaWxlUGF0aCkpKVxufVxuY29uc3QgZXZhbHVhdGU6RnVuY3Rpb24gPSAoY29kZTpzdHJpbmcsIGZpbGVQYXRoOnN0cmluZyk6YW55ID0+IChuZXcgRnVuY3Rpb24oXG4gICAgJ2NvbmZpZ3VyYXRpb24nLCAnZmlsZVBhdGgnLCAnbG9hZGVyJywgJ3JlamVjdEZpbGVQYXRoSW5EZXBlbmRlbmNpZXMnLFxuICAgIGByZXR1cm4gJHtjb2RlfWBcbikpKGNvbmZpZ3VyYXRpb24sIGZpbGVQYXRoLCBsb2FkZXIsIHJlamVjdEZpbGVQYXRoSW5EZXBlbmRlbmNpZXMpXG4vLyAvIGVuZHJlZ2lvblxuLy8gZW5kcmVnaW9uXG4vLyByZWdpb24gY29uZmlndXJhdGlvblxuY29uc3Qgd2VicGFja0NvbmZpZ3VyYXRpb246V2VicGFja0NvbmZpZ3VyYXRpb24gPSB7XG4gICAgYmFpbDogdHJ1ZSxcbiAgICBjYWNoZTogY29uZmlndXJhdGlvbi5jYWNoZS5tYWluLFxuICAgIGNvbnRleHQ6IGNvbmZpZ3VyYXRpb24ucGF0aC5jb250ZXh0LFxuICAgIGRldnRvb2w6IGNvbmZpZ3VyYXRpb24uZGV2ZWxvcG1lbnQudG9vbCxcbiAgICBkZXZTZXJ2ZXI6IGNvbmZpZ3VyYXRpb24uZGV2ZWxvcG1lbnQuc2VydmVyLFxuICAgIC8vIHJlZ2lvbiBpbnB1dFxuICAgIGVudHJ5OiBjb25maWd1cmF0aW9uLmluamVjdGlvbi5pbnRlcm5hbC5ub3JtYWxpemVkLFxuICAgIGV4dGVybmFsczogY29uZmlndXJhdGlvbi5pbmplY3Rpb24uZXh0ZXJuYWwubW9kdWxlcyxcbiAgICByZXNvbHZlOiB7XG4gICAgICAgIGFsaWFzOiBjb25maWd1cmF0aW9uLm1vZHVsZS5hbGlhc2VzLFxuICAgICAgICBhbGlhc0ZpZWxkczogY29uZmlndXJhdGlvbi5wYWNrYWdlLmFsaWFzUHJvcGVydHlOYW1lcyxcbiAgICAgICAgZXh0ZW5zaW9uczogY29uZmlndXJhdGlvbi5leHRlbnNpb25zLmZpbGUuaW50ZXJuYWwsXG4gICAgICAgIG1haW5GaWVsZHM6IGNvbmZpZ3VyYXRpb24ucGFja2FnZS5tYWluLnByb3BlcnR5TmFtZXMsXG4gICAgICAgIG1haW5GaWxlczogY29uZmlndXJhdGlvbi5wYWNrYWdlLm1haW4uZmlsZU5hbWVzLFxuICAgICAgICBtb2R1bGVFeHRlbnNpb25zOiBjb25maWd1cmF0aW9uLmV4dGVuc2lvbnMubW9kdWxlLFxuICAgICAgICBtb2R1bGVzOiBIZWxwZXIubm9ybWFsaXplUGF0aHMoY29uZmlndXJhdGlvbi5tb2R1bGUuZGlyZWN0b3J5TmFtZXMpLFxuICAgICAgICB1bnNhZmVDYWNoZTogY29uZmlndXJhdGlvbi5jYWNoZS51bnNhZmVcbiAgICB9LFxuICAgIHJlc29sdmVMb2FkZXI6IHtcbiAgICAgICAgYWxpYXM6IGNvbmZpZ3VyYXRpb24ubG9hZGVyLmFsaWFzZXMsXG4gICAgICAgIGFsaWFzRmllbGRzOiBjb25maWd1cmF0aW9uLnBhY2thZ2UuYWxpYXNQcm9wZXJ0eU5hbWVzLFxuICAgICAgICBleHRlbnNpb25zOiBjb25maWd1cmF0aW9uLmxvYWRlci5leHRlbnNpb25zLmZpbGUsXG4gICAgICAgIG1haW5GaWVsZHM6IGNvbmZpZ3VyYXRpb24ucGFja2FnZS5tYWluLnByb3BlcnR5TmFtZXMsXG4gICAgICAgIG1haW5GaWxlczogY29uZmlndXJhdGlvbi5wYWNrYWdlLm1haW4uZmlsZU5hbWVzLFxuICAgICAgICBtb2R1bGVFeHRlbnNpb25zOiBjb25maWd1cmF0aW9uLmxvYWRlci5leHRlbnNpb25zLm1vZHVsZSxcbiAgICAgICAgbW9kdWxlczogY29uZmlndXJhdGlvbi5sb2FkZXIuZGlyZWN0b3J5TmFtZXNcbiAgICB9LFxuICAgIC8vIGVuZHJlZ2lvblxuICAgIC8vIHJlZ2lvbiBvdXRwdXRcbiAgICBvdXRwdXQ6IHtcbiAgICAgICAgZmlsZW5hbWU6IHBhdGgucmVsYXRpdmUoXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uLnBhdGgudGFyZ2V0LmJhc2UsXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uLmZpbGVzLmNvbXBvc2UuamF2YVNjcmlwdCksXG4gICAgICAgIGhhc2hGdW5jdGlvbjogY29uZmlndXJhdGlvbi5oYXNoQWxnb3JpdGhtLFxuICAgICAgICBsaWJyYXJ5OiBsaWJyYXJ5TmFtZSxcbiAgICAgICAgbGlicmFyeVRhcmdldDogKFxuICAgICAgICAgICAgY29uZmlndXJhdGlvbi5naXZlbkNvbW1hbmRMaW5lQXJndW1lbnRzWzJdID09PSAnYnVpbGRETEwnXG4gICAgICAgICkgPyAndmFyJyA6IGNvbmZpZ3VyYXRpb24uZXhwb3J0Rm9ybWF0LnNlbGYsXG4gICAgICAgIHBhdGg6IGNvbmZpZ3VyYXRpb24ucGF0aC50YXJnZXQuYmFzZSxcbiAgICAgICAgcHVibGljUGF0aDogY29uZmlndXJhdGlvbi5wYXRoLnRhcmdldC5wdWJsaWMsXG4gICAgICAgIHBhdGhpbmZvOiBjb25maWd1cmF0aW9uLmRlYnVnLFxuICAgICAgICB1bWROYW1lZERlZmluZTogdHJ1ZVxuICAgIH0sXG4gICAgcGVyZm9ybWFuY2U6IGNvbmZpZ3VyYXRpb24ucGVyZm9ybWFuY2VIaW50cyxcbiAgICB0YXJnZXQ6IGNvbmZpZ3VyYXRpb24udGFyZ2V0VGVjaG5vbG9neSxcbiAgICAvLyBlbmRyZWdpb25cbiAgICBtb2R1bGU6IHtcbiAgICAgICAgcnVsZXM6IGNvbmZpZ3VyYXRpb24ubW9kdWxlLmFkZGl0aW9uYWwubWFwKChcbiAgICAgICAgICAgIGxvYWRlckNvbmZpZ3VyYXRpb246UGxhaW5PYmplY3RcbiAgICAgICAgKTpQbGFpbk9iamVjdCA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGV4Y2x1ZGU6IChmaWxlUGF0aDpzdHJpbmcpOmJvb2xlYW4gPT4gZXZhbHVhdGUoXG4gICAgICAgICAgICAgICAgICAgIGxvYWRlckNvbmZpZ3VyYXRpb24uZXhjbHVkZSB8fCAnZmFsc2UnLCBmaWxlUGF0aCksXG4gICAgICAgICAgICAgICAgaW5jbHVkZTogbG9hZGVyQ29uZmlndXJhdGlvbi5pbmNsdWRlICYmIGV2YWx1YXRlKFxuICAgICAgICAgICAgICAgICAgICBsb2FkZXJDb25maWd1cmF0aW9uLmluY2x1ZGUsIGNvbmZpZ3VyYXRpb24ucGF0aC5jb250ZXh0XG4gICAgICAgICAgICAgICAgKSB8fCBjb25maWd1cmF0aW9uLnBhdGguc291cmNlLmJhc2UsXG4gICAgICAgICAgICAgICAgdGVzdDogbmV3IFJlZ0V4cChldmFsdWF0ZShcbiAgICAgICAgICAgICAgICAgICAgbG9hZGVyQ29uZmlndXJhdGlvbi50ZXN0LCBjb25maWd1cmF0aW9uLnBhdGguY29udGV4dCkpLFxuICAgICAgICAgICAgICAgIHVzZTogZXZhbHVhdGUobG9hZGVyQ29uZmlndXJhdGlvbi51c2UpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLmNvbmNhdChbXG4gICAgICAgICAgICBsb2FkZXIuZWpzLFxuICAgICAgICAgICAgbG9hZGVyLnNjcmlwdCxcbiAgICAgICAgICAgIGxvYWRlci5odG1sLm1haW4sIGxvYWRlci5odG1sLmVqcywgbG9hZGVyLmh0bWwuaHRtbCxcbiAgICAgICAgICAgIGxvYWRlci5zdHlsZSxcbiAgICAgICAgICAgIGxvYWRlci5mb250LmVvdCwgbG9hZGVyLmZvbnQuc3ZnLCBsb2FkZXIuZm9udC50dGYsXG4gICAgICAgICAgICBsb2FkZXIuZm9udC53b2ZmLFxuICAgICAgICAgICAgbG9hZGVyLmltYWdlLFxuICAgICAgICAgICAgbG9hZGVyLmRhdGFcbiAgICAgICAgXSlcbiAgICB9LFxuICAgIHBsdWdpbnM6IHBsdWdpbkluc3RhbmNlc1xufVxuaWYgKCFBcnJheS5pc0FycmF5KFxuICAgIGNvbmZpZ3VyYXRpb24ubW9kdWxlLnNraXBQYXJzZVJlZ3VsYXJFeHByZXNzaW9uc1xuKSB8fCBjb25maWd1cmF0aW9uLm1vZHVsZS5za2lwUGFyc2VSZWd1bGFyRXhwcmVzc2lvbnMubGVuZ3RoKVxuICAgIHdlYnBhY2tDb25maWd1cmF0aW9uLm1vZHVsZS5ub1BhcnNlID1cbiAgICAgICAgY29uZmlndXJhdGlvbi5tb2R1bGUuc2tpcFBhcnNlUmVndWxhckV4cHJlc3Npb25zXG5pZiAoY29uZmlndXJhdGlvbi5zaG93Q29uZmlndXJhdGlvbikge1xuICAgIGNvbnNvbGUuaW5mbygnVXNpbmcgaW50ZXJuYWwgY29uZmlndXJhdGlvbjonLCB1dGlsLmluc3BlY3QoY29uZmlndXJhdGlvbiwge1xuICAgICAgICBkZXB0aDogbnVsbH0pKVxuICAgIGNvbnNvbGUuaW5mbygnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKVxuICAgIGNvbnNvbGUuaW5mbygnVXNpbmcgd2VicGFjayBjb25maWd1cmF0aW9uOicsIHV0aWwuaW5zcGVjdChcbiAgICAgICAgd2VicGFja0NvbmZpZ3VyYXRpb24sIHtkZXB0aDogbnVsbH0pKVxufVxuLy8gZW5kcmVnaW9uXG5leHBvcnQgZGVmYXVsdCB3ZWJwYWNrQ29uZmlndXJhdGlvblxuLy8gcmVnaW9uIHZpbSBtb2RsaW5lXG4vLyB2aW06IHNldCB0YWJzdG9wPTQgc2hpZnR3aWR0aD00IGV4cGFuZHRhYjpcbi8vIHZpbTogZm9sZG1ldGhvZD1tYXJrZXIgZm9sZG1hcmtlcj1yZWdpb24sZW5kcmVnaW9uOlxuLy8gZW5kcmVnaW9uXG4iXX0=