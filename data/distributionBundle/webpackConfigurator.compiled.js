#!/usr/bin/env node
'use strict';var _promise=require('babel-runtime/core-js/promise'),_promise2=_interopRequireDefault(_promise),_asyncToGenerator2=require('babel-runtime/helpers/asyncToGenerator'),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2),_keys=require('babel-runtime/core-js/object/keys'),_keys2=_interopRequireDefault(_keys),_babiliWebpackPlugin=require('babili-webpack-plugin'),_babiliWebpackPlugin2=_interopRequireDefault(_babiliWebpackPlugin),_clientnode=require('clientnode'),_clientnode2=_interopRequireDefault(_clientnode),_jsdom=require('jsdom'),dom=_interopRequireWildcard(_jsdom),_fs=require('fs'),fileSystem=_interopRequireWildcard(_fs),_path=require('path'),_path2=_interopRequireDefault(_path),_postcssCssnext=require('postcss-cssnext'),_postcssCssnext2=_interopRequireDefault(_postcssCssnext),_postcssFontpath=require('postcss-fontpath'),_postcssFontpath2=_interopRequireDefault(_postcssFontpath),_postcssImport=require('postcss-import'),_postcssImport2=_interopRequireDefault(_postcssImport),_postcssSprites=require('postcss-sprites'),_postcssSprites2=_interopRequireDefault(_postcssSprites),_postcssUrl=require('postcss-url'),_postcssUrl2=_interopRequireDefault(_postcssUrl),_util=require('util'),_util2=_interopRequireDefault(_util),_webpack=require('webpack'),_webpack2=_interopRequireDefault(_webpack),_webpackSources=require('webpack-sources'),_configurator=require('./configurator.compiled'),_configurator2=_interopRequireDefault(_configurator),_helper=require('./helper.compiled'),_helper2=_interopRequireDefault(_helper),_htmlLoader=require('html-loader'),_htmlLoader2=_interopRequireDefault(_htmlLoader),_loaderUtils=require('loader-utils'),_loaderUtils2=_interopRequireDefault(_loaderUtils);Object.defineProperty(exports,'__esModule',{value:!0});function _interopRequireWildcard(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}try{require('source-map-support/register')}catch(a){}const plugins=require('webpack-load-plugins')();plugins.HTML=plugins.html,plugins.ExtractText=plugins.extractText,plugins.AddAssetHTMLPlugin=require('add-asset-html-webpack-plugin'),plugins.OpenBrowser=plugins.openBrowser,plugins.Favicon=require('favicons-webpack-plugin'),plugins.Imagemin=require('imagemin-webpack-plugin').default,plugins.Offline=require('offline-plugin'),require.cache[require.resolve('html-loader')].exports=function(...a){return _clientnode2.default.extendObject(!0,this.options,module,this.options),_htmlLoader2.default.call(this,...a)};const loaderUtilsIsUrlRequestBackup=_loaderUtils2.default.isUrlRequest;require.cache[require.resolve('loader-utils')].exports.isUrlRequest=(a,...b)=>{return!a.match(/^[a-z]+:.+/)&&loaderUtilsIsUrlRequestBackup.apply(_loaderUtils2.default,[a].concat(b))};let libraryName;'libraryName'in _configurator2.default&&_configurator2.default.libraryName?libraryName=_configurator2.default.libraryName:1<(0,_keys2.default)(_configurator2.default.injection.internal.normalized).length?libraryName='[name]':(libraryName=_configurator2.default.name,'var'===_configurator2.default.exportFormat.self&&(libraryName=_clientnode2.default.stringConvertToValidVariableName(libraryName)));const pluginInstances=[new _webpack2.default.NoEmitOnErrorsPlugin,new _webpack2.default.optimize.OccurrenceOrderPlugin(!0)];for(const a of _configurator2.default.injection.ignorePattern)pluginInstances.push(new _webpack2.default.IgnorePlugin(new RegExp(a)));for(const a in _configurator2.default.module.replacements.normal)_configurator2.default.module.replacements.normal.hasOwnProperty(a)&&pluginInstances.push(new _webpack2.default.NormalModuleReplacementPlugin(new RegExp(a),_configurator2.default.module.replacements.normal[a]));let htmlAvailable=!1;if('buildDLL'!==_configurator2.default.givenCommandLineArguments[2])for(let a of _configurator2.default.files.html)_clientnode2.default.isFileSync(a.template.filePath)&&(pluginInstances.push(new plugins.HTML(_clientnode2.default.extendObject({},a,{template:a.template.request}))),htmlAvailable=!0);if(htmlAvailable&&_configurator2.default.favicon&&_clientnode2.default.isFileSync(_configurator2.default.favicon.logo)&&pluginInstances.push(new plugins.Favicon(_configurator2.default.favicon)),htmlAvailable&&_configurator2.default.offline&&(!['serve','testInBrowser'].includes(_configurator2.default.givenCommandLineArguments[2])&&(_configurator2.default.inPlace.cascadingStyleSheet&&(0,_keys2.default)(_configurator2.default.inPlace.cascadingStyleSheet).length&&_configurator2.default.offline.excludes.push(_path2.default.relative(_configurator2.default.path.target.base,_configurator2.default.path.target.asset.cascadingStyleSheet)+`*.css?${_configurator2.default.hashAlgorithm}=*`),_configurator2.default.inPlace.javaScript&&(0,_keys2.default)(_configurator2.default.inPlace.javaScript).length&&_configurator2.default.offline.excludes.push(_path2.default.relative(_configurator2.default.path.target.base,_configurator2.default.path.target.asset.javaScript)+`*.js?${_configurator2.default.hashAlgorithm}=*`)),pluginInstances.push(new plugins.Offline(_configurator2.default.offline))),_configurator2.default.development.openBrowser&&htmlAvailable&&['serve','testInBrowser'].includes(_configurator2.default.givenCommandLineArguments[2])&&pluginInstances.push(new plugins.OpenBrowser(_configurator2.default.development.openBrowser)),_configurator2.default.build.definitions&&pluginInstances.push(new _webpack2.default.DefinePlugin(_configurator2.default.build.definitions)),_configurator2.default.module.provide&&pluginInstances.push(new _webpack2.default.ProvidePlugin(_configurator2.default.module.provide)),_configurator2.default.module.optimizer.babili&&pluginInstances.push(new _babiliWebpackPlugin2.default(_configurator2.default.module.optimizer.babili)),pluginInstances.push({apply:a=>{a.plugin('emit',(b,c)=>{for(const d in b.assets)if(b.assets.hasOwnProperty(d)){const e=d.replace(/\?[^?]+$/,''),f=_helper2.default.determineAssetType(e,_configurator2.default.build.types,_configurator2.default.path);if(f&&_configurator2.default.assetPattern[f]&&!new RegExp(_configurator2.default.assetPattern[f].excludeFilePathRegularExpression).test(e)){const g=b.assets[d].source();'string'==typeof g&&(b.assets[d]=new _webpackSources.RawSource(_configurator2.default.assetPattern[f].pattern.replace(/\{1\}/g,g.replace(/\$/g,'$$$'))))}}c()})}}),htmlAvailable&&!['serve','testInBrowser'].includes(_configurator2.default.givenCommandLineArguments[2])&&pluginInstances.push({apply:a=>{const b=[];a.plugin('emit',(c,d)=>{_configurator2.default.files.html[0].filename in c.assets&&(_configurator2.default.inPlace.cascadingStyleSheet&&(0,_keys2.default)(_configurator2.default.inPlace.cascadingStyleSheet).length||_configurator2.default.inPlace.javaScript&&(0,_keys2.default)(_configurator2.default.inPlace.javaScript).length)?dom.env(c.assets[_configurator2.default.files.html[0].filename].source(),(e,f)=>{if(_configurator2.default.inPlace.cascadingStyleSheet)for(const g in _configurator2.default.inPlace.cascadingStyleSheet)if(_configurator2.default.inPlace.cascadingStyleSheet.hasOwnProperty(g)){let m='[href*=".css"]';'*'!==g&&(m='[href="'+_path2.default.relative(_configurator2.default.path.target.base,_helper2.default.renderFilePathTemplate(_configurator2.default.files.compose.cascadingStyleSheet,{'[contenthash]':'','[id]':g,'[name]':g}))+'"]');const n=f.document.querySelectorAll(`link${m}`);if(n.length)for(const o of n){const p=f.document.createElement('style'),q=o.attributes.href.value.replace(/&.*/g,'');p.textContent=c.assets[q].source(),'body'===_configurator2.default.inPlace.cascadingStyleSheet[g]?f.document.body.appendChild(p):'in'===_configurator2.default.inPlace.cascadingStyleSheet[g]?o.parentNode.insertBefore(p,o):'head'===_configurator2.default.inPlace.cascadingStyleSheet[g]&&f.document.head.appendChild(p),o.parentNode.removeChild(o),b.push(_helper2.default.stripLoader(q)),delete c.assets[q]}else console.warn('No referenced cascading style sheet file in resulting markup found with '+`selector: link${m}`)}if(_configurator2.default.inPlace.javaScript)for(const g in _configurator2.default.inPlace.javaScript)if(_configurator2.default.inPlace.javaScript.hasOwnProperty(g)){let r='[href*=".js"]';'*'!==g&&(r='[src^="'+_path2.default.relative(_configurator2.default.path.target.base,_helper2.default.renderFilePathTemplate(_configurator2.default.files.compose.javaScript,{'[hash]':'','[id]':g,'[name]':g})+'"]'));const s=f.document.querySelectorAll(`script${r}`);if(s.length)for(const t of s){const u=f.document.createElement('script'),v=t.attributes.src.value.replace(/&.*/g,'');u.textContent=c.assets[v].source(),'body'===_configurator2.default.inPlace.javaScript[g]?f.document.body.appendChild(u):'in'===_configurator2.default.inPlace.javaScript[g]?t.parentNode.insertBefore(u,t):'head'===_configurator2.default.inPlace.javaScript[g]&&f.document.head.appendChild(u),t.parentNode.removeChild(t),b.push(_helper2.default.stripLoader(v)),delete c.assets[v]}else console.warn('No referenced javaScript file in resulting markup found with selector: '+`script${r}`)}c.assets[_configurator2.default.files.html[0].filename]=new _webpackSources.RawSource(c.assets[_configurator2.default.files.html[0].filename].source().replace(/^(\s*<!doctype[^>]+?>\s*)[\s\S]*$/i,'$1')+f.document.documentElement.outerHTML),d()}):d()}),a.plugin('after-emit',(()=>{var c=(0,_asyncToGenerator3.default)(function*(d,e){if(_configurator2.default.files.html[0].filename in d.assets){const f=[];for(const g of b)_clientnode2.default.isFileSync(g)&&f.push(new _promise2.default(function(h){return fileSystem.unlink(g,function(i){i&&console.error(i),h()})}));yield _promise2.default.all(f);for(const g of['javaScript','cascadingStyleSheet'])0===fileSystem.readdirSync(_configurator2.default.path.target.asset[g]).length&&fileSystem.rmdirSync(_configurator2.default.path.target.asset[g])}e()});return function(){return c.apply(this,arguments)}})())}}),'buildDLL'!==_configurator2.default.givenCommandLineArguments[2])for(const a in _configurator2.default.injection.internal.normalized)if(_configurator2.default.injection.internal.normalized.hasOwnProperty(a)){const b=`${_configurator2.default.path.target.base}/${a}.`+`dll-manifest.json`;if(_configurator2.default.dllManifestFilePaths.includes(b)){delete _configurator2.default.injection.internal.normalized[a];const c=_helper2.default.renderFilePathTemplate(_helper2.default.stripLoader(_configurator2.default.files.compose.javaScript),{'[name]':a});pluginInstances.push(new plugins.AddAssetHTMLPlugin({filepath:c,hash:!0,includeSourcemap:_clientnode2.default.isFileSync(`${c}.map`)})),pluginInstances.push(new _webpack2.default.DllReferencePlugin({context:_configurator2.default.path.context,manifest:require(b)}))}}if('buildDLL'!==_configurator2.default.givenCommandLineArguments[2])for(const a of _configurator2.default.injection.commonChunkIDs)_configurator2.default.injection.internal.normalized.hasOwnProperty(a)&&pluginInstances.push(new _webpack2.default.optimize.CommonsChunkPlugin({async:!1,children:!1,filename:_path2.default.relative(_configurator2.default.path.target.base,_configurator2.default.files.compose.javaScript),minChunks:Infinity,name:a,minSize:0}));if(_configurator2.default.needed.javaScript||(_configurator2.default.files.compose.javaScript=_path2.default.resolve(_configurator2.default.path.target.asset.javaScript,'.__dummy__.compiled.js')),pluginInstances.push(new plugins.ExtractText({allChunks:!0,disable:!_configurator2.default.files.compose.cascadingStyleSheet,filename:_configurator2.default.files.compose.cascadingStyleSheet?_path2.default.relative(_configurator2.default.path.target.base,_configurator2.default.files.compose.cascadingStyleSheet):_configurator2.default.path.target.base})),'__implicit__'===_configurator2.default.injection.external.modules&&(_configurator2.default.injection.external.modules=(a,b,c)=>{b=b.replace(/^!+/,''),b.startsWith('/')&&(b=_path2.default.relative(_configurator2.default.path.context,b));for(const e of _configurator2.default.module.directoryNames.concat(_configurator2.default.loader.directoryNames))if(b.startsWith(e)){b=b.substring(e.length),b.startsWith('/')&&(b=b.substring(1));break}let d=_helper2.default.determineExternalRequest(b,_configurator2.default.path.context,a,_configurator2.default.injection.internal.normalized,_configurator2.default.path.ignore.concat(_configurator2.default.module.directoryNames,_configurator2.default.loader.directoryNames).map(e=>_path2.default.resolve(_configurator2.default.path.context,e)).filter(e=>!_configurator2.default.path.context.startsWith(e)),_configurator2.default.module.aliases,_configurator2.default.module.replacements.normal,_configurator2.default.extensions,_configurator2.default.path.source.asset.base,_configurator2.default.path.ignore,_configurator2.default.module.directoryNames,_configurator2.default.package.main.fileNames,_configurator2.default.package.main.propertyNames,_configurator2.default.package.aliasPropertyNames,_configurator2.default.injection.external.implicit.pattern.include,_configurator2.default.injection.external.implicit.pattern.exclude,_configurator2.default.inPlace.externalLibrary.normal,_configurator2.default.inPlace.externalLibrary.dynamic);return d?(['var','umd'].includes(_configurator2.default.exportFormat.external)&&b in _configurator2.default.injection.external.aliases&&(d=_configurator2.default.injection.external.aliases[b]),'var'===_configurator2.default.exportFormat.external&&(d=_clientnode2.default.stringConvertToValidVariableName(d,'0-9a-zA-Z_$\\.')),c(null,d,_configurator2.default.exportFormat.external)):c()}),'buildDLL'===_configurator2.default.givenCommandLineArguments[2]){let a=!1;for(const b in _configurator2.default.injection.internal.normalized)_configurator2.default.injection.internal.normalized.hasOwnProperty(b)&&(_configurator2.default.injection.dllChunkIDs.includes(b)?a=!0:delete _configurator2.default.injection.internal.normalized[b]);a?(libraryName='[name]DLLPackage',pluginInstances.push(new _webpack2.default.DllPlugin({path:`${_configurator2.default.path.target.base}/[name].dll-manifest.json`,name:libraryName}))):console.warn('No dll chunk id found.')}pluginInstances.push({apply:a=>{a.plugin('emit',(b,c)=>{const d=[];for(const f of _configurator2.default.files.html)f.filename in b.assets&&d.push(new _promise2.default((g,h)=>dom.env(b.assets[f.filename].source(),(i,j)=>{if(i)return h(i);const k={script:'src',link:'href'};for(const l in k)if(k.hasOwnProperty(l))for(const m of j.document.querySelectorAll(`${l}[${k[l]}*="?`+`${_configurator2.default.hashAlgorithm}="]`))m.setAttribute(k[l],m.getAttribute(k[l]).replace(new RegExp(`(\\?${_configurator2.default.hashAlgorithm}=`+'[^&]+).*$'),'$1'));return b.assets[f.filename]=new _webpackSources.RawSource(b.assets[f.filename].source().replace(/^(\s*<!doctype[^>]+?>\s*)[\s\S]*$/i,'$1')+j.document.documentElement.outerHTML),g(b.assets[f.filename])})));if(!_configurator2.default.exportFormat.external.startsWith('umd'))return void _promise2.default.all(d).then(()=>c());const e='string'==typeof libraryName?libraryName:libraryName[0];for(const f in b.assets)if(f.replace(/([^?]+)\?.*$/,'$1').endsWith(_configurator2.default.build.types.javaScript.outputExtension)){let g=b.assets[f].source();if('string'==typeof g){for(const h in _configurator2.default.injection.external.aliases)_configurator2.default.injection.external.aliases.hasOwnProperty(h)&&(g=g.replace(new RegExp('(require\\()"'+_clientnode2.default.stringEscapeRegularExpressions(_configurator2.default.injection.external.aliases[h])+'"(\\))','g'),`$1'${h}'$2`).replace(new RegExp('(define\\("'+_clientnode2.default.stringEscapeRegularExpressions(e)+'", \\[.*)"'+_clientnode2.default.stringEscapeRegularExpressions(_configurator2.default.injection.external.aliases[h])+'"(.*\\], factory\\);)'),`$1'${h}'$2`));g=g.replace(new RegExp('(root\\[)"'+_clientnode2.default.stringEscapeRegularExpressions(e)+'"(\\] = )'),`$1'`+_clientnode2.default.stringConvertToValidVariableName(e)+`'$2`),b.assets[f]=new _webpackSources.RawSource(g)}}_promise2.default.all(d).then(()=>c())})}}),pluginInstances.push(new plugins.Imagemin(_configurator2.default.module.optimizer.image.content));for(const a of _configurator2.default.module.replacements.context)pluginInstances.push(new _webpack2.default.ContextReplacementPlugin(...a.map(b=>new Function('configuration','__dirname','__filename',`return ${b}`)(_configurator2.default,__dirname,__filename))));const loader={script:{exclude:a=>null===_configurator2.default.module.preprocessor.javaScript.exclude?rejectFilePathInDependencies(a):evaluate(_configurator2.default.module.preprocessor.javaScript.exclude,a),include:_helper2.default.normalizePaths([_configurator2.default.path.source.asset.javaScript].concat(_configurator2.default.module.locations.directoryPaths)),test:/\.js(?:\?.*)?$/,use:[{loader:_configurator2.default.module.preprocessor.javaScript.loader,options:_configurator2.default.module.preprocessor.javaScript.options}]},html:{main:{test:new RegExp('^'+_clientnode2.default.stringEscapeRegularExpressions(_configurator2.default.files.defaultHTML.template.filePath)+'(?:\\?.*)?$'),use:_configurator2.default.files.defaultHTML.template.use},pug:{exclude:a=>_helper2.default.normalizePaths(_configurator2.default.files.html.concat(_configurator2.default.files.defaultHTML).map(b=>b.template.filePath)).includes(a)||!(null!==_configurator2.default.module.preprocessor.html.exclude)||evaluate(_configurator2.default.module.preprocessor.html.exclude,a),include:_configurator2.default.path.source.asset.template,test:/\.pug(?:\?.*)?$/,use:[{loader:'file?name='+_path2.default.relative(_configurator2.default.path.target.asset.base,_configurator2.default.path.target.asset.template)+`[name].html?${_configurator2.default.hashAlgorithm}=[hash]`},{loader:'extract'},{loader:_configurator2.default.module.html.loader,options:_configurator2.default.module.html.options},{loader:_configurator2.default.module.preprocessor.html.loader,options:_configurator2.default.module.preprocessor.html.options}]},html:{exclude:a=>_helper2.default.normalizePaths(_configurator2.default.files.html.concat(_configurator2.default.files.defaultHTML).map(b=>b.template.filePath)).includes(a)||!(null!==_configurator2.default.module.html.exclude)||evaluate(_configurator2.default.module.html.exclude,a),include:_configurator2.default.path.source.asset.template,test:/\.html(?:\?.*)?$/,use:[{loader:'file?name='+_path2.default.relative(_configurator2.default.path.target.base,_configurator2.default.path.target.asset.template)+`[name].[ext]?${_configurator2.default.hashAlgorithm}=[hash]`},{loader:'extract'},{loader:_configurator2.default.module.html.loader,options:_configurator2.default.module.html.options}]}},style:{exclude:a=>null===_configurator2.default.module.cascadingStyleSheet.exclude?rejectFilePathInDependencies(a):evaluate(_configurator2.default.module.cascadingStyleSheet.exclude,a),include:_helper2.default.normalizePaths([_configurator2.default.path.source.asset.cascadingStyleSheet].concat(_configurator2.default.module.locations.directoryPaths)),test:/\.css(?:\?.*)?$/,use:plugins.ExtractText.extract({fallbackUse:[{loader:_configurator2.default.module.style.loader,options:_configurator2.default.module.style.options}],use:[{loader:_configurator2.default.module.cascadingStyleSheet.loader,options:_configurator2.default.module.cascadingStyleSheet.options},{loader:_configurator2.default.module.preprocessor.cascadingStyleSheet.loader,options:_clientnode2.default.extendObject(!0,{ident:'postcss',plugins:()=>[(0,_postcssImport2.default)({addDependencyTo:_webpack2.default,root:_configurator2.default.path.context}),(0,_postcssCssnext2.default)({browsers:'> 0%'}),(0,_postcssFontpath2.default)({checkPath:!1}),(0,_postcssUrl2.default)({filter:'',maxSize:0}),(0,_postcssSprites2.default)({filterBy:()=>new _promise2.default((a,b)=>(_configurator2.default.files.compose.image?a:b)()),hooks:{onSaveSpritesheet:a=>_path2.default.join(a.spritePath,_path2.default.relative(_configurator2.default.path.target.asset.image,_configurator2.default.files.compose.image))},stylesheetPath:_configurator2.default.path.source.asset.cascadingStyleSheet,spritePath:_configurator2.default.path.source.asset.image})]},_configurator2.default.module.preprocessor.cascadingStyleSheet.options)}]})},font:{eot:{exclude:a=>null!==_configurator2.default.module.optimizer.font.eot.exclude&&evaluate(_configurator2.default.module.optimizer.font.eot.exclude,a),include:_configurator2.default.path.base,test:/\.eot(?:\?.*)?$/,use:[{loader:_configurator2.default.module.optimizer.font.eot.loader,options:_configurator2.default.module.optimizer.font.eot.options}]},svg:{exclude:a=>null!==_configurator2.default.module.optimizer.font.svg.exclude&&evaluate(_configurator2.default.module.optimizer.font.svg.exclude,a),include:_configurator2.default.path.base,test:/\.svg(?:\?.*)?$/,use:[{loader:_configurator2.default.module.optimizer.font.svg.loader,options:_configurator2.default.module.optimizer.font.svg.options}]},ttf:{exclude:a=>null!==_configurator2.default.module.optimizer.font.ttf.exclude&&evaluate(_configurator2.default.module.optimizer.font.ttf.exclude,a),include:_configurator2.default.path.base,test:/\.ttf(?:\?.*)?$/,use:[{loader:_configurator2.default.module.optimizer.font.ttf.loader,options:_configurator2.default.module.optimizer.font.ttf.options}]},woff:{exclude:a=>null!==_configurator2.default.module.optimizer.font.woff.exclude&&evaluate(_configurator2.default.module.optimizer.font.woff.exclude,a),include:_configurator2.default.path.base,test:/\.woff2?(?:\?.*)?$/,use:[{loader:_configurator2.default.module.optimizer.font.woff.loader,options:_configurator2.default.module.optimizer.font.woff.options}]}},image:{exclude:a=>null===_configurator2.default.module.optimizer.image.exclude?rejectFilePathInDependencies(a):evaluate(_configurator2.default.module.optimizer.image.exclude,a),include:_configurator2.default.path.source.asset.image,test:/\.(?:png|jpg|ico|gif)(?:\?.*)?$/,use:{loader:_configurator2.default.module.optimizer.image.loader,options:_configurator2.default.module.optimizer.image.file}},data:{exclude:a=>_configurator2.default.extensions.file.internal.includes(_path2.default.extname(_helper2.default.stripLoader(a)))||(null===_configurator2.default.module.optimizer.data.exclude?rejectFilePathInDependencies(a):evaluate(_configurator2.default.module.optimizer.data.exclude,a)),include:_configurator2.default.path.source.asset.data,test:/.+/,use:[{loader:_configurator2.default.module.optimizer.data.loader,options:_configurator2.default.module.optimizer.data.options}]}},rejectFilePathInDependencies=a=>{return a=_helper2.default.stripLoader(a),_helper2.default.isFilePathInLocation(a,_configurator2.default.path.ignore.concat(_configurator2.default.module.directoryNames,_configurator2.default.loader.directoryNames).map(b=>_path2.default.resolve(_configurator2.default.path.context,b)).filter(b=>!_configurator2.default.path.context.startsWith(b)))},evaluate=(a,b)=>new Function('configuration','filePath','loader','rejectFilePathInDependencies',`return ${a}`)(_configurator2.default,b,loader,rejectFilePathInDependencies),webpackConfiguration={bail:!0,cache:_configurator2.default.cache.main,context:_configurator2.default.path.context,devtool:_configurator2.default.development.tool,devServer:_configurator2.default.development.server,entry:_configurator2.default.injection.internal.normalized,externals:_configurator2.default.injection.external.modules,resolve:{alias:_configurator2.default.module.aliases,aliasFields:_configurator2.default.package.aliasPropertyNames,extensions:_configurator2.default.extensions.file.internal,mainFields:_configurator2.default.package.main.propertyNames,mainFiles:_configurator2.default.package.main.fileNames,moduleExtensions:_configurator2.default.extensions.module,modules:_helper2.default.normalizePaths(_configurator2.default.module.directoryNames),unsafeCache:_configurator2.default.cache.unsafe},resolveLoader:{alias:_configurator2.default.loader.aliases,aliasFields:_configurator2.default.package.aliasPropertyNames,extensions:_configurator2.default.loader.extensions.file,mainFields:_configurator2.default.package.main.propertyNames,mainFiles:_configurator2.default.package.main.fileNames,moduleExtensions:_configurator2.default.loader.extensions.module,modules:_configurator2.default.loader.directoryNames},output:{filename:_path2.default.relative(_configurator2.default.path.target.base,_configurator2.default.files.compose.javaScript),hashFunction:_configurator2.default.hashAlgorithm,library:libraryName,libraryTarget:'buildDLL'===_configurator2.default.givenCommandLineArguments[2]?'var':_configurator2.default.exportFormat.self,path:_configurator2.default.path.target.base,publicPath:_configurator2.default.path.target.public,pathinfo:_configurator2.default.debug,umdNamedDefine:!0},performance:_configurator2.default.performanceHints,target:_configurator2.default.targetTechnology,module:{rules:_configurator2.default.module.additional.map(a=>{return{exclude:b=>evaluate(a.exclude||'false',b),include:a.include&&evaluate(a.include,_configurator2.default.path.context)||_configurator2.default.path.source.base,test:new RegExp(evaluate(a.test,_configurator2.default.path.context)),use:a.use}}).concat([loader.script,loader.html.main,loader.html.pug,loader.html.html,loader.style,loader.font.eot,loader.font.svg,loader.font.ttf,loader.font.woff,loader.image,loader.data])},plugins:pluginInstances.concat(new _webpack2.default.LoaderOptionsPlugin({html:_configurator2.default.module.optimizer.htmlMinifier,pug:_configurator2.default.module.preprocessor.html.options}))};(!Array.isArray(_configurator2.default.module.skipParseRegularExpressions)||_configurator2.default.module.skipParseRegularExpressions.length)&&(webpackConfiguration.module.noParse=_configurator2.default.module.skipParseRegularExpressions),_configurator2.default.showConfiguration&&(console.info('Using internal configuration:',_util2.default.inspect(_configurator2.default,{depth:null})),console.info('-----------------------------------------------------------'),console.info('Using webpack configuration:',_util2.default.inspect(webpackConfiguration,{depth:null}))),exports.default=webpackConfiguration;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2tDb25maWd1cmF0b3IuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0EsYSxnaUJBZ0JZLEcsbURBQ0EsVSx3M0NBUVosR0FBSSxDQUNBLFFBQVEsNkJBQVIsQ0FDSCxDQUFDLE1BQU8sQ0FBUCxDQUFjLENBQUUsQ0FHbEIsS0FBTSxTQUFVLFFBQVEsc0JBQVIsR0FBaEIsQ0FHQSxRQUFRLElBQVIsQ0FBZSxRQUFRLEksQ0FDdkIsUUFBUSxXQUFSLENBQXNCLFFBQVEsVyxDQUM5QixRQUFRLGtCQUFSLENBQTZCLFFBQVEsK0JBQVIsQyxDQUM3QixRQUFRLFdBQVIsQ0FBc0IsUUFBUSxXLENBQzlCLFFBQVEsT0FBUixDQUFrQixRQUFRLHlCQUFSLEMsQ0FDbEIsUUFBUSxRQUFSLENBQW1CLFFBQVEseUJBQVIsRUFBbUMsTyxDQUN0RCxRQUFRLE9BQVIsQ0FBa0IsUUFBUSxnQkFBUixDLENBVWxCLFFBQVEsS0FBUixDQUFjLFFBQVEsT0FBUixDQUFnQixhQUFoQixDQUFkLEVBQThDLE9BQTlDLENBQXdELFNBQ3BELEdBQUcsQ0FEaUQsQ0FFbEQsQ0FFRixNQURBLHNCQUFNLFlBQU4sSUFBeUIsS0FBSyxPQUE5QixDQUF1QyxNQUF2QyxDQUErQyxLQUFLLE9BQXBELENBQ0EsQ0FBTyxxQkFBdUIsSUFBdkIsQ0FBNEIsSUFBNUIsQ0FBa0MsR0FBRyxDQUFyQyxDQUNWLEMsQ0FHRCxLQUFNLCtCQUNGLHNCQUF3QixZQUQ1QixDQUVBLFFBQVEsS0FBUixDQUFjLFFBQVEsT0FBUixDQUFnQixjQUFoQixDQUFkLEVBQStDLE9BQS9DLENBQXVELFlBQXZELENBQXNFLENBQ2xFLENBRGtFLENBQ3RELEdBQUcsQ0FEbUQsR0FFekQsUUFDTCxFQUFJLEtBQUosQ0FBVSxZQUFWLENBREssRUFHRiw4QkFBOEIsS0FBOUIsdUJBQ3NCLENBQUMsQ0FBRCxFQUFNLE1BQU4sQ0FBYSxDQUFiLENBRHRCLENBRVYsQyxDQUtELEdBQUksWUFBSixDQUNJLHdDQUFr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QUFDLE1BQU0sT0FBTixDQUNELHVCQUFjLE1BQWQsQ0FBcUIsMkJBRHBCLENBQUQsRUFFQyx1QkFBYyxNQUFkLENBQXFCLDJCQUFyQixDQUFpRCxNLElBQ2xELHFCQUFxQixNQUFyQixDQUE0QixPQUE1QixDQUNJLHVCQUFjLE1BQWQsQ0FBcUIsMkIsRUFDekIsdUJBQWMsaUIsR0FDZCxRQUFRLElBQVIsQ0FBYSwrQkFBYixDQUE4QyxlQUFLLE9BQUwsd0JBQTRCLENBQ3RFLE1BQU8sSUFEK0QsQ0FBNUIsQ0FBOUMsQyxDQUVBLFFBQVEsSUFBUixDQUFhLDZEQUFiLEMsQ0FDQSxRQUFRLElBQVIsQ0FBYSw4QkFBYixDQUE2QyxlQUFLLE9BQUwsQ0FDekMsb0JBRHlDLENBQ25CLENBQUMsTUFBTyxJQUFSLENBRG1CLENBQTdDLEMsa0JBSVcsb0IiLCJmaWxlIjoid2VicGFja0NvbmZpZ3VyYXRvci5jb21waWxlZC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLy8gQGZsb3dcbi8vIC0qLSBjb2Rpbmc6IHV0Zi04IC0qLVxuJ3VzZSBzdHJpY3QnXG4vKiAhXG4gICAgcmVnaW9uIGhlYWRlclxuICAgIENvcHlyaWdodCBUb3JiZW4gU2lja2VydCAoaW5mb1tcIn5hdH5cIl10b3JiZW4ud2Vic2l0ZSkgMTYuMTIuMjAxMlxuXG4gICAgTGljZW5zZVxuICAgIC0tLS0tLS1cblxuICAgIFRoaXMgbGlicmFyeSB3cml0dGVuIGJ5IFRvcmJlbiBTaWNrZXJ0IHN0YW5kIHVuZGVyIGEgY3JlYXRpdmUgY29tbW9ucyBuYW1pbmdcbiAgICAzLjAgdW5wb3J0ZWQgbGljZW5zZS4gc2VlIGh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LzMuMC9kZWVkLmRlXG4gICAgZW5kcmVnaW9uXG4qL1xuLy8gcmVnaW9uIGltcG9ydHNcbmltcG9ydCBCYWJpbGlQbHVnaW4gZnJvbSAnYmFiaWxpLXdlYnBhY2stcGx1Z2luJ1xuaW1wb3J0IFRvb2xzIGZyb20gJ2NsaWVudG5vZGUnXG5pbXBvcnQgdHlwZSB7RG9tTm9kZSwgUGxhaW5PYmplY3QsIFByb2NlZHVyZUZ1bmN0aW9uLCBXaW5kb3d9IGZyb20gJ2NsaWVudG5vZGUnXG5pbXBvcnQgKiBhcyBkb20gZnJvbSAnanNkb20nXG5pbXBvcnQgKiBhcyBmaWxlU3lzdGVtIGZyb20gJ2ZzJ1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcbmltcG9ydCBwb3N0Y3NzQ1NTbmV4dCBmcm9tICdwb3N0Y3NzLWNzc25leHQnXG5pbXBvcnQgcG9zdGNzc0ZvbnRQYXRoIGZyb20gJ3Bvc3Rjc3MtZm9udHBhdGgnXG5pbXBvcnQgcG9zdGNzc0ltcG9ydCBmcm9tICdwb3N0Y3NzLWltcG9ydCdcbmltcG9ydCBwb3N0Y3NzU3ByaXRlcyBmcm9tICdwb3N0Y3NzLXNwcml0ZXMnXG5pbXBvcnQgcG9zdGNzc1VSTCBmcm9tICdwb3N0Y3NzLXVybCdcbi8vIE5PVEU6IE9ubHkgbmVlZGVkIGZvciBkZWJ1Z2dpbmcgdGhpcyBmaWxlLlxudHJ5IHtcbiAgICByZXF1aXJlKCdzb3VyY2UtbWFwLXN1cHBvcnQvcmVnaXN0ZXInKVxufSBjYXRjaCAoZXJyb3IpIHt9XG5pbXBvcnQgdXRpbCBmcm9tICd1dGlsJ1xuaW1wb3J0IHdlYnBhY2sgZnJvbSAnd2VicGFjaydcbmNvbnN0IHBsdWdpbnMgPSByZXF1aXJlKCd3ZWJwYWNrLWxvYWQtcGx1Z2lucycpKClcbmltcG9ydCB7UmF3U291cmNlIGFzIFdlYnBhY2tSYXdTb3VyY2V9IGZyb20gJ3dlYnBhY2stc291cmNlcydcblxucGx1Z2lucy5IVE1MID0gcGx1Z2lucy5odG1sXG5wbHVnaW5zLkV4dHJhY3RUZXh0ID0gcGx1Z2lucy5leHRyYWN0VGV4dFxucGx1Z2lucy5BZGRBc3NldEhUTUxQbHVnaW4gPSByZXF1aXJlKCdhZGQtYXNzZXQtaHRtbC13ZWJwYWNrLXBsdWdpbicpXG5wbHVnaW5zLk9wZW5Ccm93c2VyID0gcGx1Z2lucy5vcGVuQnJvd3NlclxucGx1Z2lucy5GYXZpY29uID0gcmVxdWlyZSgnZmF2aWNvbnMtd2VicGFjay1wbHVnaW4nKVxucGx1Z2lucy5JbWFnZW1pbiA9IHJlcXVpcmUoJ2ltYWdlbWluLXdlYnBhY2stcGx1Z2luJykuZGVmYXVsdFxucGx1Z2lucy5PZmZsaW5lID0gcmVxdWlyZSgnb2ZmbGluZS1wbHVnaW4nKVxuXG5pbXBvcnQgdHlwZSB7SFRNTENvbmZpZ3VyYXRpb24sIFdlYnBhY2tDb25maWd1cmF0aW9ufSBmcm9tICcuL3R5cGUnXG5pbXBvcnQgY29uZmlndXJhdGlvbiBmcm9tICcuL2NvbmZpZ3VyYXRvci5jb21waWxlZCdcbmltcG9ydCBIZWxwZXIgZnJvbSAnLi9oZWxwZXIuY29tcGlsZWQnXG5cbi8vIC8gcmVnaW9uIG1vbmtleSBwYXRjaGVzXG4vLyBNb25rZXktUGF0Y2ggaHRtbCBsb2FkZXIgdG8gcmV0cmlldmUgaHRtbCBsb2FkZXIgb3B0aW9ucyBzaW5jZSB0aGVcbi8vIFwid2VicGFjay1odG1sLXBsdWdpblwiIGRvZXNuJ3QgcHJlc2VydmUgdGhlIG9yaWdpbmFsIGxvYWRlciBpbnRlcmZhY2UuXG5pbXBvcnQgaHRtbExvYWRlck1vZHVsZUJhY2t1cCBmcm9tICdodG1sLWxvYWRlcidcbnJlcXVpcmUuY2FjaGVbcmVxdWlyZS5yZXNvbHZlKCdodG1sLWxvYWRlcicpXS5leHBvcnRzID0gZnVuY3Rpb24oXG4gICAgLi4ucGFyYW1ldGVyOkFycmF5PGFueT5cbik6YW55IHtcbiAgICBUb29scy5leHRlbmRPYmplY3QodHJ1ZSwgdGhpcy5vcHRpb25zLCBtb2R1bGUsIHRoaXMub3B0aW9ucylcbiAgICByZXR1cm4gaHRtbExvYWRlck1vZHVsZUJhY2t1cC5jYWxsKHRoaXMsIC4uLnBhcmFtZXRlcilcbn1cbi8vIE1vbmtleS1QYXRjaCBsb2FkZXItdXRpbHMgdG8gZGVmaW5lIHdoaWNoIHVybCBpcyBhIGxvY2FsIHJlcXVlc3QuXG5pbXBvcnQgbG9hZGVyVXRpbHNNb2R1bGVCYWNrdXAgZnJvbSAnbG9hZGVyLXV0aWxzJ1xuY29uc3QgbG9hZGVyVXRpbHNJc1VybFJlcXVlc3RCYWNrdXA6KHVybDpzdHJpbmcpID0+IGJvb2xlYW4gPVxuICAgIGxvYWRlclV0aWxzTW9kdWxlQmFja3VwLmlzVXJsUmVxdWVzdFxucmVxdWlyZS5jYWNoZVtyZXF1aXJlLnJlc29sdmUoJ2xvYWRlci11dGlscycpXS5leHBvcnRzLmlzVXJsUmVxdWVzdCA9IChcbiAgICB1cmw6c3RyaW5nLCAuLi5hZGRpdGlvbmFsUGFyYW1ldGVyOkFycmF5PGFueT5cbik6Ym9vbGVhbiA9PiB7XG4gICAgaWYgKHVybC5tYXRjaCgvXlthLXpdKzouKy8pKVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICByZXR1cm4gbG9hZGVyVXRpbHNJc1VybFJlcXVlc3RCYWNrdXAuYXBwbHkoXG4gICAgICAgIGxvYWRlclV0aWxzTW9kdWxlQmFja3VwLCBbdXJsXS5jb25jYXQoYWRkaXRpb25hbFBhcmFtZXRlcikpXG59XG4vLyAvIGVuZHJlZ2lvblxuLy8gZW5kcmVnaW9uXG4vLyByZWdpb24gaW5pdGlhbGlzYXRpb25cbi8vIC8gcmVnaW9uIGRldGVybWluZSBsaWJyYXJ5IG5hbWVcbmxldCBsaWJyYXJ5TmFtZTpzdHJpbmdcbmlmICgnbGlicmFyeU5hbWUnIGluIGNvbmZpZ3VyYXRpb24gJiYgY29uZmlndXJhdGlvbi5saWJyYXJ5TmFtZSlcbiAgICBsaWJyYXJ5TmFtZSA9IGNvbmZpZ3VyYXRpb24ubGlicmFyeU5hbWVcbmVsc2UgaWYgKE9iamVjdC5rZXlzKGNvbmZpZ3VyYXRpb24uaW5qZWN0aW9uLmludGVybmFsLm5vcm1hbGl6ZWQpLmxlbmd0aCA+IDEpXG4gICAgbGlicmFyeU5hbWUgPSAnW25hbWVdJ1xuZWxzZSB7XG4gICAgbGlicmFyeU5hbWUgPSBjb25maWd1cmF0aW9uLm5hbWVcbiAgICBpZiAoY29uZmlndXJhdGlvbi5leHBvcnRGb3JtYXQuc2VsZiA9PT0gJ3ZhcicpXG4gICAgICAgIGxpYnJhcnlOYW1lID0gVG9vbHMuc3RyaW5nQ29udmVydFRvVmFsaWRWYXJpYWJsZU5hbWUobGlicmFyeU5hbWUpXG59XG4vLyAvIGVuZHJlZ2lvblxuLy8gLyByZWdpb24gcGx1Z2luc1xuY29uc3QgcGx1Z2luSW5zdGFuY2VzOkFycmF5PE9iamVjdD4gPSBbXG4gICAgbmV3IHdlYnBhY2suTm9FbWl0T25FcnJvcnNQbHVnaW4oKSxcbiAgICBuZXcgd2VicGFjay5vcHRpbWl6ZS5PY2N1cnJlbmNlT3JkZXJQbHVnaW4odHJ1ZSlcbl1cbi8vIC8vIHJlZ2lvbiBkZWZpbmUgbW9kdWxlcyB0byBpZ25vcmVcbmZvciAoY29uc3QgaWdub3JlUGF0dGVybjpzdHJpbmcgb2YgY29uZmlndXJhdGlvbi5pbmplY3Rpb24uaWdub3JlUGF0dGVybilcbiAgICBwbHVnaW5JbnN0YW5jZXMucHVzaChuZXcgd2VicGFjay5JZ25vcmVQbHVnaW4obmV3IFJlZ0V4cChpZ25vcmVQYXR0ZXJuKSkpXG4vLyAvLyBlbmRyZWdpb25cbi8vIC8vIHJlZ2lvbiBkZWZpbmUgbW9kdWxlcyB0byByZXBsYWNlXG5mb3IgKGNvbnN0IHNvdXJjZTpzdHJpbmcgaW4gY29uZmlndXJhdGlvbi5tb2R1bGUucmVwbGFjZW1lbnRzLm5vcm1hbClcbiAgICBpZiAoY29uZmlndXJhdGlvbi5tb2R1bGUucmVwbGFjZW1lbnRzLm5vcm1hbC5oYXNPd25Qcm9wZXJ0eShzb3VyY2UpKVxuICAgICAgICBwbHVnaW5JbnN0YW5jZXMucHVzaChuZXcgd2VicGFjay5Ob3JtYWxNb2R1bGVSZXBsYWNlbWVudFBsdWdpbihcbiAgICAgICAgICAgIG5ldyBSZWdFeHAoc291cmNlKSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ubW9kdWxlLnJlcGxhY2VtZW50cy5ub3JtYWxbc291cmNlXSkpXG4vLyAvLyBlbmRyZWdpb25cbi8vIC8vIHJlZ2lvbiBnZW5lcmF0ZSBodG1sIGZpbGVcbmxldCBodG1sQXZhaWxhYmxlOmJvb2xlYW4gPSBmYWxzZVxuaWYgKGNvbmZpZ3VyYXRpb24uZ2l2ZW5Db21tYW5kTGluZUFyZ3VtZW50c1syXSAhPT0gJ2J1aWxkRExMJylcbiAgICBmb3IgKGxldCBodG1sQ29uZmlndXJhdGlvbjpIVE1MQ29uZmlndXJhdGlvbiBvZiBjb25maWd1cmF0aW9uLmZpbGVzLmh0bWwpXG4gICAgICAgIGlmIChUb29scy5pc0ZpbGVTeW5jKGh0bWxDb25maWd1cmF0aW9uLnRlbXBsYXRlLmZpbGVQYXRoKSkge1xuICAgICAgICAgICAgcGx1Z2luSW5zdGFuY2VzLnB1c2gobmV3IHBsdWdpbnMuSFRNTChUb29scy5leHRlbmRPYmplY3QoXG4gICAgICAgICAgICAgICAge30sIGh0bWxDb25maWd1cmF0aW9uLCB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBodG1sQ29uZmlndXJhdGlvbi50ZW1wbGF0ZS5yZXF1ZXN0fSkpKVxuICAgICAgICAgICAgaHRtbEF2YWlsYWJsZSA9IHRydWVcbiAgICAgICAgfVxuLy8gLy8gZW5kcmVnaW9uXG4vLyAvLyByZWdpb24gZ2VuZXJhdGUgZmF2aWNvbnNcbmlmIChodG1sQXZhaWxhYmxlICYmIGNvbmZpZ3VyYXRpb24uZmF2aWNvbiAmJiBUb29scy5pc0ZpbGVTeW5jKFxuICAgIGNvbmZpZ3VyYXRpb24uZmF2aWNvbi5sb2dvXG4pKVxuICAgIHBsdWdpbkluc3RhbmNlcy5wdXNoKG5ldyBwbHVnaW5zLkZhdmljb24oY29uZmlndXJhdGlvbi5mYXZpY29uKSlcbi8vIC8vIGVuZHJlZ2lvblxuLy8gLy8gcmVnaW9uIHByb3ZpZGUgb2ZmbGluZSBmdW5jdGlvbmFsaXR5XG5pZiAoaHRtbEF2YWlsYWJsZSAmJiBjb25maWd1cmF0aW9uLm9mZmxpbmUpIHtcbiAgICBpZiAoIVsnc2VydmUnLCAndGVzdEluQnJvd3NlciddLmluY2x1ZGVzKFxuICAgICAgICBjb25maWd1cmF0aW9uLmdpdmVuQ29tbWFuZExpbmVBcmd1bWVudHNbMl1cbiAgICApKSB7XG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uLmluUGxhY2UuY2FzY2FkaW5nU3R5bGVTaGVldCAmJiBPYmplY3Qua2V5cyhcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24uaW5QbGFjZS5jYXNjYWRpbmdTdHlsZVNoZWV0XG4gICAgICAgICkubGVuZ3RoKVxuICAgICAgICAgICAgY29uZmlndXJhdGlvbi5vZmZsaW5lLmV4Y2x1ZGVzLnB1c2gocGF0aC5yZWxhdGl2ZShcbiAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLnBhdGgudGFyZ2V0LmJhc2UsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5wYXRoLnRhcmdldC5hc3NldC5jYXNjYWRpbmdTdHlsZVNoZWV0XG4gICAgICAgICAgICApICsgYCouY3NzPyR7Y29uZmlndXJhdGlvbi5oYXNoQWxnb3JpdGhtfT0qYClcbiAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24uaW5QbGFjZS5qYXZhU2NyaXB0ICYmIE9iamVjdC5rZXlzKFxuICAgICAgICAgICAgY29uZmlndXJhdGlvbi5pblBsYWNlLmphdmFTY3JpcHRcbiAgICAgICAgKS5sZW5ndGgpXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uLm9mZmxpbmUuZXhjbHVkZXMucHVzaChwYXRoLnJlbGF0aXZlKFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ucGF0aC50YXJnZXQuYmFzZSxcbiAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLnBhdGgudGFyZ2V0LmFzc2V0LmphdmFTY3JpcHRcbiAgICAgICAgICAgICkgKyBgKi5qcz8ke2NvbmZpZ3VyYXRpb24uaGFzaEFsZ29yaXRobX09KmApXG4gICAgfVxuICAgIHBsdWdpbkluc3RhbmNlcy5wdXNoKG5ldyBwbHVnaW5zLk9mZmxpbmUoY29uZmlndXJhdGlvbi5vZmZsaW5lKSlcbn1cbi8vIC8vIGVuZHJlZ2lvblxuLy8gLy8gcmVnaW9uIG9wZW5zIGJyb3dzZXIgYXV0b21hdGljYWxseVxuaWYgKGNvbmZpZ3VyYXRpb24uZGV2ZWxvcG1lbnQub3BlbkJyb3dzZXIgJiYgKGh0bWxBdmFpbGFibGUgJiYgW1xuICAgICdzZXJ2ZScsICd0ZXN0SW5Ccm93c2VyJ1xuXS5pbmNsdWRlcyhjb25maWd1cmF0aW9uLmdpdmVuQ29tbWFuZExpbmVBcmd1bWVudHNbMl0pKSlcbiAgICBwbHVnaW5JbnN0YW5jZXMucHVzaChuZXcgcGx1Z2lucy5PcGVuQnJvd3NlcihcbiAgICAgICAgY29uZmlndXJhdGlvbi5kZXZlbG9wbWVudC5vcGVuQnJvd3NlcikpXG4vLyAvLyBlbmRyZWdpb25cbi8vIC8vIHJlZ2lvbiBwcm92aWRlIGJ1aWxkIGVudmlyb25tZW50XG5pZiAoY29uZmlndXJhdGlvbi5idWlsZC5kZWZpbml0aW9ucylcbiAgICBwbHVnaW5JbnN0YW5jZXMucHVzaChuZXcgd2VicGFjay5EZWZpbmVQbHVnaW4oXG4gICAgICAgIGNvbmZpZ3VyYXRpb24uYnVpbGQuZGVmaW5pdGlvbnMpKVxuaWYgKGNvbmZpZ3VyYXRpb24ubW9kdWxlLnByb3ZpZGUpXG4gICAgcGx1Z2luSW5zdGFuY2VzLnB1c2gobmV3IHdlYnBhY2suUHJvdmlkZVBsdWdpbihcbiAgICAgICAgY29uZmlndXJhdGlvbi5tb2R1bGUucHJvdmlkZSkpXG4vLyAvLyBlbmRyZWdpb25cbi8vIC8vIHJlZ2lvbiBtb2R1bGVzL2Fzc2V0c1xuLy8gLy8vIHJlZ2lvbiBwZXJmb3JtIGphdmFTY3JpcHQgbWluaWZpY2F0aW9uL29wdGltaXNhdGlvblxuaWYgKGNvbmZpZ3VyYXRpb24ubW9kdWxlLm9wdGltaXplci5iYWJpbGkpXG4gICAgcGx1Z2luSW5zdGFuY2VzLnB1c2gobmV3IEJhYmlsaVBsdWdpbihcbiAgICAgICAgY29uZmlndXJhdGlvbi5tb2R1bGUub3B0aW1pemVyLmJhYmlsaSkpXG4vLyAvLy8gZW5kcmVnaW9uXG4vLyAvLy8gcmVnaW9uIGFwcGx5IG1vZHVsZSBwYXR0ZXJuXG5wbHVnaW5JbnN0YW5jZXMucHVzaCh7YXBwbHk6IChjb21waWxlcjpPYmplY3QpOnZvaWQgPT4ge1xuICAgIGNvbXBpbGVyLnBsdWdpbignZW1pdCcsIChcbiAgICAgICAgY29tcGlsYXRpb246T2JqZWN0LCBjYWxsYmFjazpQcm9jZWR1cmVGdW5jdGlvblxuICAgICk6dm9pZCA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgcmVxdWVzdDpzdHJpbmcgaW4gY29tcGlsYXRpb24uYXNzZXRzKVxuICAgICAgICAgICAgaWYgKGNvbXBpbGF0aW9uLmFzc2V0cy5oYXNPd25Qcm9wZXJ0eShyZXF1ZXN0KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVQYXRoOnN0cmluZyA9IHJlcXVlc3QucmVwbGFjZSgvXFw/W14/XSskLywgJycpXG4gICAgICAgICAgICAgICAgY29uc3QgdHlwZTo/c3RyaW5nID0gSGVscGVyLmRldGVybWluZUFzc2V0VHlwZShcbiAgICAgICAgICAgICAgICAgICAgZmlsZVBhdGgsIGNvbmZpZ3VyYXRpb24uYnVpbGQudHlwZXMsIGNvbmZpZ3VyYXRpb24ucGF0aClcbiAgICAgICAgICAgICAgICBpZiAodHlwZSAmJiBjb25maWd1cmF0aW9uLmFzc2V0UGF0dGVyblt0eXBlXSAmJiAhKG5ldyBSZWdFeHAoXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24uYXNzZXRQYXR0ZXJuW3R5cGVdXG4gICAgICAgICAgICAgICAgICAgICAgICAuZXhjbHVkZUZpbGVQYXRoUmVndWxhckV4cHJlc3Npb25cbiAgICAgICAgICAgICAgICApKS50ZXN0KGZpbGVQYXRoKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2U6P3N0cmluZyA9IGNvbXBpbGF0aW9uLmFzc2V0c1tyZXF1ZXN0XS5zb3VyY2UoKVxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21waWxhdGlvbi5hc3NldHNbcmVxdWVzdF0gPSBuZXcgV2VicGFja1Jhd1NvdXJjZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLmFzc2V0UGF0dGVyblt0eXBlXS5wYXR0ZXJuLnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9cXHsxXFx9L2csIHNvdXJjZS5yZXBsYWNlKC9cXCQvZywgJyQkJCcpKSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhbGxiYWNrKClcbiAgICB9KVxufX0pXG4vLyAvLy8gZW5kcmVnaW9uXG4vLyAvLy8gcmVnaW9uIGluLXBsYWNlIGNvbmZpZ3VyZWQgYXNzZXRzIGluIHRoZSBtYWluIGh0bWwgZmlsZVxuaWYgKGh0bWxBdmFpbGFibGUgJiYgIVsnc2VydmUnLCAndGVzdEluQnJvd3NlciddLmluY2x1ZGVzKFxuICAgIGNvbmZpZ3VyYXRpb24uZ2l2ZW5Db21tYW5kTGluZUFyZ3VtZW50c1syXVxuKSlcbiAgICBwbHVnaW5JbnN0YW5jZXMucHVzaCh7YXBwbHk6IChjb21waWxlcjpPYmplY3QpOnZvaWQgPT4ge1xuICAgICAgICBjb25zdCBmaWxlUGF0aHNUb1JlbW92ZTpBcnJheTxzdHJpbmc+ID0gW11cbiAgICAgICAgY29tcGlsZXIucGx1Z2luKCdlbWl0JywgKFxuICAgICAgICAgICAgY29tcGlsYXRpb246T2JqZWN0LCBjYWxsYmFjazpQcm9jZWR1cmVGdW5jdGlvblxuICAgICAgICApOnZvaWQgPT4ge1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24uZmlsZXMuaHRtbFswXS5maWxlbmFtZSBpbiBjb21waWxhdGlvbi5hc3NldHMgJiYgKFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24uaW5QbGFjZS5jYXNjYWRpbmdTdHlsZVNoZWV0ICYmIE9iamVjdC5rZXlzKFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLmluUGxhY2UuY2FzY2FkaW5nU3R5bGVTaGVldFxuICAgICAgICAgICAgICAgICkubGVuZ3RoIHx8IGNvbmZpZ3VyYXRpb24uaW5QbGFjZS5qYXZhU2NyaXB0ICYmIE9iamVjdC5rZXlzKFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLmluUGxhY2UuamF2YVNjcmlwdFxuICAgICAgICAgICAgICAgICkubGVuZ3RoXG4gICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgIGRvbS5lbnYoY29tcGlsYXRpb24uYXNzZXRzW2NvbmZpZ3VyYXRpb24uZmlsZXMuaHRtbFtcbiAgICAgICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgICAgIF0uZmlsZW5hbWVdLnNvdXJjZSgpLCAoZXJyb3I6P0Vycm9yLCB3aW5kb3c6T2JqZWN0KTp2b2lkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24uaW5QbGFjZS5jYXNjYWRpbmdTdHlsZVNoZWV0KVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXR0ZXJuOnN0cmluZyBpblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24uaW5QbGFjZS5jYXNjYWRpbmdTdHlsZVNoZWV0XG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbmZpZ3VyYXRpb24uaW5QbGFjZS5jYXNjYWRpbmdTdHlsZVNoZWV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5oYXNPd25Qcm9wZXJ0eShwYXR0ZXJuKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2VsZWN0b3I6c3RyaW5nID0gJ1tocmVmKj1cIi5jc3NcIl0nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhdHRlcm4gIT09ICcqJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3IgPSAnW2hyZWY9XCInICsgcGF0aC5yZWxhdGl2ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ucGF0aC50YXJnZXQuYmFzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlbHBlci5yZW5kZXJGaWxlUGF0aFRlbXBsYXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24uZmlsZXMuY29tcG9zZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2FzY2FkaW5nU3R5bGVTaGVldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdbY29udGVudGhhc2hdJzogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdbaWRdJzogcGF0dGVybixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1tuYW1lXSc6IHBhdHRlcm5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKSArICdcIl0nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZG9tTm9kZXM6QXJyYXk8RG9tTm9kZT4gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBsaW5rJHtzZWxlY3Rvcn1gKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb21Ob2Rlcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZG9tTm9kZTpEb21Ob2RlIG9mIGRvbU5vZGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpblBsYWNlRG9tTm9kZTpEb21Ob2RlID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF0aDpzdHJpbmcgPSBkb21Ob2RlLmF0dHJpYnV0ZXMuaHJlZlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC52YWx1ZS5yZXBsYWNlKC8mLiovZywgJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpblBsYWNlRG9tTm9kZS50ZXh0Q29udGVudCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGlsYXRpb24uYXNzZXRzW3BhdGhdLnNvdXJjZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5pblBsYWNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhc2NhZGluZ1N0eWxlU2hlZXRbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdID09PSAnYm9keSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5QbGFjZURvbU5vZGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLmluUGxhY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2FzY2FkaW5nU3R5bGVTaGVldFtwYXR0ZXJuXSA9PT0gJ2luJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbU5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluUGxhY2VEb21Ob2RlLCBkb21Ob2RlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5pblBsYWNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhc2NhZGluZ1N0eWxlU2hlZXRbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdID09PSAnaGVhZCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5QbGFjZURvbU5vZGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21Ob2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZG9tTm9kZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTk9URTogVGhpcyBkb2Vzbid0IHByZXZlbnQgd2VicGFjayBmcm9tXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRpbmcgdGhpcyBmaWxlIGlmIHByZXNlbnQgaW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbm90aGVyIGNodW5rIHNvIHJlbW92aW5nIGl0IChhbmQgYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvdGVudGlhbCBzb3VyY2UgbWFwIGZpbGUpIGxhdGVyIGluIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZG9uZVwiIGhvb2suXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVBhdGhzVG9SZW1vdmUucHVzaChIZWxwZXIuc3RyaXBMb2FkZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgY29tcGlsYXRpb24uYXNzZXRzW3BhdGhdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdObyByZWZlcmVuY2VkIGNhc2NhZGluZyBzdHlsZSBzaGVldCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdmaWxlIGluIHJlc3VsdGluZyBtYXJrdXAgZm91bmQgd2l0aCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBzZWxlY3RvcjogbGluayR7c2VsZWN0b3J9YClcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24uaW5QbGFjZS5qYXZhU2NyaXB0KVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXR0ZXJuOnN0cmluZyBpblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24uaW5QbGFjZS5qYXZhU2NyaXB0XG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbmZpZ3VyYXRpb24uaW5QbGFjZS5qYXZhU2NyaXB0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5oYXNPd25Qcm9wZXJ0eShwYXR0ZXJuKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2VsZWN0b3I6c3RyaW5nID0gJ1tocmVmKj1cIi5qc1wiXSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF0dGVybiAhPT0gJyonKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RvciA9ICdbc3JjXj1cIicgKyBwYXRoLnJlbGF0aXZlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5wYXRoLnRhcmdldC5iYXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVscGVyLnJlbmRlckZpbGVQYXRoVGVtcGxhdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5maWxlcy5jb21wb3NlLmphdmFTY3JpcHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnW2hhc2hdJzogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdbaWRdJzogcGF0dGVybixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1tuYW1lXSc6IHBhdHRlcm5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICsgJ1wiXScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZG9tTm9kZXM6QXJyYXk8RG9tTm9kZT4gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBzY3JpcHQke3NlbGVjdG9yfWApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvbU5vZGVzLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBkb21Ob2RlOkRvbU5vZGUgb2YgZG9tTm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluUGxhY2VEb21Ob2RlOkRvbU5vZGUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF0aDpzdHJpbmcgPSBkb21Ob2RlLmF0dHJpYnV0ZXMuc3JjXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnZhbHVlLnJlcGxhY2UoLyYuKi9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluUGxhY2VEb21Ob2RlLnRleHRDb250ZW50ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21waWxhdGlvbi5hc3NldHNbcGF0aF0uc291cmNlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLmluUGxhY2UuamF2YVNjcmlwdFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVyblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0gPT09ICdib2R5J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpblBsYWNlRG9tTm9kZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvbmZpZ3VyYXRpb24uaW5QbGFjZS5qYXZhU2NyaXB0W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0gPT09ICdpbicpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tTm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5QbGFjZURvbU5vZGUsIGRvbU5vZGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjb25maWd1cmF0aW9uLmluUGxhY2UuamF2YVNjcmlwdFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdID09PSAnaGVhZCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluUGxhY2VEb21Ob2RlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tTm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGRvbU5vZGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5PVEU6IFRoaXMgZG9lc24ndCBwcmV2ZW50IHdlYnBhY2sgZnJvbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0aW5nIHRoaXMgZmlsZSBpZiBwcmVzZW50IGluXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5vdGhlciBjaHVuayBzbyByZW1vdmluZyBpdCAoYW5kIGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3RlbnRpYWwgc291cmNlIG1hcCBmaWxlKSBsYXRlciBpbiB0aGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRvbmVcIiBob29rLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVQYXRoc1RvUmVtb3ZlLnB1c2goSGVscGVyLnN0cmlwTG9hZGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGNvbXBpbGF0aW9uLmFzc2V0c1twYXRoXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTm8gcmVmZXJlbmNlZCBqYXZhU2NyaXB0IGZpbGUgaW4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncmVzdWx0aW5nIG1hcmt1cCBmb3VuZCB3aXRoIHNlbGVjdG9yOiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBzY3JpcHQke3NlbGVjdG9yfWApXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbXBpbGF0aW9uLmFzc2V0c1tjb25maWd1cmF0aW9uLmZpbGVzLmh0bWxbXG4gICAgICAgICAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICAgICAgICAgIF0uZmlsZW5hbWVdID0gbmV3IFdlYnBhY2tSYXdTb3VyY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21waWxhdGlvbi5hc3NldHNbY29uZmlndXJhdGlvbi5maWxlcy5odG1sW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgICAgICAgICAgIF0uZmlsZW5hbWVdLnNvdXJjZSgpLnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgL14oXFxzKjwhZG9jdHlwZVtePl0rPz5cXHMqKVtcXHNcXFNdKiQvaSwgJyQxJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKSArIHdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub3V0ZXJIVE1MKVxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpXG4gICAgICAgIH0pXG4gICAgICAgIGNvbXBpbGVyLnBsdWdpbignYWZ0ZXItZW1pdCcsIGFzeW5jIChcbiAgICAgICAgICAgIGNvbXBpbGF0aW9uOk9iamVjdCwgY2FsbGJhY2s6UHJvY2VkdXJlRnVuY3Rpb25cbiAgICAgICAgKTpQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uLmZpbGVzLmh0bWxbMF0uZmlsZW5hbWUgaW4gY29tcGlsYXRpb24uYXNzZXRzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvbWlzZXM6QXJyYXk8UHJvbWlzZTx2b2lkPj4gPSBbXVxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGF0aDpzdHJpbmcgb2YgZmlsZVBhdGhzVG9SZW1vdmUpXG4gICAgICAgICAgICAgICAgICAgIGlmIChUb29scy5pc0ZpbGVTeW5jKHBhdGgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChuZXcgUHJvbWlzZSgocmVzb2x2ZTpGdW5jdGlvbik6dm9pZCA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVTeXN0ZW0udW5saW5rKHBhdGgsIChlcnJvcjo/RXJyb3IpOnZvaWQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSkpXG4gICAgICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB0eXBlOnN0cmluZyBvZiBbXG4gICAgICAgICAgICAgICAgICAgICdqYXZhU2NyaXB0JywgJ2Nhc2NhZGluZ1N0eWxlU2hlZXQnXG4gICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVTeXN0ZW0ucmVhZGRpclN5bmMoXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLnBhdGgudGFyZ2V0LmFzc2V0W3R5cGVdXG4gICAgICAgICAgICAgICAgICAgICkubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVN5c3RlbS5ybWRpclN5bmMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5wYXRoLnRhcmdldC5hc3NldFt0eXBlXSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbGxiYWNrKClcbiAgICAgICAgfSlcbiAgICB9fSlcbi8vIC8vLyBlbmRyZWdpb25cbi8vIC8vLyByZWdpb24gcmVtb3ZlIGNodW5rcyBpZiBhIGNvcnJlc3BvbmRpbmcgZGxsIHBhY2thZ2UgZXhpc3RzXG5pZiAoY29uZmlndXJhdGlvbi5naXZlbkNvbW1hbmRMaW5lQXJndW1lbnRzWzJdICE9PSAnYnVpbGRETEwnKVxuICAgIGZvciAoY29uc3QgY2h1bmtOYW1lOnN0cmluZyBpbiBjb25maWd1cmF0aW9uLmluamVjdGlvbi5pbnRlcm5hbC5ub3JtYWxpemVkKVxuICAgICAgICBpZiAoY29uZmlndXJhdGlvbi5pbmplY3Rpb24uaW50ZXJuYWwubm9ybWFsaXplZC5oYXNPd25Qcm9wZXJ0eShcbiAgICAgICAgICAgIGNodW5rTmFtZVxuICAgICAgICApKSB7XG4gICAgICAgICAgICBjb25zdCBtYW5pZmVzdEZpbGVQYXRoOnN0cmluZyA9XG4gICAgICAgICAgICAgICAgYCR7Y29uZmlndXJhdGlvbi5wYXRoLnRhcmdldC5iYXNlfS8ke2NodW5rTmFtZX0uYCArXG4gICAgICAgICAgICAgICAgYGRsbC1tYW5pZmVzdC5qc29uYFxuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24uZGxsTWFuaWZlc3RGaWxlUGF0aHMuaW5jbHVkZXMoXG4gICAgICAgICAgICAgICAgbWFuaWZlc3RGaWxlUGF0aFxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBjb25maWd1cmF0aW9uLmluamVjdGlvbi5pbnRlcm5hbC5ub3JtYWxpemVkW2NodW5rTmFtZV1cbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlUGF0aDpzdHJpbmcgPSBIZWxwZXIucmVuZGVyRmlsZVBhdGhUZW1wbGF0ZShcbiAgICAgICAgICAgICAgICAgICAgSGVscGVyLnN0cmlwTG9hZGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5maWxlcy5jb21wb3NlLmphdmFTY3JpcHRcbiAgICAgICAgICAgICAgICAgICAgKSwgeydbbmFtZV0nOiBjaHVua05hbWV9KVxuICAgICAgICAgICAgICAgIHBsdWdpbkluc3RhbmNlcy5wdXNoKG5ldyBwbHVnaW5zLkFkZEFzc2V0SFRNTFBsdWdpbih7XG4gICAgICAgICAgICAgICAgICAgIGZpbGVwYXRoOiBmaWxlUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgaGFzaDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVkZVNvdXJjZW1hcDogVG9vbHMuaXNGaWxlU3luYyhgJHtmaWxlUGF0aH0ubWFwYClcbiAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICBwbHVnaW5JbnN0YW5jZXMucHVzaChuZXcgd2VicGFjay5EbGxSZWZlcmVuY2VQbHVnaW4oe1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiBjb25maWd1cmF0aW9uLnBhdGguY29udGV4dCwgbWFuaWZlc3Q6IHJlcXVpcmUoXG4gICAgICAgICAgICAgICAgICAgICAgICBtYW5pZmVzdEZpbGVQYXRoKX0pKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4vLyAvLy8gZW5kcmVnaW9uXG4vLyAvLy8gcmVnaW9uIGdlbmVyYXRlIGNvbW1vbiBjaHVua3NcbmlmIChjb25maWd1cmF0aW9uLmdpdmVuQ29tbWFuZExpbmVBcmd1bWVudHNbMl0gIT09ICdidWlsZERMTCcpXG4gICAgZm9yIChjb25zdCBjaHVua05hbWU6c3RyaW5nIG9mIGNvbmZpZ3VyYXRpb24uaW5qZWN0aW9uLmNvbW1vbkNodW5rSURzKVxuICAgICAgICBpZiAoY29uZmlndXJhdGlvbi5pbmplY3Rpb24uaW50ZXJuYWwubm9ybWFsaXplZC5oYXNPd25Qcm9wZXJ0eShcbiAgICAgICAgICAgIGNodW5rTmFtZVxuICAgICAgICApKVxuICAgICAgICAgICAgcGx1Z2luSW5zdGFuY2VzLnB1c2gobmV3IHdlYnBhY2sub3B0aW1pemUuQ29tbW9uc0NodW5rUGx1Z2luKHtcbiAgICAgICAgICAgICAgICBhc3luYzogZmFsc2UsXG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IGZhbHNlLFxuICAgICAgICAgICAgICAgIGZpbGVuYW1lOiBwYXRoLnJlbGF0aXZlKFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLnBhdGgudGFyZ2V0LmJhc2UsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24uZmlsZXMuY29tcG9zZS5qYXZhU2NyaXB0KSxcbiAgICAgICAgICAgICAgICBtaW5DaHVua3M6IEluZmluaXR5LFxuICAgICAgICAgICAgICAgIG5hbWU6IGNodW5rTmFtZSxcbiAgICAgICAgICAgICAgICBtaW5TaXplOiAwXG4gICAgICAgICAgICB9KSlcbi8vIC8vLyBlbmRyZWdpb25cbi8vIC8vLyByZWdpb24gbWFyayBlbXB0eSBqYXZhU2NyaXB0IG1vZHVsZXMgYXMgZHVtbXlcbmlmICghY29uZmlndXJhdGlvbi5uZWVkZWQuamF2YVNjcmlwdClcbiAgICBjb25maWd1cmF0aW9uLmZpbGVzLmNvbXBvc2UuamF2YVNjcmlwdCA9IHBhdGgucmVzb2x2ZShcbiAgICAgICAgY29uZmlndXJhdGlvbi5wYXRoLnRhcmdldC5hc3NldC5qYXZhU2NyaXB0LCAnLl9fZHVtbXlfXy5jb21waWxlZC5qcycpXG4vLyAvLy8gZW5kcmVnaW9uXG4vLyAvLy8gcmVnaW9uIGV4dHJhY3QgY2FzY2FkaW5nIHN0eWxlIHNoZWV0c1xucGx1Z2luSW5zdGFuY2VzLnB1c2gobmV3IHBsdWdpbnMuRXh0cmFjdFRleHQoe1xuICAgIGFsbENodW5rczogdHJ1ZSxcbiAgICBkaXNhYmxlOiAhY29uZmlndXJhdGlvbi5maWxlcy5jb21wb3NlLmNhc2NhZGluZ1N0eWxlU2hlZXQsXG4gICAgZmlsZW5hbWU6IGNvbmZpZ3VyYXRpb24uZmlsZXMuY29tcG9zZS5jYXNjYWRpbmdTdHlsZVNoZWV0ID8gcGF0aC5yZWxhdGl2ZShcbiAgICAgICAgY29uZmlndXJhdGlvbi5wYXRoLnRhcmdldC5iYXNlLFxuICAgICAgICBjb25maWd1cmF0aW9uLmZpbGVzLmNvbXBvc2UuY2FzY2FkaW5nU3R5bGVTaGVldFxuICAgICkgOiBjb25maWd1cmF0aW9uLnBhdGgudGFyZ2V0LmJhc2Vcbn0pKVxuLy8gLy8vIGVuZHJlZ2lvblxuLy8gLy8vIHJlZ2lvbiBwZXJmb3JtcyBpbXBsaWNpdCBleHRlcm5hbCBsb2dpY1xuaWYgKGNvbmZpZ3VyYXRpb24uaW5qZWN0aW9uLmV4dGVybmFsLm1vZHVsZXMgPT09ICdfX2ltcGxpY2l0X18nKVxuICAgIC8qXG4gICAgICAgIFdlIG9ubHkgd2FudCB0byBwcm9jZXNzIG1vZHVsZXMgZnJvbSBsb2NhbCBjb250ZXh0IGluIGxpYnJhcnkgbW9kZSxcbiAgICAgICAgc2luY2UgYSBjb25jcmV0ZSBwcm9qZWN0IHVzaW5nIHRoaXMgbGlicmFyeSBzaG91bGQgY29tYmluZSBhbGwgYXNzZXRzXG4gICAgICAgIChhbmQgZGVkdXBsaWNhdGUgdGhlbSkgZm9yIG9wdGltYWwgYnVuZGxpbmcgcmVzdWx0cy4gTk9URTogT25seSBuYXRpdmVcbiAgICAgICAgamF2YVNjcmlwdCBhbmQganNvbiBtb2R1bGVzIHdpbGwgYmUgbWFya2VkIGFzIGV4dGVybmFsIGRlcGVuZGVuY3kuXG4gICAgKi9cbiAgICBjb25maWd1cmF0aW9uLmluamVjdGlvbi5leHRlcm5hbC5tb2R1bGVzID0gKFxuICAgICAgICBjb250ZXh0OnN0cmluZywgcmVxdWVzdDpzdHJpbmcsIGNhbGxiYWNrOlByb2NlZHVyZUZ1bmN0aW9uXG4gICAgKTp2b2lkID0+IHtcbiAgICAgICAgcmVxdWVzdCA9IHJlcXVlc3QucmVwbGFjZSgvXiErLywgJycpXG4gICAgICAgIGlmIChyZXF1ZXN0LnN0YXJ0c1dpdGgoJy8nKSlcbiAgICAgICAgICAgIHJlcXVlc3QgPSBwYXRoLnJlbGF0aXZlKGNvbmZpZ3VyYXRpb24ucGF0aC5jb250ZXh0LCByZXF1ZXN0KVxuICAgICAgICBmb3IgKFxuICAgICAgICAgICAgY29uc3QgZmlsZVBhdGg6c3RyaW5nIG9mXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uLm1vZHVsZS5kaXJlY3RvcnlOYW1lcy5jb25jYXQoXG4gICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5sb2FkZXIuZGlyZWN0b3J5TmFtZXMpXG4gICAgICAgIClcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0LnN0YXJ0c1dpdGgoZmlsZVBhdGgpKSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdCA9IHJlcXVlc3Quc3Vic3RyaW5nKGZpbGVQYXRoLmxlbmd0aClcbiAgICAgICAgICAgICAgICBpZiAocmVxdWVzdC5zdGFydHNXaXRoKCcvJykpXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3QgPSByZXF1ZXN0LnN1YnN0cmluZygxKVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgIGxldCByZXNvbHZlZFJlcXVlc3Q6P3N0cmluZyA9IEhlbHBlci5kZXRlcm1pbmVFeHRlcm5hbFJlcXVlc3QoXG4gICAgICAgICAgICByZXF1ZXN0LCBjb25maWd1cmF0aW9uLnBhdGguY29udGV4dCwgY29udGV4dCxcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24uaW5qZWN0aW9uLmludGVybmFsLm5vcm1hbGl6ZWQsXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uLnBhdGguaWdub3JlLmNvbmNhdChcbiAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLm1vZHVsZS5kaXJlY3RvcnlOYW1lcyxcbiAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLmxvYWRlci5kaXJlY3RvcnlOYW1lc1xuICAgICAgICAgICAgKS5tYXAoKGZpbGVQYXRoOnN0cmluZyk6c3RyaW5nID0+IHBhdGgucmVzb2x2ZShcbiAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLnBhdGguY29udGV4dCwgZmlsZVBhdGhcbiAgICAgICAgICAgICkpLmZpbHRlcigoZmlsZVBhdGg6c3RyaW5nKTpib29sZWFuID0+XG4gICAgICAgICAgICAgICAgIWNvbmZpZ3VyYXRpb24ucGF0aC5jb250ZXh0LnN0YXJ0c1dpdGgoZmlsZVBhdGgpXG4gICAgICAgICAgICApLCBjb25maWd1cmF0aW9uLm1vZHVsZS5hbGlhc2VzLFxuICAgICAgICAgICAgY29uZmlndXJhdGlvbi5tb2R1bGUucmVwbGFjZW1lbnRzLm5vcm1hbCwgY29uZmlndXJhdGlvbi5leHRlbnNpb25zLFxuICAgICAgICAgICAgY29uZmlndXJhdGlvbi5wYXRoLnNvdXJjZS5hc3NldC5iYXNlLCBjb25maWd1cmF0aW9uLnBhdGguaWdub3JlLFxuICAgICAgICAgICAgY29uZmlndXJhdGlvbi5tb2R1bGUuZGlyZWN0b3J5TmFtZXMsXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uLnBhY2thZ2UubWFpbi5maWxlTmFtZXMsXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uLnBhY2thZ2UubWFpbi5wcm9wZXJ0eU5hbWVzLFxuICAgICAgICAgICAgY29uZmlndXJhdGlvbi5wYWNrYWdlLmFsaWFzUHJvcGVydHlOYW1lcyxcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24uaW5qZWN0aW9uLmV4dGVybmFsLmltcGxpY2l0LnBhdHRlcm4uaW5jbHVkZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24uaW5qZWN0aW9uLmV4dGVybmFsLmltcGxpY2l0LnBhdHRlcm4uZXhjbHVkZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24uaW5QbGFjZS5leHRlcm5hbExpYnJhcnkubm9ybWFsLFxuICAgICAgICAgICAgY29uZmlndXJhdGlvbi5pblBsYWNlLmV4dGVybmFsTGlicmFyeS5keW5hbWljKVxuICAgICAgICBpZiAocmVzb2x2ZWRSZXF1ZXN0KSB7XG4gICAgICAgICAgICBpZiAoWyd2YXInLCAndW1kJ10uaW5jbHVkZXMoXG4gICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5leHBvcnRGb3JtYXQuZXh0ZXJuYWxcbiAgICAgICAgICAgICkgJiYgcmVxdWVzdCBpbiBjb25maWd1cmF0aW9uLmluamVjdGlvbi5leHRlcm5hbC5hbGlhc2VzKVxuICAgICAgICAgICAgICAgIHJlc29sdmVkUmVxdWVzdCA9IGNvbmZpZ3VyYXRpb24uaW5qZWN0aW9uLmV4dGVybmFsLmFsaWFzZXNbXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RdXG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbi5leHBvcnRGb3JtYXQuZXh0ZXJuYWwgPT09ICd2YXInKVxuICAgICAgICAgICAgICAgIHJlc29sdmVkUmVxdWVzdCA9IFRvb2xzLnN0cmluZ0NvbnZlcnRUb1ZhbGlkVmFyaWFibGVOYW1lKFxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlZFJlcXVlc3QsICcwLTlhLXpBLVpfJFxcXFwuJylcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhcbiAgICAgICAgICAgICAgICBudWxsLCByZXNvbHZlZFJlcXVlc3QsIGNvbmZpZ3VyYXRpb24uZXhwb3J0Rm9ybWF0LmV4dGVybmFsKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWxsYmFjaygpXG4gICAgfVxuLy8gLy8vIGVuZHJlZ2lvblxuLy8gLy8vIHJlZ2lvbiBidWlsZCBkbGwgcGFja2FnZXNcbmlmIChjb25maWd1cmF0aW9uLmdpdmVuQ29tbWFuZExpbmVBcmd1bWVudHNbMl0gPT09ICdidWlsZERMTCcpIHtcbiAgICBsZXQgZGxsQ2h1bmtJREV4aXN0czpib29sZWFuID0gZmFsc2VcbiAgICBmb3IgKGNvbnN0IGNodW5rTmFtZTpzdHJpbmcgaW4gY29uZmlndXJhdGlvbi5pbmplY3Rpb24uaW50ZXJuYWwubm9ybWFsaXplZClcbiAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24uaW5qZWN0aW9uLmludGVybmFsLm5vcm1hbGl6ZWQuaGFzT3duUHJvcGVydHkoXG4gICAgICAgICAgICBjaHVua05hbWVcbiAgICAgICAgKSlcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uLmluamVjdGlvbi5kbGxDaHVua0lEcy5pbmNsdWRlcyhjaHVua05hbWUpKVxuICAgICAgICAgICAgICAgIGRsbENodW5rSURFeGlzdHMgPSB0cnVlXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgZGVsZXRlIGNvbmZpZ3VyYXRpb24uaW5qZWN0aW9uLmludGVybmFsLm5vcm1hbGl6ZWRbY2h1bmtOYW1lXVxuICAgIGlmIChkbGxDaHVua0lERXhpc3RzKSB7XG4gICAgICAgIGxpYnJhcnlOYW1lID0gJ1tuYW1lXURMTFBhY2thZ2UnXG4gICAgICAgIHBsdWdpbkluc3RhbmNlcy5wdXNoKG5ldyB3ZWJwYWNrLkRsbFBsdWdpbih7XG4gICAgICAgICAgICBwYXRoOiBgJHtjb25maWd1cmF0aW9uLnBhdGgudGFyZ2V0LmJhc2V9L1tuYW1lXS5kbGwtbWFuaWZlc3QuanNvbmAsXG4gICAgICAgICAgICBuYW1lOiBsaWJyYXJ5TmFtZVxuICAgICAgICB9KSlcbiAgICB9IGVsc2VcbiAgICAgICAgY29uc29sZS53YXJuKCdObyBkbGwgY2h1bmsgaWQgZm91bmQuJylcbn1cbi8vIC8vLyBlbmRyZWdpb25cbi8vIC8vIGVuZHJlZ2lvblxuLy8gLy8gcmVnaW9uIGFwcGx5IGZpbmFsIGRvbS9qYXZhU2NyaXB0IG1vZGlmaWNhdGlvbnMvZml4ZXNcbnBsdWdpbkluc3RhbmNlcy5wdXNoKHthcHBseTogKGNvbXBpbGVyOk9iamVjdCk6dm9pZCA9PiB7XG4gICAgY29tcGlsZXIucGx1Z2luKCdlbWl0JywgKFxuICAgICAgICBjb21waWxhdGlvbjpPYmplY3QsIGNhbGxiYWNrOlByb2NlZHVyZUZ1bmN0aW9uXG4gICAgKTp2b2lkID0+IHtcbiAgICAgICAgY29uc3QgcHJvbWlzZXM6QXJyYXk8UHJvbWlzZTxzdHJpbmc+PiA9IFtdXG4gICAgICAgIC8qXG4gICAgICAgICAgICBOT1RFOiBSZW1vdmluZyBzeW1ib2xzIGFmdGVyIGEgXCImXCIgaW4gaGFzaCBzdHJpbmcgaXMgbmVjZXNzYXJ5IHRvXG4gICAgICAgICAgICBtYXRjaCB0aGUgZ2VuZXJhdGVkIHJlcXVlc3Qgc3RyaW5ncyBpbiBvZmZsaW5lIHBsdWdpbi5cbiAgICAgICAgKi9cbiAgICAgICAgZm9yIChjb25zdCBodG1sQ29uZmlndXJhdGlvbiBvZiBjb25maWd1cmF0aW9uLmZpbGVzLmh0bWwpXG4gICAgICAgICAgICBpZiAoaHRtbENvbmZpZ3VyYXRpb24uZmlsZW5hbWUgaW4gY29tcGlsYXRpb24uYXNzZXRzKVxuICAgICAgICAgICAgICAgIHByb21pc2VzLnB1c2gobmV3IFByb21pc2UoKFxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOkZ1bmN0aW9uLCByZWplY3Q6RnVuY3Rpb25cbiAgICAgICAgICAgICAgICApOldpbmRvdyA9PiBkb20uZW52KGNvbXBpbGF0aW9uLmFzc2V0c1tcbiAgICAgICAgICAgICAgICAgICAgaHRtbENvbmZpZ3VyYXRpb24uZmlsZW5hbWVcbiAgICAgICAgICAgICAgICBdLnNvdXJjZSgpLCAoZXJyb3I6P0Vycm9yLCB3aW5kb3c6V2luZG93KTo/UHJvbWlzZTxzdHJpbmc+ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGlua2FibGVzOntba2V5OnN0cmluZ106c3RyaW5nfSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcmlwdDogJ3NyYycsIGxpbms6ICdocmVmJ31cbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0YWdOYW1lOnN0cmluZyBpbiBsaW5rYWJsZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGlua2FibGVzLmhhc093blByb3BlcnR5KHRhZ05hbWUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvbU5vZGU6RG9tTm9kZSBvZlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke3RhZ05hbWV9WyR7bGlua2FibGVzW3RhZ05hbWVdfSo9XCI/YCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHtjb25maWd1cmF0aW9uLmhhc2hBbGdvcml0aG19PVwiXWApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21Ob2RlLnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmthYmxlc1t0YWdOYW1lXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbU5vZGUuZ2V0QXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmthYmxlc1t0YWdOYW1lXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKS5yZXBsYWNlKG5ldyBSZWdFeHAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYChcXFxcPyR7Y29uZmlndXJhdGlvbi5oYXNoQWxnb3JpdGhtfT1gICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnW14mXSspLiokJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSwgJyQxJykpXG4gICAgICAgICAgICAgICAgICAgIGNvbXBpbGF0aW9uLmFzc2V0c1todG1sQ29uZmlndXJhdGlvbi5maWxlbmFtZV0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFdlYnBhY2tSYXdTb3VyY2UoY29tcGlsYXRpb24uYXNzZXRzW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxDb25maWd1cmF0aW9uLmZpbGVuYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICBdLnNvdXJjZSgpLnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgL14oXFxzKjwhZG9jdHlwZVtePl0rPz5cXHMqKVtcXHNcXFNdKiQvaSwgJyQxJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKSArIHdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub3V0ZXJIVE1MKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBpbGF0aW9uLmFzc2V0c1todG1sQ29uZmlndXJhdGlvbi5maWxlbmFtZV0pXG4gICAgICAgICAgICAgICAgfSkpKVxuICAgICAgICBpZiAoIWNvbmZpZ3VyYXRpb24uZXhwb3J0Rm9ybWF0LmV4dGVybmFsLnN0YXJ0c1dpdGgoJ3VtZCcpKSB7XG4gICAgICAgICAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbigoKTp2b2lkID0+IGNhbGxiYWNrKCkpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBidW5kbGVOYW1lOnN0cmluZyA9IChcbiAgICAgICAgICAgIHR5cGVvZiBsaWJyYXJ5TmFtZSA9PT0gJ3N0cmluZydcbiAgICAgICAgKSA/IGxpYnJhcnlOYW1lIDogbGlicmFyeU5hbWVbMF1cbiAgICAgICAgLypcbiAgICAgICAgICAgIE5PVEU6IFRoZSB1bWQgbW9kdWxlIGV4cG9ydCBkb2Vzbid0IGhhbmRsZSBjYXNlcyB3aGVyZSB0aGUgcGFja2FnZVxuICAgICAgICAgICAgbmFtZSBkb2Vzbid0IG1hdGNoIGV4cG9ydGVkIGxpYnJhcnkgbmFtZS4gVGhpcyBwb3N0IHByb2Nlc3NpbmdcbiAgICAgICAgICAgIGZpeGVzIHRoaXMgaXNzdWUuXG4gICAgICAgICovXG4gICAgICAgIGZvciAoY29uc3QgYXNzZXRSZXF1ZXN0OnN0cmluZyBpbiBjb21waWxhdGlvbi5hc3NldHMpXG4gICAgICAgICAgICBpZiAoYXNzZXRSZXF1ZXN0LnJlcGxhY2UoLyhbXj9dKylcXD8uKiQvLCAnJDEnKS5lbmRzV2l0aChcbiAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLmJ1aWxkLnR5cGVzLmphdmFTY3JpcHQub3V0cHV0RXh0ZW5zaW9uXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgICAgICAgbGV0IHNvdXJjZTpzdHJpbmcgPSBjb21waWxhdGlvbi5hc3NldHNbYXNzZXRSZXF1ZXN0XS5zb3VyY2UoKVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVwbGFjZW1lbnQ6c3RyaW5nIGluXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLmluamVjdGlvbi5leHRlcm5hbC5hbGlhc2VzXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uLmluamVjdGlvbi5leHRlcm5hbC5hbGlhc2VzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmhhc093blByb3BlcnR5KHJlcGxhY2VtZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZSA9IHNvdXJjZS5yZXBsYWNlKG5ldyBSZWdFeHAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcocmVxdWlyZVxcXFwoKVwiJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvb2xzLnN0cmluZ0VzY2FwZVJlZ3VsYXJFeHByZXNzaW9ucyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24uaW5qZWN0aW9uLmV4dGVybmFsLmFsaWFzZXNbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGFjZW1lbnRdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgKyAnXCIoXFxcXCkpJywgJ2cnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSwgYCQxJyR7cmVwbGFjZW1lbnR9JyQyYCkucmVwbGFjZShuZXcgUmVnRXhwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnKGRlZmluZVxcXFwoXCInICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9vbHMuc3RyaW5nRXNjYXBlUmVndWxhckV4cHJlc3Npb25zKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVuZGxlTmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICsgJ1wiLCBcXFxcWy4qKVwiJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvb2xzLnN0cmluZ0VzY2FwZVJlZ3VsYXJFeHByZXNzaW9ucyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24uaW5qZWN0aW9uLmV4dGVybmFsLmFsaWFzZXNbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGFjZW1lbnRdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgKyAnXCIoLipcXFxcXSwgZmFjdG9yeVxcXFwpOyknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSwgYCQxJyR7cmVwbGFjZW1lbnR9JyQyYClcbiAgICAgICAgICAgICAgICAgICAgc291cmNlID0gc291cmNlLnJlcGxhY2UobmV3IFJlZ0V4cChcbiAgICAgICAgICAgICAgICAgICAgICAgICcocm9vdFxcXFxbKVwiJyArXG4gICAgICAgICAgICAgICAgICAgICAgICBUb29scy5zdHJpbmdFc2NhcGVSZWd1bGFyRXhwcmVzc2lvbnMoYnVuZGxlTmFtZSkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1wiKFxcXFxdID0gKSdcbiAgICAgICAgICAgICAgICAgICAgKSwgYCQxJ2AgK1xuICAgICAgICAgICAgICAgICAgICAgICAgVG9vbHMuc3RyaW5nQ29udmVydFRvVmFsaWRWYXJpYWJsZU5hbWUoYnVuZGxlTmFtZSkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYCckMmBcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICBjb21waWxhdGlvbi5hc3NldHNbYXNzZXRSZXF1ZXN0XSA9IG5ldyBXZWJwYWNrUmF3U291cmNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oKCk6dm9pZCA9PiBjYWxsYmFjaygpKVxuICAgIH0pXG59fSlcbi8vIC8vIGVuZHJlZ2lvblxuLy8gLy8gcmVnaW9uIGFkZCBhdXRvbWF0aWMgaW1hZ2UgY29tcHJlc3Npb25cbi8vIE5PVEU6IFRoaXMgcGx1Z2luIHNob3VsZCBiZSBsb2FkZWQgYXQgbGFzdCB0byBlbnN1cmUgdGhhdCBhbGwgZW1pdHRlZCBpbWFnZXNcbi8vIHJhbiB0aHJvdWdoLlxucGx1Z2luSW5zdGFuY2VzLnB1c2gobmV3IHBsdWdpbnMuSW1hZ2VtaW4oXG4gICAgY29uZmlndXJhdGlvbi5tb2R1bGUub3B0aW1pemVyLmltYWdlLmNvbnRlbnQpKVxuLy8gLy8gZW5kcmVnaW9uXG4vLyAvLyByZWdpb24gY29udGV4dCByZXBsYWNlbWVudHNcbmZvciAoXG4gICAgY29uc3QgY29udGV4dFJlcGxhY2VtZW50OkFycmF5PHN0cmluZz4gb2ZcbiAgICBjb25maWd1cmF0aW9uLm1vZHVsZS5yZXBsYWNlbWVudHMuY29udGV4dFxuKVxuICAgIHBsdWdpbkluc3RhbmNlcy5wdXNoKG5ldyB3ZWJwYWNrLkNvbnRleHRSZXBsYWNlbWVudFBsdWdpbihcbiAgICAgICAgLi4uY29udGV4dFJlcGxhY2VtZW50Lm1hcCgodmFsdWU6c3RyaW5nKTphbnkgPT4gKG5ldyBGdW5jdGlvbihcbiAgICAgICAgICAgICdjb25maWd1cmF0aW9uJywgJ19fZGlybmFtZScsICdfX2ZpbGVuYW1lJywgYHJldHVybiAke3ZhbHVlfWBcbiAgICAgICAgKSkoY29uZmlndXJhdGlvbiwgX19kaXJuYW1lLCBfX2ZpbGVuYW1lKSkpKVxuLy8gLy8gZW5kcmVnaW9uXG4vLyAvIGVuZHJlZ2lvblxuLy8gLyByZWdpb24gbG9hZGVyIGhlbHBlclxuY29uc3QgbG9hZGVyOk9iamVjdCA9IHtcbiAgICAvLyBDb252ZXJ0IHRvIGNvbXBhdGlibGUgbmF0aXZlIHdlYiB0eXBlcy5cbiAgICAvLyByZWdpb24gc2NyaXB0XG4gICAgc2NyaXB0OiB7XG4gICAgICAgIGV4Y2x1ZGU6IChmaWxlUGF0aDpzdHJpbmcpOmJvb2xlYW4gPT4gKFxuICAgICAgICAgICAgY29uZmlndXJhdGlvbi5tb2R1bGUucHJlcHJvY2Vzc29yLmphdmFTY3JpcHRcbiAgICAgICAgICAgICAgICAuZXhjbHVkZSA9PT0gbnVsbFxuICAgICAgICApID8gcmVqZWN0RmlsZVBhdGhJbkRlcGVuZGVuY2llcyhmaWxlUGF0aCkgOiBldmFsdWF0ZShcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ubW9kdWxlLnByZXByb2Nlc3Nvci5qYXZhU2NyaXB0LmV4Y2x1ZGUsXG4gICAgICAgICAgICBmaWxlUGF0aCksXG4gICAgICAgIGluY2x1ZGU6IEhlbHBlci5ub3JtYWxpemVQYXRocyhbXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uLnBhdGguc291cmNlLmFzc2V0LmphdmFTY3JpcHRcbiAgICAgICAgXS5jb25jYXQoY29uZmlndXJhdGlvbi5tb2R1bGUubG9jYXRpb25zLmRpcmVjdG9yeVBhdGhzKSksXG4gICAgICAgIHRlc3Q6IC9cXC5qcyg/OlxcPy4qKT8kLyxcbiAgICAgICAgdXNlOiBbe1xuICAgICAgICAgICAgbG9hZGVyOiBjb25maWd1cmF0aW9uLm1vZHVsZS5wcmVwcm9jZXNzb3IuamF2YVNjcmlwdFxuICAgICAgICAgICAgICAgIC5sb2FkZXIsXG4gICAgICAgICAgICBvcHRpb25zOiBjb25maWd1cmF0aW9uLm1vZHVsZS5wcmVwcm9jZXNzb3IuamF2YVNjcmlwdFxuICAgICAgICAgICAgICAgIC5vcHRpb25zXG4gICAgICAgIH1dXG4gICAgfSxcbiAgICAvLyBlbmRyZWdpb25cbiAgICAvLyByZWdpb24gaHRtbCB0ZW1wbGF0ZVxuICAgIGh0bWw6IHtcbiAgICAgICAgLy8gTk9URTogVGhpcyBpcyBvbmx5IGZvciB0aGUgbWFpbiBlbnRyeSB0ZW1wbGF0ZS5cbiAgICAgICAgbWFpbjoge1xuICAgICAgICAgICAgdGVzdDogbmV3IFJlZ0V4cCgnXicgKyBUb29scy5zdHJpbmdFc2NhcGVSZWd1bGFyRXhwcmVzc2lvbnMoXG4gICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5maWxlcy5kZWZhdWx0SFRNTC50ZW1wbGF0ZS5maWxlUGF0aFxuICAgICAgICAgICAgKSArICcoPzpcXFxcPy4qKT8kJyksXG4gICAgICAgICAgICB1c2U6IGNvbmZpZ3VyYXRpb24uZmlsZXMuZGVmYXVsdEhUTUwudGVtcGxhdGUudXNlXG4gICAgICAgIH0sXG4gICAgICAgIHB1Zzoge1xuICAgICAgICAgICAgZXhjbHVkZTogKGZpbGVQYXRoOnN0cmluZyk6Ym9vbGVhbiA9PiBIZWxwZXIubm9ybWFsaXplUGF0aHMoXG4gICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5maWxlcy5odG1sLmNvbmNhdChcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5maWxlcy5kZWZhdWx0SFRNTFxuICAgICAgICAgICAgICAgICkubWFwKChodG1sQ29uZmlndXJhdGlvbjpIVE1MQ29uZmlndXJhdGlvbik6c3RyaW5nID0+XG4gICAgICAgICAgICAgICAgICAgIGh0bWxDb25maWd1cmF0aW9uLnRlbXBsYXRlLmZpbGVQYXRoKVxuICAgICAgICAgICAgKS5pbmNsdWRlcyhmaWxlUGF0aCkgfHwgKChcbiAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLm1vZHVsZS5wcmVwcm9jZXNzb3IuaHRtbC5leGNsdWRlID09PSBudWxsXG4gICAgICAgICAgICApID8gdHJ1ZSA6IGV2YWx1YXRlKFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ubW9kdWxlLnByZXByb2Nlc3Nvci5odG1sLmV4Y2x1ZGUsIGZpbGVQYXRoKSksXG4gICAgICAgICAgICBpbmNsdWRlOiBjb25maWd1cmF0aW9uLnBhdGguc291cmNlLmFzc2V0LnRlbXBsYXRlLFxuICAgICAgICAgICAgdGVzdDogL1xcLnB1Zyg/OlxcPy4qKT8kLyxcbiAgICAgICAgICAgIHVzZTogW1xuICAgICAgICAgICAgICAgIHtsb2FkZXI6ICdmaWxlP25hbWU9JyArIHBhdGgucmVsYXRpdmUoXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ucGF0aC50YXJnZXQuYXNzZXQuYmFzZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5wYXRoLnRhcmdldC5hc3NldC50ZW1wbGF0ZVxuICAgICAgICAgICAgICAgICkgKyBgW25hbWVdLmh0bWw/JHtjb25maWd1cmF0aW9uLmhhc2hBbGdvcml0aG19PVtoYXNoXWB9LFxuICAgICAgICAgICAgICAgIHtsb2FkZXI6ICdleHRyYWN0J30sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsb2FkZXI6IGNvbmZpZ3VyYXRpb24ubW9kdWxlLmh0bWwubG9hZGVyLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBjb25maWd1cmF0aW9uLm1vZHVsZS5odG1sLm9wdGlvbnNcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZGVyOiBjb25maWd1cmF0aW9uLm1vZHVsZS5wcmVwcm9jZXNzb3IuaHRtbC5sb2FkZXIsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IGNvbmZpZ3VyYXRpb24ubW9kdWxlLnByZXByb2Nlc3Nvci5odG1sLm9wdGlvbnNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIGh0bWw6IHtcbiAgICAgICAgICAgIGV4Y2x1ZGU6IChmaWxlUGF0aDpzdHJpbmcpOmJvb2xlYW4gPT4gSGVscGVyLm5vcm1hbGl6ZVBhdGhzKFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24uZmlsZXMuaHRtbC5jb25jYXQoXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24uZmlsZXMuZGVmYXVsdEhUTUxcbiAgICAgICAgICAgICAgICApLm1hcCgoaHRtbENvbmZpZ3VyYXRpb246SFRNTENvbmZpZ3VyYXRpb24pOnN0cmluZyA9PlxuICAgICAgICAgICAgICAgICAgICBodG1sQ29uZmlndXJhdGlvbi50ZW1wbGF0ZS5maWxlUGF0aClcbiAgICAgICAgICAgICkuaW5jbHVkZXMoZmlsZVBhdGgpIHx8ICgoXG4gICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5tb2R1bGUuaHRtbC5leGNsdWRlID09PSBudWxsXG4gICAgICAgICAgICApID8gdHJ1ZSA6IGV2YWx1YXRlKFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ubW9kdWxlLmh0bWwuZXhjbHVkZSwgZmlsZVBhdGgpKSxcbiAgICAgICAgICAgIGluY2x1ZGU6IGNvbmZpZ3VyYXRpb24ucGF0aC5zb3VyY2UuYXNzZXQudGVtcGxhdGUsXG4gICAgICAgICAgICB0ZXN0OiAvXFwuaHRtbCg/OlxcPy4qKT8kLyxcbiAgICAgICAgICAgIHVzZTogW1xuICAgICAgICAgICAgICAgIHtsb2FkZXI6ICdmaWxlP25hbWU9JyArIHBhdGgucmVsYXRpdmUoXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ucGF0aC50YXJnZXQuYmFzZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5wYXRoLnRhcmdldC5hc3NldC50ZW1wbGF0ZVxuICAgICAgICAgICAgICAgICkgKyBgW25hbWVdLltleHRdPyR7Y29uZmlndXJhdGlvbi5oYXNoQWxnb3JpdGhtfT1baGFzaF1gfSxcbiAgICAgICAgICAgICAgICB7bG9hZGVyOiAnZXh0cmFjdCd9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZGVyOiBjb25maWd1cmF0aW9uLm1vZHVsZS5odG1sLmxvYWRlcixcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogY29uZmlndXJhdGlvbi5tb2R1bGUuaHRtbC5vcHRpb25zXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9XG4gICAgfSxcbiAgICAvLyBlbmRyZWdpb25cbiAgICAvLyBMb2FkIGRlcGVuZGVuY2llcy5cbiAgICAvLyByZWdpb24gc3R5bGVcbiAgICBzdHlsZToge1xuICAgICAgICBleGNsdWRlOiAoZmlsZVBhdGg6c3RyaW5nKTpib29sZWFuID0+IChcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ubW9kdWxlLmNhc2NhZGluZ1N0eWxlU2hlZXQuZXhjbHVkZSA9PT0gbnVsbFxuICAgICAgICApID8gcmVqZWN0RmlsZVBhdGhJbkRlcGVuZGVuY2llcyhmaWxlUGF0aCkgOiBldmFsdWF0ZShcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ubW9kdWxlLmNhc2NhZGluZ1N0eWxlU2hlZXQuZXhjbHVkZSwgZmlsZVBhdGhcbiAgICAgICAgKSxcbiAgICAgICAgaW5jbHVkZTogSGVscGVyLm5vcm1hbGl6ZVBhdGhzKFtcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ucGF0aC5zb3VyY2UuYXNzZXQuY2FzY2FkaW5nU3R5bGVTaGVldFxuICAgICAgICBdLmNvbmNhdChjb25maWd1cmF0aW9uLm1vZHVsZS5sb2NhdGlvbnMuZGlyZWN0b3J5UGF0aHMpKSxcbiAgICAgICAgdGVzdDogL1xcLmNzcyg/OlxcPy4qKT8kLyxcbiAgICAgICAgdXNlOiBwbHVnaW5zLkV4dHJhY3RUZXh0LmV4dHJhY3Qoe1xuICAgICAgICAgICAgZmFsbGJhY2tVc2U6IFt7XG4gICAgICAgICAgICAgICAgbG9hZGVyOiBjb25maWd1cmF0aW9uLm1vZHVsZS5zdHlsZS5sb2FkZXIsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogY29uZmlndXJhdGlvbi5tb2R1bGUuc3R5bGUub3B0aW9uc1xuICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICB1c2U6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRlcjogY29uZmlndXJhdGlvbi5tb2R1bGUuY2FzY2FkaW5nU3R5bGVTaGVldC5sb2FkZXIsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IGNvbmZpZ3VyYXRpb24ubW9kdWxlLmNhc2NhZGluZ1N0eWxlU2hlZXQub3B0aW9uc1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsb2FkZXI6IGNvbmZpZ3VyYXRpb24ubW9kdWxlLnByZXByb2Nlc3NvclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhc2NhZGluZ1N0eWxlU2hlZXQubG9hZGVyLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBUb29scy5leHRlbmRPYmplY3QodHJ1ZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWRlbnQ6ICdwb3N0Y3NzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsdWdpbnM6ICgpOkFycmF5PE9iamVjdD4gPT4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3Rjc3NJbXBvcnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGREZXBlbmRlbmN5VG86IHdlYnBhY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvb3Q6IGNvbmZpZ3VyYXRpb24ucGF0aC5jb250ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zdGNzc0NTU25leHQoe2Jyb3dzZXJzOiAnPiAwJSd9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOT1RFOiBDaGVja2luZyBwYXRoIGRvZXNuJ3Qgd29yayBpZiBmb250cyBhcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlZCBpbiBsaWJyYXJpZXMgcHJvdmlkZWQgaW4gYW5vdGhlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbiB0aGFuIHRoZSBwcm9qZWN0IGl0c2VsZiBsaWtlIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm5vZGVfbW9kdWxlc1wiIGZvbGRlci5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3Rjc3NGb250UGF0aCh7Y2hlY2tQYXRoOiBmYWxzZX0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3Rjc3NVUkwoe2ZpbHRlcjogJycsIG1heFNpemU6IDB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3N0Y3NzU3ByaXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlckJ5OiAoKTpQcm9taXNlPG51bGw+ID0+IG5ldyBQcm9taXNlKChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6RnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3Q6RnVuY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTpQcm9taXNlPG51bGw+ID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24uZmlsZXMuY29tcG9zZS5pbWFnZSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlIDogcmVqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkoKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvb2tzOiB7b25TYXZlU3ByaXRlc2hlZXQ6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOk9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApOnN0cmluZyA9PiBwYXRoLmpvaW4oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZS5zcHJpdGVQYXRoLCBwYXRoLnJlbGF0aXZlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ucGF0aC50YXJnZXQuYXNzZXQuaW1hZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5maWxlcy5jb21wb3NlLmltYWdlKSl9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZXNoZWV0UGF0aDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ucGF0aC5zb3VyY2UuYXNzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2FzY2FkaW5nU3R5bGVTaGVldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlUGF0aDogY29uZmlndXJhdGlvbi5wYXRoLnNvdXJjZS5hc3NldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9LCBjb25maWd1cmF0aW9uLm1vZHVsZS5wcmVwcm9jZXNzb3IuY2FzY2FkaW5nU3R5bGVTaGVldFxuICAgICAgICAgICAgICAgICAgICAgICAgLm9wdGlvbnMpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KVxuICAgIH0sXG4gICAgLy8gZW5kcmVnaW9uXG4gICAgLy8gT3B0aW1pemUgbG9hZGVkIGFzc2V0cy5cbiAgICAvLyByZWdpb24gZm9udFxuICAgIGZvbnQ6IHtcbiAgICAgICAgZW90OiB7XG4gICAgICAgICAgICBleGNsdWRlOiAoZmlsZVBhdGg6c3RyaW5nKTpib29sZWFuID0+IChcbiAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLm1vZHVsZS5vcHRpbWl6ZXIuZm9udC5lb3QuZXhjbHVkZSA9PT0gbnVsbFxuICAgICAgICAgICAgKSA/IGZhbHNlIDogZXZhbHVhdGUoXG4gICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5tb2R1bGUub3B0aW1pemVyLmZvbnQuZW90LmV4Y2x1ZGUsIGZpbGVQYXRoKSxcbiAgICAgICAgICAgIGluY2x1ZGU6IGNvbmZpZ3VyYXRpb24ucGF0aC5iYXNlLFxuICAgICAgICAgICAgdGVzdDogL1xcLmVvdCg/OlxcPy4qKT8kLyxcbiAgICAgICAgICAgIHVzZTogW3tcbiAgICAgICAgICAgICAgICBsb2FkZXI6IGNvbmZpZ3VyYXRpb24ubW9kdWxlLm9wdGltaXplci5mb250LmVvdC5sb2FkZXIsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogY29uZmlndXJhdGlvbi5tb2R1bGUub3B0aW1pemVyLmZvbnQuZW90Lm9wdGlvbnNcbiAgICAgICAgICAgIH1dXG4gICAgICAgIH0sXG4gICAgICAgIHN2Zzoge1xuICAgICAgICAgICAgZXhjbHVkZTogKGZpbGVQYXRoOnN0cmluZyk6Ym9vbGVhbiA9PiAoXG4gICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5tb2R1bGUub3B0aW1pemVyLmZvbnQuc3ZnLmV4Y2x1ZGUgPT09IG51bGxcbiAgICAgICAgICAgICkgPyBmYWxzZSA6IGV2YWx1YXRlKFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ubW9kdWxlLm9wdGltaXplci5mb250LnN2Zy5leGNsdWRlLCBmaWxlUGF0aCksXG4gICAgICAgICAgICBpbmNsdWRlOiBjb25maWd1cmF0aW9uLnBhdGguYmFzZSxcbiAgICAgICAgICAgIHRlc3Q6IC9cXC5zdmcoPzpcXD8uKik/JC8sXG4gICAgICAgICAgICB1c2U6IFt7XG4gICAgICAgICAgICAgICAgbG9hZGVyOiBjb25maWd1cmF0aW9uLm1vZHVsZS5vcHRpbWl6ZXIuZm9udC5zdmcubG9hZGVyLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGNvbmZpZ3VyYXRpb24ubW9kdWxlLm9wdGltaXplci5mb250LnN2Zy5vcHRpb25zXG4gICAgICAgICAgICB9XVxuICAgICAgICB9LFxuICAgICAgICB0dGY6IHtcbiAgICAgICAgICAgIGV4Y2x1ZGU6IChmaWxlUGF0aDpzdHJpbmcpOmJvb2xlYW4gPT4gKFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ubW9kdWxlLm9wdGltaXplci5mb250LnR0Zi5leGNsdWRlID09PSBudWxsXG4gICAgICAgICAgICApID8gZmFsc2UgOiBldmFsdWF0ZShcbiAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLm1vZHVsZS5vcHRpbWl6ZXIuZm9udC50dGYuZXhjbHVkZSwgZmlsZVBhdGgpLFxuICAgICAgICAgICAgaW5jbHVkZTogY29uZmlndXJhdGlvbi5wYXRoLmJhc2UsXG4gICAgICAgICAgICB0ZXN0OiAvXFwudHRmKD86XFw/LiopPyQvLFxuICAgICAgICAgICAgdXNlOiBbe1xuICAgICAgICAgICAgICAgIGxvYWRlcjogY29uZmlndXJhdGlvbi5tb2R1bGUub3B0aW1pemVyLmZvbnQudHRmLmxvYWRlcixcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBjb25maWd1cmF0aW9uLm1vZHVsZS5vcHRpbWl6ZXIuZm9udC50dGYub3B0aW9uc1xuICAgICAgICAgICAgfV1cbiAgICAgICAgfSxcbiAgICAgICAgd29mZjoge1xuICAgICAgICAgICAgZXhjbHVkZTogKGZpbGVQYXRoOnN0cmluZyk6Ym9vbGVhbiA9PiAoXG4gICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbi5tb2R1bGUub3B0aW1pemVyLmZvbnQud29mZi5leGNsdWRlID09PSBudWxsXG4gICAgICAgICAgICApID8gZmFsc2UgOiBldmFsdWF0ZShcbiAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLm1vZHVsZS5vcHRpbWl6ZXIuZm9udC53b2ZmLmV4Y2x1ZGUsIGZpbGVQYXRoXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgaW5jbHVkZTogY29uZmlndXJhdGlvbi5wYXRoLmJhc2UsXG4gICAgICAgICAgICB0ZXN0OiAvXFwud29mZjI/KD86XFw/LiopPyQvLFxuICAgICAgICAgICAgdXNlOiBbe1xuICAgICAgICAgICAgICAgIGxvYWRlcjogY29uZmlndXJhdGlvbi5tb2R1bGUub3B0aW1pemVyLmZvbnQud29mZi5sb2FkZXIsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogY29uZmlndXJhdGlvbi5tb2R1bGUub3B0aW1pemVyLmZvbnQud29mZi5vcHRpb25zXG4gICAgICAgICAgICB9XVxuICAgICAgICB9XG4gICAgfSxcbiAgICAvLyBlbmRyZWdpb25cbiAgICAvLyByZWdpb24gaW1hZ2VcbiAgICBpbWFnZToge1xuICAgICAgICBleGNsdWRlOiAoZmlsZVBhdGg6c3RyaW5nKTpib29sZWFuID0+IChcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ubW9kdWxlLm9wdGltaXplci5pbWFnZS5leGNsdWRlID09PSBudWxsXG4gICAgICAgICkgPyByZWplY3RGaWxlUGF0aEluRGVwZW5kZW5jaWVzKGZpbGVQYXRoKSA6IGV2YWx1YXRlKFxuICAgICAgICAgICAgY29uZmlndXJhdGlvbi5tb2R1bGUub3B0aW1pemVyLmltYWdlLmV4Y2x1ZGUsIGZpbGVQYXRoKSxcbiAgICAgICAgaW5jbHVkZTogY29uZmlndXJhdGlvbi5wYXRoLnNvdXJjZS5hc3NldC5pbWFnZSxcbiAgICAgICAgdGVzdDogL1xcLig/OnBuZ3xqcGd8aWNvfGdpZikoPzpcXD8uKik/JC8sXG4gICAgICAgIHVzZToge1xuICAgICAgICAgICAgbG9hZGVyOiBjb25maWd1cmF0aW9uLm1vZHVsZS5vcHRpbWl6ZXIuaW1hZ2UubG9hZGVyLFxuICAgICAgICAgICAgb3B0aW9uczogY29uZmlndXJhdGlvbi5tb2R1bGUub3B0aW1pemVyLmltYWdlLmZpbGVcbiAgICAgICAgfVxuICAgIH0sXG4gICAgLy8gZW5kcmVnaW9uXG4gICAgLy8gcmVnaW9uIGRhdGFcbiAgICBkYXRhOiB7XG4gICAgICAgIGV4Y2x1ZGU6IChmaWxlUGF0aDpzdHJpbmcpOmJvb2xlYW4gPT5cbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24uZXh0ZW5zaW9ucy5maWxlLmludGVybmFsLmluY2x1ZGVzKFxuICAgICAgICAgICAgICAgIHBhdGguZXh0bmFtZShIZWxwZXIuc3RyaXBMb2FkZXIoZmlsZVBhdGgpKVxuICAgICAgICAgICAgKSB8fCAoKFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ubW9kdWxlLm9wdGltaXplci5kYXRhLmV4Y2x1ZGUgPT09IG51bGxcbiAgICAgICAgICAgICkgPyByZWplY3RGaWxlUGF0aEluRGVwZW5kZW5jaWVzKGZpbGVQYXRoKSA6IGV2YWx1YXRlKFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ubW9kdWxlLm9wdGltaXplci5kYXRhLmV4Y2x1ZGUsIGZpbGVQYXRoKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgaW5jbHVkZTogY29uZmlndXJhdGlvbi5wYXRoLnNvdXJjZS5hc3NldC5kYXRhLFxuICAgICAgICB0ZXN0OiAvLisvLFxuICAgICAgICB1c2U6IFt7XG4gICAgICAgICAgICBsb2FkZXI6IGNvbmZpZ3VyYXRpb24ubW9kdWxlLm9wdGltaXplci5kYXRhLmxvYWRlcixcbiAgICAgICAgICAgIG9wdGlvbnM6IGNvbmZpZ3VyYXRpb24ubW9kdWxlLm9wdGltaXplci5kYXRhLm9wdGlvbnNcbiAgICAgICAgfV1cbiAgICB9XG4gICAgLy8gZW5kcmVnaW9uXG59XG5jb25zdCByZWplY3RGaWxlUGF0aEluRGVwZW5kZW5jaWVzOkZ1bmN0aW9uID0gKGZpbGVQYXRoOnN0cmluZyk6Ym9vbGVhbiA9PiB7XG4gICAgZmlsZVBhdGggPSBIZWxwZXIuc3RyaXBMb2FkZXIoZmlsZVBhdGgpXG4gICAgcmV0dXJuIEhlbHBlci5pc0ZpbGVQYXRoSW5Mb2NhdGlvbihcbiAgICAgICAgZmlsZVBhdGgsIGNvbmZpZ3VyYXRpb24ucGF0aC5pZ25vcmUuY29uY2F0KFxuICAgICAgICAgICAgY29uZmlndXJhdGlvbi5tb2R1bGUuZGlyZWN0b3J5TmFtZXMsXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uLmxvYWRlci5kaXJlY3RvcnlOYW1lc1xuICAgICAgICApLm1hcCgoZmlsZVBhdGg6c3RyaW5nKTpzdHJpbmcgPT4gcGF0aC5yZXNvbHZlKFxuICAgICAgICAgICAgY29uZmlndXJhdGlvbi5wYXRoLmNvbnRleHQsIGZpbGVQYXRoKVxuICAgICAgICApLmZpbHRlcigoZmlsZVBhdGg6c3RyaW5nKTpib29sZWFuID0+XG4gICAgICAgICAgICAhY29uZmlndXJhdGlvbi5wYXRoLmNvbnRleHQuc3RhcnRzV2l0aChmaWxlUGF0aCkpKVxufVxuY29uc3QgZXZhbHVhdGU6RnVuY3Rpb24gPSAoY29kZTpzdHJpbmcsIGZpbGVQYXRoOnN0cmluZyk6YW55ID0+IChuZXcgRnVuY3Rpb24oXG4gICAgJ2NvbmZpZ3VyYXRpb24nLCAnZmlsZVBhdGgnLCAnbG9hZGVyJywgJ3JlamVjdEZpbGVQYXRoSW5EZXBlbmRlbmNpZXMnLFxuICAgIGByZXR1cm4gJHtjb2RlfWBcbikpKGNvbmZpZ3VyYXRpb24sIGZpbGVQYXRoLCBsb2FkZXIsIHJlamVjdEZpbGVQYXRoSW5EZXBlbmRlbmNpZXMpXG4vLyAvIGVuZHJlZ2lvblxuLy8gZW5kcmVnaW9uXG4vLyByZWdpb24gY29uZmlndXJhdGlvblxuY29uc3Qgd2VicGFja0NvbmZpZ3VyYXRpb246V2VicGFja0NvbmZpZ3VyYXRpb24gPSB7XG4gICAgYmFpbDogdHJ1ZSxcbiAgICBjYWNoZTogY29uZmlndXJhdGlvbi5jYWNoZS5tYWluLFxuICAgIGNvbnRleHQ6IGNvbmZpZ3VyYXRpb24ucGF0aC5jb250ZXh0LFxuICAgIGRldnRvb2w6IGNvbmZpZ3VyYXRpb24uZGV2ZWxvcG1lbnQudG9vbCxcbiAgICBkZXZTZXJ2ZXI6IGNvbmZpZ3VyYXRpb24uZGV2ZWxvcG1lbnQuc2VydmVyLFxuICAgIC8vIHJlZ2lvbiBpbnB1dFxuICAgIGVudHJ5OiBjb25maWd1cmF0aW9uLmluamVjdGlvbi5pbnRlcm5hbC5ub3JtYWxpemVkLFxuICAgIGV4dGVybmFsczogY29uZmlndXJhdGlvbi5pbmplY3Rpb24uZXh0ZXJuYWwubW9kdWxlcyxcbiAgICByZXNvbHZlOiB7XG4gICAgICAgIGFsaWFzOiBjb25maWd1cmF0aW9uLm1vZHVsZS5hbGlhc2VzLFxuICAgICAgICBhbGlhc0ZpZWxkczogY29uZmlndXJhdGlvbi5wYWNrYWdlLmFsaWFzUHJvcGVydHlOYW1lcyxcbiAgICAgICAgZXh0ZW5zaW9uczogY29uZmlndXJhdGlvbi5leHRlbnNpb25zLmZpbGUuaW50ZXJuYWwsXG4gICAgICAgIG1haW5GaWVsZHM6IGNvbmZpZ3VyYXRpb24ucGFja2FnZS5tYWluLnByb3BlcnR5TmFtZXMsXG4gICAgICAgIG1haW5GaWxlczogY29uZmlndXJhdGlvbi5wYWNrYWdlLm1haW4uZmlsZU5hbWVzLFxuICAgICAgICBtb2R1bGVFeHRlbnNpb25zOiBjb25maWd1cmF0aW9uLmV4dGVuc2lvbnMubW9kdWxlLFxuICAgICAgICBtb2R1bGVzOiBIZWxwZXIubm9ybWFsaXplUGF0aHMoY29uZmlndXJhdGlvbi5tb2R1bGUuZGlyZWN0b3J5TmFtZXMpLFxuICAgICAgICB1bnNhZmVDYWNoZTogY29uZmlndXJhdGlvbi5jYWNoZS51bnNhZmVcbiAgICB9LFxuICAgIHJlc29sdmVMb2FkZXI6IHtcbiAgICAgICAgYWxpYXM6IGNvbmZpZ3VyYXRpb24ubG9hZGVyLmFsaWFzZXMsXG4gICAgICAgIGFsaWFzRmllbGRzOiBjb25maWd1cmF0aW9uLnBhY2thZ2UuYWxpYXNQcm9wZXJ0eU5hbWVzLFxuICAgICAgICBleHRlbnNpb25zOiBjb25maWd1cmF0aW9uLmxvYWRlci5leHRlbnNpb25zLmZpbGUsXG4gICAgICAgIG1haW5GaWVsZHM6IGNvbmZpZ3VyYXRpb24ucGFja2FnZS5tYWluLnByb3BlcnR5TmFtZXMsXG4gICAgICAgIG1haW5GaWxlczogY29uZmlndXJhdGlvbi5wYWNrYWdlLm1haW4uZmlsZU5hbWVzLFxuICAgICAgICBtb2R1bGVFeHRlbnNpb25zOiBjb25maWd1cmF0aW9uLmxvYWRlci5leHRlbnNpb25zLm1vZHVsZSxcbiAgICAgICAgbW9kdWxlczogY29uZmlndXJhdGlvbi5sb2FkZXIuZGlyZWN0b3J5TmFtZXNcbiAgICB9LFxuICAgIC8vIGVuZHJlZ2lvblxuICAgIC8vIHJlZ2lvbiBvdXRwdXRcbiAgICBvdXRwdXQ6IHtcbiAgICAgICAgZmlsZW5hbWU6IHBhdGgucmVsYXRpdmUoXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uLnBhdGgudGFyZ2V0LmJhc2UsXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uLmZpbGVzLmNvbXBvc2UuamF2YVNjcmlwdCksXG4gICAgICAgIGhhc2hGdW5jdGlvbjogY29uZmlndXJhdGlvbi5oYXNoQWxnb3JpdGhtLFxuICAgICAgICBsaWJyYXJ5OiBsaWJyYXJ5TmFtZSxcbiAgICAgICAgbGlicmFyeVRhcmdldDogKFxuICAgICAgICAgICAgY29uZmlndXJhdGlvbi5naXZlbkNvbW1hbmRMaW5lQXJndW1lbnRzWzJdID09PSAnYnVpbGRETEwnXG4gICAgICAgICkgPyAndmFyJyA6IGNvbmZpZ3VyYXRpb24uZXhwb3J0Rm9ybWF0LnNlbGYsXG4gICAgICAgIHBhdGg6IGNvbmZpZ3VyYXRpb24ucGF0aC50YXJnZXQuYmFzZSxcbiAgICAgICAgcHVibGljUGF0aDogY29uZmlndXJhdGlvbi5wYXRoLnRhcmdldC5wdWJsaWMsXG4gICAgICAgIHBhdGhpbmZvOiBjb25maWd1cmF0aW9uLmRlYnVnLFxuICAgICAgICB1bWROYW1lZERlZmluZTogdHJ1ZVxuICAgIH0sXG4gICAgcGVyZm9ybWFuY2U6IGNvbmZpZ3VyYXRpb24ucGVyZm9ybWFuY2VIaW50cyxcbiAgICB0YXJnZXQ6IGNvbmZpZ3VyYXRpb24udGFyZ2V0VGVjaG5vbG9neSxcbiAgICAvLyBlbmRyZWdpb25cbiAgICBtb2R1bGU6IHtcbiAgICAgICAgcnVsZXM6IGNvbmZpZ3VyYXRpb24ubW9kdWxlLmFkZGl0aW9uYWwubWFwKChcbiAgICAgICAgICAgIGxvYWRlckNvbmZpZ3VyYXRpb246UGxhaW5PYmplY3RcbiAgICAgICAgKTpQbGFpbk9iamVjdCA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGV4Y2x1ZGU6IChmaWxlUGF0aDpzdHJpbmcpOmJvb2xlYW4gPT4gZXZhbHVhdGUoXG4gICAgICAgICAgICAgICAgICAgIGxvYWRlckNvbmZpZ3VyYXRpb24uZXhjbHVkZSB8fCAnZmFsc2UnLCBmaWxlUGF0aCksXG4gICAgICAgICAgICAgICAgaW5jbHVkZTogbG9hZGVyQ29uZmlndXJhdGlvbi5pbmNsdWRlICYmIGV2YWx1YXRlKFxuICAgICAgICAgICAgICAgICAgICBsb2FkZXJDb25maWd1cmF0aW9uLmluY2x1ZGUsIGNvbmZpZ3VyYXRpb24ucGF0aC5jb250ZXh0XG4gICAgICAgICAgICAgICAgKSB8fCBjb25maWd1cmF0aW9uLnBhdGguc291cmNlLmJhc2UsXG4gICAgICAgICAgICAgICAgdGVzdDogbmV3IFJlZ0V4cChldmFsdWF0ZShcbiAgICAgICAgICAgICAgICAgICAgbG9hZGVyQ29uZmlndXJhdGlvbi50ZXN0LCBjb25maWd1cmF0aW9uLnBhdGguY29udGV4dCkpLFxuICAgICAgICAgICAgICAgIHVzZTogbG9hZGVyQ29uZmlndXJhdGlvbi51c2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkuY29uY2F0KFtcbiAgICAgICAgICAgIGxvYWRlci5zY3JpcHQsXG4gICAgICAgICAgICBsb2FkZXIuaHRtbC5tYWluLCBsb2FkZXIuaHRtbC5wdWcsIGxvYWRlci5odG1sLmh0bWwsXG4gICAgICAgICAgICBsb2FkZXIuc3R5bGUsXG4gICAgICAgICAgICBsb2FkZXIuZm9udC5lb3QsIGxvYWRlci5mb250LnN2ZywgbG9hZGVyLmZvbnQudHRmLFxuICAgICAgICAgICAgbG9hZGVyLmZvbnQud29mZixcbiAgICAgICAgICAgIGxvYWRlci5pbWFnZSxcbiAgICAgICAgICAgIGxvYWRlci5kYXRhXG4gICAgICAgIF0pXG4gICAgfSxcbiAgICBwbHVnaW5zOiBwbHVnaW5JbnN0YW5jZXMuY29uY2F0KG5ldyB3ZWJwYWNrLkxvYWRlck9wdGlvbnNQbHVnaW4oe1xuICAgICAgICAvKlxuICAgICAgICAgICAgTGV0IHRoZSBcImh0bWwtbG9hZGVyXCIgYWNjZXNzIGZ1bGwgaHRtbCBtaW5pZmllciBwcm9jZXNzaW5nXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uLlxuICAgICAgICAqL1xuICAgICAgICBodG1sOiBjb25maWd1cmF0aW9uLm1vZHVsZS5vcHRpbWl6ZXIuaHRtbE1pbmlmaWVyLFxuICAgICAgICBwdWc6IGNvbmZpZ3VyYXRpb24ubW9kdWxlLnByZXByb2Nlc3Nvci5odG1sLm9wdGlvbnNcbiAgICB9KSlcbn1cbmlmICghQXJyYXkuaXNBcnJheShcbiAgICBjb25maWd1cmF0aW9uLm1vZHVsZS5za2lwUGFyc2VSZWd1bGFyRXhwcmVzc2lvbnNcbikgfHwgY29uZmlndXJhdGlvbi5tb2R1bGUuc2tpcFBhcnNlUmVndWxhckV4cHJlc3Npb25zLmxlbmd0aClcbiAgICB3ZWJwYWNrQ29uZmlndXJhdGlvbi5tb2R1bGUubm9QYXJzZSA9XG4gICAgICAgIGNvbmZpZ3VyYXRpb24ubW9kdWxlLnNraXBQYXJzZVJlZ3VsYXJFeHByZXNzaW9uc1xuaWYgKGNvbmZpZ3VyYXRpb24uc2hvd0NvbmZpZ3VyYXRpb24pIHtcbiAgICBjb25zb2xlLmluZm8oJ1VzaW5nIGludGVybmFsIGNvbmZpZ3VyYXRpb246JywgdXRpbC5pbnNwZWN0KGNvbmZpZ3VyYXRpb24sIHtcbiAgICAgICAgZGVwdGg6IG51bGx9KSlcbiAgICBjb25zb2xlLmluZm8oJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJylcbiAgICBjb25zb2xlLmluZm8oJ1VzaW5nIHdlYnBhY2sgY29uZmlndXJhdGlvbjonLCB1dGlsLmluc3BlY3QoXG4gICAgICAgIHdlYnBhY2tDb25maWd1cmF0aW9uLCB7ZGVwdGg6IG51bGx9KSlcbn1cbi8vIGVuZHJlZ2lvblxuZXhwb3J0IGRlZmF1bHQgd2VicGFja0NvbmZpZ3VyYXRpb25cbi8vIHJlZ2lvbiB2aW0gbW9kbGluZVxuLy8gdmltOiBzZXQgdGFic3RvcD00IHNoaWZ0d2lkdGg9NCBleHBhbmR0YWI6XG4vLyB2aW06IGZvbGRtZXRob2Q9bWFya2VyIGZvbGRtYXJrZXI9cmVnaW9uLGVuZHJlZ2lvbjpcbi8vIGVuZHJlZ2lvblxuIl19